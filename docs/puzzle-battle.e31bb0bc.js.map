{"version":3,"sources":["src/types.ts","src/util.ts","src/premove.ts","src/board.ts","src/fen.ts","src/config.ts","src/anim.ts","src/draw.ts","src/drag.ts","src/explosion.ts","src/api.ts","src/state.ts","src/svg.ts","src/wrap.ts","src/drop.ts","src/events.ts","src/render.ts","src/chessground.ts","protocol.js","host.js","guest.js","../node_modules/peerjs-js-binarypack/lib/bufferbuilder.js","../node_modules/peerjs-js-binarypack/lib/binarypack.js","../node_modules/webrtc-adapter/src/js/utils.js","../node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","../node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js","../node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","../node_modules/webrtc-adapter/src/js/edge/filtericeservers.js","../node_modules/sdp/sdp.js","../node_modules/rtcpeerconnection-shim/rtcpeerconnection.js","../node_modules/webrtc-adapter/src/js/edge/getusermedia.js","../node_modules/webrtc-adapter/src/js/edge/getdisplaymedia.js","../node_modules/webrtc-adapter/src/js/edge/edge_shim.js","../node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","../node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js","../node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","../node_modules/webrtc-adapter/src/js/safari/safari_shim.js","../node_modules/webrtc-adapter/src/js/common_shim.js","../node_modules/webrtc-adapter/src/js/adapter_factory.js","../node_modules/webrtc-adapter/src/js/adapter_core.js","adapter.ts","supports.ts","util.ts","../node_modules/eventemitter3/index.js","logger.ts","enums.ts","socket.ts","negotiator.ts","baseconnection.ts","mediaconnection.ts","encodingQueue.ts","dataconnection.ts","api.ts","peer.ts","exports.ts","index.js"],"names":["processData","data","console","log","dataArr","split","command","board","document","getElementById","coords","x","y","cursor","style","left","parseInt","getBoundingClientRect","top","lastPeerId","peer","peerId","conn","status","initialize","Peer","debug","on","id","window","history","pushState","path","location","pathname","innerHTML","c","ready","_lastServerId","reconnect","err","addEventListener","e","send","offsetX","offsetY","setTimeout","close","connectButton","join","recvIdInput","connect","value","reliable","logDisabled_","deprecationWarnings_","extractVersion","uastring","expr","pos","match","length","wrapPeerConnectionEvent","eventNameToWrap","wrapper","RTCPeerConnection","proto","prototype","nativeAddEventListener","nativeEventName","cb","apply","arguments","wrappedCallback","modifiedEvent","_eventMap","nativeRemoveEventListener","removeEventListener","unwrappedCb","Object","defineProperty","get","set","enumerable","configurable","disableLog","bool","Error","disableWarnings","deprecated","oldMethod","newMethod","warn","detectBrowser","navigator","result","browser","version","mozGetUserMedia","userAgent","webkitGetUserMedia","isSecureContext","webkitRTCPeerConnection","RTCIceGatherer","mediaDevices","supportsUnifiedPlan","RTCRtpTransceiver","isObject","val","toString","call","compactObject","keys","reduce","accumulator","key","isObj","isEmptyObject","undefined","assign","walkStats","stats","base","resultSet","has","forEach","name","endsWith","filterStats","track","outbound","streamStatsType","filteredResult","Map","trackStats","type","trackIdentifier","push","trackStat","trackId","logging","utils","shimGetUserMedia","browserDetails","constraintsToChrome_","mandatory","optional","cc","r","ideal","exact","min","max","oldname_","prefix","charAt","toUpperCase","slice","oc","mix","advanced","concat","shimConstraints_","constraints","func","JSON","parse","stringify","audio","remap","obj","a","b","video","face","facingMode","getSupportedFacingModeLies","matches","getSupportedConstraints","enumerateDevices","then","devices","dev","filter","d","kind","find","some","label","toLowerCase","includes","deviceId","shimError_","PermissionDeniedError","PermissionDismissedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","TabCaptureError","ScreenCaptureError","DeviceCaptureError","message","constraint","constraintName","getUserMedia","onSuccess","onError","bind","origGetUserMedia","cs","stream","getAudioTracks","getVideoTracks","getTracks","stop","DOMException","Promise","reject","shimGetDisplayMedia","getSourceId","getDisplayMedia","sourceId","widthSpecified","width","heightSpecified","height","frameRateSpecified","frameRate","chromeMediaSource","chromeMediaSourceId","maxFrameRate","maxWidth","maxHeight","error","shimMediaStream","MediaStream","webkitMediaStream","shimOnTrack","transceiver","receiver","_ontrack","f","origSetRemoteDescription","setRemoteDescription","_ontrackpoly","te","getReceivers","event","Event","streams","dispatchEvent","shimGetSendersWithDtmf","shimSenderWithDtmf","pc","dtmf","_dtmf","createDTMFSender","_pc","getSenders","_senders","origAddTrack","addTrack","sender","origRemoveTrack","removeTrack","idx","indexOf","splice","origAddStream","addStream","origRemoveStream","removeStream","s","RTCRtpSender","origGetSenders","senders","shimGetStats","origGetStats","getStats","selector","onSucc","onErr","fixChromeStats_","response","standardReport","report","standardStats","timestamp","localcandidate","remotecandidate","names","stat","makeMapStats","map","resolve","shimSenderReceiverGetStats","RTCRtpReceiver","origGetReceivers","receivers","srcElement","MediaStreamTrack","shimAddTrackRemoveTrackWithNative","getLocalStreams","_shimmedLocalStreams","streamId","alreadyExists","existingSenders","newSenders","newSender","shimAddTrackRemoveTrack","origGetLocalStreams","nativeStreams","_reverseStreams","_streams","newStream","signalingState","t","oldStream","method","nativeMethod","methodObj","args","isLegacyCall","description","desc","replaceInternalStreamId","origSetLocalDescription","setLocalDescription","sdp","internalId","externalStream","internalStream","replace","RegExp","RTCSessionDescription","replaceExternalStreamId","origLocalDescription","getOwnPropertyDescriptor","streamid","shimPeerConnection","RTCIceCandidate","nativeAddIceCandidate","addIceCandidate","candidate","fixNegotiationNeeded","target","filterIceServers","iceServers","edgeVersion","hasTurn","server","urls","url","isString","validTurn","startsWith","SDPUtils","require","fixStatsType","inboundrtp","outboundrtp","candidatepair","writeMediaSection","caps","dtlsRole","writeRtpDescription","writeIceParameters","iceGatherer","getLocalParameters","writeDtlsParameters","dtlsTransport","mid","rtpSender","rtpReceiver","_initialTrackId","msid","sendEncodingParameters","ssrc","rtx","localCName","getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","codecs","headerExtensions","fecMechanisms","findCodecByPayloadType","pt","i","payloadType","preferredPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","parameters","apt","rCodec","clockRate","numChannels","Math","rtcpFeedback","fb","j","parameter","lHeaderExtension","rHeaderExtension","uri","isActionAllowedInSignalingState","action","offer","answer","maybeAddCandidate","iceTransport","alreadyAdded","getRemoteCandidates","remoteCandidate","foundation","ip","port","priority","protocol","addRemoteCandidate","makeError","code","NotSupportedError","InvalidAccessError","TypeError","OperationError","module","exports","addTrackToStreamAndFireEvent","MediaStreamTrackEvent","fireAddTrack","trackEvent","_dispatchEvent","config","_eventTarget","createDocumentFragment","canTrickleIceCandidates","needNegotiation","localStreams","remoteStreams","_localDescription","_remoteDescription","iceConnectionState","connectionState","iceGatheringState","usingBundle","bundlePolicy","rtcpMuxPolicy","iceTransportPolicy","_iceGatherers","iceCandidatePoolSize","gatherPolicy","_config","transceivers","_sdpSessionId","generateSessionId","_sdpSessionVersion","_dtlsRole","_isClosed","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onconnectionstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","_emitGatheringStateChange","getConfiguration","getRemoteStreams","_createTransceiver","doNotAdd","hasBundleTransport","recvEncodingParameters","associatedRemoteMediaStreams","wantReceive","transports","_createIceAndDtlsTransports","_maybeFireNegotiationNeeded","clonedStream","clone","clonedTrack","enabled","_createIceGatherer","sdpMLineIndex","shift","writable","bufferedCandidateEvents","bufferCandidates","end","state","_gather","onlocalcandidate","evt","sdpMid","cand","component","ufrag","usernameFragment","serializedCandidate","writeCandidate","parseCandidate","toJSON","sections","getMediaSections","getDescription","complete","every","RTCIceTransport","onicestatechange","_updateIceConnectionState","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_disposeIceAndDtlsTransports","_transceive","recv","params","encodings","rtcp","cname","compound","rtcpParameters","p","receive","sessionpart","splitSections","mediaSection","parseRtpParameters","isIceLite","matchPrefix","isRejected","rejected","remoteIceParameters","getIceParameters","remoteDtlsParameters","getDtlsParameters","role","start","_updateSignalingState","receiverList","iceOptions","substr","lines","splitLines","getKind","direction","getDirection","remoteMsid","parseMsid","getMid","generateIdentifier","parseRtpEncodingParameters","parseRtcpParameters","isComplete","cands","setTransport","setRemoteCandidates","default","getCapabilities","codec","isNewTrack","nativeTrack","sid","item","newState","states","closed","checking","connected","completed","disconnected","failed","new","connecting","createOffer","numAudioTracks","numVideoTracks","offerOptions","offerToReceiveAudio","offerToReceiveVideo","writeSessionBoilerplate","remoteCodec","hdrExt","rHdrExt","getLocalCandidates","createAnswer","mediaSectionsInOffer","localTrack","reducedSize","candidateString","trim","senderOrReceiver","promises","all","allStats","results","ortcObjectName","nativeGetstats","nativeStats","mapStats","methods","catch","origMSTEnabled","ev","RTCDtmfSender","RTCDTMFSender","RTCPeerConnectionShim","shimReplaceTrack","replaceTrack","setTrack","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","preferredMediaSource","mediaSource","RTCTrackEvent","mozRTCPeerConnection","modernStatsTypes","nativeGetStats","shimSenderGetStats","shimReceiverGetStats","shimRemoveStream","shimRTCDataChannel","DataChannel","RTCDataChannel","shimAddTransceiver","origAddTransceiver","addTransceiver","setParametersPromises","initParameters","shouldPerformCheck","sendEncodings","encodingParam","test","rid","parseFloat","scaleResolutionDownBy","RangeError","maxFramerate","getParameters","setParameters","shimCreateOffer","origCreateOffer","finally","shimCreateAnswer","origCreateAnswer","shimLocalStreamsAPI","_localStreams","_addTrack","index","tracks","shimRemoteStreamsAPI","_remoteStreams","_onaddstream","_onaddstreampoly","shimCallbacksAPI","successCallback","failureCallback","options","promise","withCallback","_getUserMedia","shimConstraints","errcb","shimRTCIceServerUrls","OrigPeerConnection","pcConfig","pcConstraints","newIceServers","hasOwnProperty","generateCertificate","shimTrackEventTransceiver","shimCreateOfferLegacy","audioTransceiver","getTransceivers","setDirection","videoTransceiver","shimRTCIceCandidate","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","shimMaxMessageSize","_sctp","sctpInDescription","sdpSemantics","mLine","parseMLine","isFirefox","maxMessageSize","getRemoteFirefoxVersion","canSendMMS","remoteIsFirefox","canSendMaxMessageSize","remoteMMS","getMaxMessageSize","Number","POSITIVE_INFINITY","sctp","shimSendThrowTypeError","origCreateDataChannel","createDataChannel","dataChannel","wrapDcSend","channel","dc","origDataChannelSend","size","byteLength","readyState","shimConnectionState","_onconnectionstatechange","origMethod","_connectionstatechangepoly","_lastConnectionState","newEvent","removeAllowExtmapMixed","nativeSRD","line","adapterFactory","shimChrome","shimFirefox","shimEdge","shimSafari","adapter","commonShim","chromeShim","browserShim","firefoxShim","edgeShim","safariShim","hot","accept","fen","ground"],"mappings":"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CEGhB,ADDT,AF6FwB,CMzEvB,AHnBS,AEmFO,AEhCd,ALpDF,CIoBC,AHnB+B,ADD/B,AF6FwB,EG5FS,CH4FN,COzCrB,ASvDD,AHAoB,CVIW,AEmFP,ALSA,CQhGX,ADuDV,AOtDY,ACDhB,AdC4B,CKsBzB,ALtB0B,CKsBzB,AWxBQ,ALIR,AZ6FwB,CMzEvB,AHnBsC,ASDtC,CNoBC,AIvBS,AVgGe,EOzCpB,CPyCuB,AC/FE,CMsDvB,ANtDwB,CD+FD,EMzEtB,ALtB0B,CKsBzB,ANyEwB,CC/FG,CD+FD,AC/FE,EMsDtB,CAAC,APyCsB,COzCrB,CPyCuB,AC/FE,CKsBzB,ALtB0B,EKsBxB,ANyEwB,CAAC,AC/FE,CD+FD,AC/FE,CAAC,CAAC,CKsBzB,CAAC,ALtB0B,CKsBzB,ALtB0B,CKsBzB,AFvBe,CEuBd,AFvBe,AQGf,AXF0B,CAAC,CWEzB,INoBI,ALtB0B,CKsBzB,ALtB0B,EWExB,CAAC,AXF0B,CWEzB,AXF0B,CAAC,CAAC,EKsBxB,ALtB0B,CAAC,CKsBzB,ALtB0B,GAAG,CAAC,CKsBzB,ALtB0B,CKsBzB,ALtB0B,CKsBzB,ALtB0B,CAAC;AsBIjH,AgCNA,AjDyBA,AIvBA,AOAA,ATCA,ADuDA,AOtDA,ACFA,AXCA,AFEA,AcOA,AJPA,AXDa,AYAb,CPqBC,AJpBA,AUAA,GTCC,AMFA,AE+FA,EPhGI,EDGA,AFFO,CEEN,AIoDS,AOtDA,AEQA,AHRA,ETDL,AOgGF,EYqJR,ChB9LoB,AEtDT,ALDiC,CGuDvB,AEtDT,AOQS,AfRF,CGD2B,AYSxB,CZTyB,AYSjB,CPRf,ARAO,CGD2B,AHC1B,AYAE,CNsDQ,AOtDP,ALAT,AIAS,CCAC,CSoP3B,AhB9LmC,AOtDA,AbAD,CMsDiB,CgB8LnD,ATpPqC,AbAO,CGDW,CmBqPvD,AtBpP8C,CGDW,AHCV,AYAD,CUoP9C,AnBrP0D,CUCL,ADAL,CTDY,ASCJ,CUoPxD,CVpP0D,CHFtB,AOAD,ATCP,AODS,GXC6B,EmBqPlE,AnBrPoE,CAAC,CSCM,CTDJ,CHCjB,CsBoPtD,AtBpPuD,CAAC,CsBoPxD,EtBpP2D,EGDoB,CHCjB,C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3C,EAAO8B,QAAQ,SAAAJ,GACTA,EAAMc,OAASJ,GAAmBV,EAAMkB,UAAYD,EAAU9G,IAChE4F,EAAUzB,EAAQ0B,EAAOW,OAIxBA;AJzPT,AbyBA,AIpBA,AOAA,ATeA,AOVA,AXHA,AFEA,AUJA,AXGa,IIqFX,AE/BA,AOvDA,AEQA,AHEA,CCVC,CAAC,AVAE,EDCG,AIsDH,AEvDF,AE+FA,AV9FS,COYG,AD0CT,AQpDS,AbDP,CKqDD,AS/CA,CHEC,CAAC,CTVG,AFEA,CGoFP,AGzEe,AMbT,AZEE,AS6FJ,CHlFY,APZF,COYU,ACblB,ALAI,AO+FJ,CJxCG,AOvDA,ALAF,AOQE,CbPI,AKYa,AOVP,AXHP,AHCK,CEAH,AKY4B,AOVtB,AbDG,AS6Fd,AV9FS,CKmBvB,ADkEW,AUnFsB,ACKP,ALuFX,AV9FiB,CIqFpB,AE/BM,AM7CA,CVTI,AIsDH,AQpDgB,ANHlB,ALAI,AHCqB,CMsDtB,CJtDI,AMDL,ALAI,AO+FJ,AV9FyB,AYSvB,CVTI,AMDL,AE+FA,AV9FyB,CEAnB,AMDL,ARCyB,AYSvB,CVTI,AMDL,ALAI,AHCqB,AYSvB,CR4EL,AMSI,AV9FyB,CGDpB,AO+FJ,CR9FM,AIsDH,CAAC,EGzD8B,ANE1B,CDCE,CAAC,AcHF,AFK2B,AXH1B,CYQA,ALuFH,CR9FM,AIsDH,AS/CC,ALuFH,CR9FM,ACDD,AYQD,AJRpC,AXC0D,CEAnB,AaOF,AfPsB,CEAnB,AIsDH,AHvDE,AHCqB,CMsDtB,AS9CrC,AfR4D,GAAG,EGDnB,AHCqB,EGDnB,AHCqB,CAAC,CAAC,CGDpB,EAAE,EYSrC,GAAG,CZTwC,AYSvC,CAAC,AfR4D,CGDpB,AHCqB,CAAC,CeQ3D,AfR4D,CGDpB,AYSvC,EZTyC,AHCqB,EAAE,CAAC,CIqFpE,AJrFqE,CGDpB,CYStC,CZTwC,AYSvC,CAAC,CX6ER,AW7ES,CZTwC,EAAE,CYStC,CAAC,EZTyC,EAAE,GAAG,EAAE,CAAC,OYShC,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,EACjG,SAAS,GAAG,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,EAClE,OAAO,GAAgB,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,EAC3C,MAAM,GAAc,CAAC,CAAC,MAAM,EAC5B,OAAO,GAA4B,CAAC,CAAC,SAAS,CAAC,OAAO,EACtD,KAAK,GAAgB,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,EAC7D,OAAO,GAAgB,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,EACjE,OAAO,GAA4B,CAAC,CAAC,SAAS,CAAC,OAAO,EACtD,OAAO,GAAkB,oBAAoB,CAAC,CAAC,CAAC,EAChD,UAAU,GAAgB,IAAI,GAAG,EAAE,EACnC,WAAW,GAAgB,IAAI,GAAG,EAAE,EACpC,WAAW,GAAmC,IAAI,GAAG,EAAE,EACvD,YAAY,GAAiC,IAAI,GAAG,EAAE,CAAC;AQpBzD,AJRA,AmCGA,AjD0BA,AItBA,APEA,AcHA,AbGA,AQYA,AXXA,CEDC,GKaC,AOVA,AbFA,AcmBA,AHNA,IRsE2B,AGvEvB,ADwCmC,AOtDrC,ALAA,AOqBE,AL0EF,CL1EY,AEPT,AJbS,AYoBD,AJRC,AXXA,COYR,AOVA,CbFC,AcoBP,AHPO,CXbC,AWaA,CWsKT,AnBhGiC,ADpFd,AYqB0B,AfpB1B,CImFe,ASrFzB,AVCW,AFCT,ADAY,CKmBF,ACiC0B,AS/B9C,AfrBgC,CKmBR,AEPZ,AMdF,AZEE,CaEC,AXHiB,CKDlB,APEE,AUWS,CHbV,AE+FA,AClFW,CYwKzB,AVrLe,ACIE,AbFA,CGmFwB,AGvEvB,AOVA,AJ2FF,AEhFE,CRsEwB,AUjFvB,ANJF,APEE,AWaA,EPM2B,AGrB3B,APEE,AUWgB,CGTf,ANJF,AOuBa,AHRX,CPM0B,ASjBzB,AbFA,AUWgB,ACEhB,CRsEwB,AW7D9C,CdtBwB,AS6FF,ENV2B,AGvEvB,ANZA,AUW4B,CNQK,AJnBhC,EOFA,CDcG,AOVA,ANJF,CeqL7B,AhBvKgC,AOVA,AbFA,AWaA,CLDC,ANZA,AWaA,CIjBc,AJiBb,CXbC,AcsBZ,CX6DoC,AIrFzB,CJqF0B,AUjFvB,AbFA,AcuBpC,CDrBqC,ANJF,CDcG,ANZA,CsBmLvC,AdtLsC,ARGE,CcuBX,EdvBc,AcwB1C,CRZ2C,ANZA,CMYC,ECdA,CAAC,APEE,CAC7C,AcuB0B,CP1BmB,CO2B/C,EQ0JD,AfrLmD,CeqLnD,AfrLoD,APG5C,COH6C,GO2BjB,CdxBvB,CcyBZ,CQyJD,GRzJ+B,CQyJ/B,CtBlLoB,Ac0BnB,Cd1BoB,CAAC,CAAC,CAElB,EAAE,CsBgLP,ARxJqC,EACpC,EdzBW,EAAE,AcyBkB,CAAC,EdzBhB,CAAC,IAAI,CAAC,EsBgLvB,AtBhLyB,EsBJ1B,EtBI8B,CAAC,CsBJ/B,EAAA,CtBImC,CsBJnC,CtBIqC,KAAK,CAAC,CsBJ3C,CtBI6C,GAAG,CAAC,CAAC,IAAI,EAAE,IsBgLvD,CtBhL4D,EAAE,CAAC,CAC3D,CAAC,CAAC,CAAC,CsB+KP,AtB9KK,EAAE,EsB8KP,GAAA,AtB9KY,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CsB8K9B,GtB9KkC,EAAE,GsB8KpC,EtB9KyC,CAAC,EAAE,EsB8K5C,CtB9K+C,CAAC,CAAC,EsB8KjD,EtB9KqD,EsB8KrD,AtB9KuD,EsB8KvD,GtB9K4D,CsB8K5D,CtB9K8D,CAAC,CAC3D,CACF,CAAC,GsB4KH,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,SAAA,EAAA,GAAA,OAAA,EAAA,mBAAA,QAAA,iBAAA,OAAA,SAAA,SAAA,GAAA,cAAA,GAAA,SAAA,GAAA,OAAA,GAAA,mBAAA,QAAA,EAAA,cAAA,QAAA,IAAA,OAAA,UAAA,gBAAA,IAAA,GAnLD,IAAMQ,EAAUC,EAAM1I,IAEf,SAAS2I,EAAiBjH,GACzBiE,IAAAA,EAAYjE,GAAUA,EAAOiE,UAE/B,GAACA,EAAUU,aAAX,CAIEuC,IAAAA,EAAiBF,EAAMhD,cAAchE,GAErCmH,EAAuB,SAAS5G,GAChC,GAAa,WAAb,EAAOA,IAAkBA,EAAE6G,WAAa7G,EAAE8G,SACrC9G,OAAAA,EAEH+G,IAAAA,EAAK,GA4CJA,OA3CPpE,OAAOiC,KAAK5E,GAAGyF,QAAQ,SAAAV,GACjBA,GAAQ,YAARA,GAA6B,aAARA,GAA8B,gBAARA,EAA3CA,CAGEiC,IAAAA,EAAuB,WAAlB,EAAOhH,EAAE+E,IAAqB/E,EAAE+E,GAAO,CAACkC,MAAOjH,EAAE+E,SAC5CG,IAAZ8B,EAAEE,OAA0C,iBAAZF,EAAEE,QACpCF,EAAEG,IAAMH,EAAEI,IAAMJ,EAAEE,OAEdG,IAAAA,EAAW,SAASC,EAAQ5B,GAC5B4B,OAAAA,EACKA,EAAS5B,EAAK6B,OAAO,GAAGC,cAAgB9B,EAAK+B,MAAM,GAE3C,aAAT/B,EAAuB,WAAaA,GAE1CsB,QAAY9B,IAAZ8B,EAAEC,MAAqB,CACzBF,EAAGD,SAAWC,EAAGD,UAAY,GACzBY,IAAAA,EAAK,GACc,iBAAZV,EAAEC,OACXS,EAAGL,EAAS,MAAOtC,IAAQiC,EAAEC,MAC7BF,EAAGD,SAAST,KAAKqB,IACjBA,EAAK,IACFL,EAAS,MAAOtC,IAAQiC,EAAEC,MAC7BF,EAAGD,SAAST,KAAKqB,KAEjBA,EAAGL,EAAS,GAAItC,IAAQiC,EAAEC,MAC1BF,EAAGD,SAAST,KAAKqB,SAGLxC,IAAZ8B,EAAEE,OAA0C,iBAAZF,EAAEE,OACpCH,EAAGF,UAAYE,EAAGF,WAAa,GAC/BE,EAAGF,UAAUQ,EAAS,GAAItC,IAAQiC,EAAEE,OAEnC,CAAA,MAAO,OAAOzB,QAAQ,SAAAkC,QACNzC,IAAX8B,EAAEW,KACJZ,EAAGF,UAAYE,EAAGF,WAAa,GAC/BE,EAAGF,UAAUQ,EAASM,EAAK5C,IAAQiC,EAAEW,SAKzC3H,EAAE4H,WACJb,EAAGD,UAAYC,EAAGD,UAAY,IAAIe,OAAO7H,EAAE4H,WAEtCb,GAGHe,EAAmB,SAASC,EAAaC,GACzCrB,GAAAA,EAAe9C,SAAW,GACrBmE,OAAAA,EAAKD,GAGVA,IADJA,EAAcE,KAAKC,MAAMD,KAAKE,UAAUJ,MACQ,WAA7B,EAAOA,EAAYK,OAAoB,CAClDC,IAAAA,EAAQ,SAASC,EAAKC,EAAGC,GACzBD,KAAKD,KAASE,KAAKF,KACrBA,EAAIE,GAAKF,EAAIC,UACND,EAAIC,KAIfF,GADAN,EAAcE,KAAKC,MAAMD,KAAKE,UAAUJ,KACtBK,MAAO,kBAAmB,uBAC5CC,EAAMN,EAAYK,MAAO,mBAAoB,wBAC7CL,EAAYK,MAAQxB,EAAqBmB,EAAYK,OAEnDL,GAAAA,GAA4C,WAA7B,EAAOA,EAAYU,OAAoB,CAEpDC,IAAAA,EAAOX,EAAYU,MAAME,WAC7BD,EAAOA,IAA0B,WAAhB,EAAOA,GAAqBA,EAAO,CAACzB,MAAOyB,IACtDE,IAQAC,EARAD,EAA6BjC,EAAe9C,QAAU,GAEvD6E,GAAAA,IAAwB,SAAfA,EAAKxB,OAAmC,gBAAfwB,EAAKxB,OACf,SAAfwB,EAAKzB,OAAmC,gBAAfyB,EAAKzB,UACtCvD,EAAUU,aAAa0E,0BACvBpF,EAAUU,aAAa0E,0BAA0BH,YAChDC,GAQDC,UAPGd,EAAYU,MAAME,WAEN,gBAAfD,EAAKxB,OAA0C,gBAAfwB,EAAKzB,MACvC4B,EAAU,CAAC,OAAQ,QACK,SAAfH,EAAKxB,OAAmC,SAAfwB,EAAKzB,QACvC4B,EAAU,CAAC,UAETA,EAEKnF,OAAAA,EAAUU,aAAa2E,mBAC7BC,KAAK,SAAAC,GAEAC,IAAAA,GADJD,EAAUA,EAAQE,OAAO,SAAAC,GAAKA,MAAW,eAAXA,EAAEC,QACdC,KAAK,SAAAF,GAAKP,OAAAA,EAAQU,KAAK,SAAA/H,GACvC4H,OAAAA,EAAEI,MAAMC,cAAcC,SAASlI,OAU1BwG,OATFkB,GAAOD,EAAQxH,QAAUoH,EAAQa,SAAS,UAC7CR,EAAMD,EAAQA,EAAQxH,OAAS,IAE7ByH,IACFnB,EAAYU,MAAMkB,SAAWjB,EAAKxB,MAAQ,CAACA,MAAOgC,EAAIS,UACZ,CAAC1C,MAAOiC,EAAIS,WAExD5B,EAAYU,MAAQ7B,EAAqBmB,EAAYU,OACrDjC,EAAQ,WAAayB,KAAKE,UAAUJ,IAC7BC,EAAKD,KAIlBA,EAAYU,MAAQ7B,EAAqBmB,EAAYU,OAGhDT,OADPxB,EAAQ,WAAayB,KAAKE,UAAUJ,IAC7BC,EAAKD,IAGR6B,EAAa,SAAStJ,GACtBqG,OAAAA,EAAe9C,SAAW,GACrBvD,EAEF,CACLoF,KAAM,CACJmE,sBAAuB,kBACvBC,yBAA0B,kBAC1BC,kBAAmB,kBACnBC,qBAAsB,gBACtBC,4BAA6B,uBAC7BC,gBAAiB,mBACjBC,+BAAgC,kBAChCC,wBAAyB,kBACzBC,gBAAiB,aACjBC,mBAAoB,aACpBC,mBAAoB,cACpBjK,EAAEoF,OAASpF,EAAEoF,KACf8E,QAASlK,EAAEkK,QACXC,WAAYnK,EAAEmK,YAAcnK,EAAEoK,eAC9BjG,SAAW,WACF,OAAA,KAAKiB,MAAQ,KAAK8E,SAAW,MAAQ,KAAKA,WAmBnD9G,GALJA,EAAUiH,aATY,SAAS5C,EAAa6C,EAAWC,GACrD/C,EAAiBC,EAAa,SAAA/H,GAC5B0D,EAAUM,mBAAmBhE,EAAG4K,EAAW,SAAAtK,GACrCuK,GACFA,EAAQjB,EAAWtJ,SAKYwK,KAAKpH,GAKxCA,EAAUU,aAAauG,aAAc,CACjCI,IAAAA,EAAmBrH,EAAUU,aAAauG,aAC5CG,KAAKpH,EAAUU,cACnBV,EAAUU,aAAauG,aAAe,SAASK,GACtClD,OAAAA,EAAiBkD,EAAI,SAAAhL,GAAK+K,OAAAA,EAAiB/K,GAAGgJ,KAAK,SAAAiC,GACpDjL,GAAAA,EAAEoI,QAAU6C,EAAOC,iBAAiBzJ,QACpCzB,EAAEyI,QAAUwC,EAAOE,iBAAiB1J,OAIhC,MAHNwJ,EAAOG,YAAY3F,QAAQ,SAAAI,GACzBA,EAAMwF,SAEF,IAAIC,aAAa,GAAI,iBAEtBL,OAAAA,GACN,SAAA3K,GAAKiL,OAAAA,QAAQC,OAAO5B,EAAWtJ;ALxLxC,AT8EA,APzEA,AcAA,AfWA,CAAC,GiBhBGvB,Ab4BF,ADiEA,AEhCA,AQjDA,ANLA,ALCA,AY+BA,AJlBA,AXZA,AYcA,CNsCC,AEtDA,CFsDC,AStBA,CPhCC,CDa2C,AMb5C,ACKE,AXJA,AO8FF,AV7FE,CSqEU,ALeT,AUjFA,AC2BA,Af9Be,AYcf,CPKC,ADiEA,AUjFA,ANLA,AGcA,AXZe,CcGd,ANLA,ALCA,AQaA,CHdC,CKAD,CKPK,AT8EO,AKlET,AHSA,CFyDU,ALeT,AGzE0C,AOR1C,AFWA,CPKC,AFpBA,AY+BA,AHhBA,CMvBG,Ad6FF,AWtDA,AL+DF,EL1EI,AK0EF,ACjFE,CFyDiB,AEzDhB,ACEA,CMvBlB,AZ6DmB,CGiBiB,CLef,AEhCA,AQjDA,AXJA,CCqFC,AEhCA,CFgCC,CMSD,CL1EG,AShBA,AC2B4C,CVX3C,AShBA,AC2B4C,AJlB5C,CKhBG,AFOF,CHUzB,CFwDsD,EJlDzB,CAAC,AMN1B,ACCkB,CPKS,EMNxB,CGV2B,AHU1B,CAAC,GGV6B,EZLvC,ESeiB,EAChB,GAAG,GAAG,IGXgD,AHW5C,IGXgD,AHW5C,IAAI,CAAC,CGX6C,EAAE,IHWxC,CAAC,CAAC,CAAC,IAAiB,CAAC,CAAC,CAAC,SAAS,EAC1D,UAAU,GAAe,IAAI,GAAG,EAAE,EAClC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;AanB9B,ALNA,ADCA,AhBQA,AcHA,AREA,APUA,COVC,GWRGA,ADCAC,Ab4BF,AImDA,ALgBA,AG1EA,ADwCA,AStBA,AJbA,AXjBA,CMoDC,AOtDA,CPsDC,AOtDA,AZUE,EiBjBE,Ad+FF,AG1EA,AOTF,AXLmB,AO+FnB,AEhFsB,CPMnB,AHpBS,AKaT,AIKA,CNEC,AEPA,APZA,CkBTG,AfOe,AYgCjB,CdtBG,CuBXL,AnBsBI,AImDA,AMxCA,Af9BA,CmBVG,Ad6BF,ADmEA,AUnFF,AXLmB,CeP7B,Ad+Fa,AH9EY,AcsBZ,AJbA,ACJoB,CXLP,AUSZ,AXjBA,AYaoB,COvBjB,ADCA,AXqBF,CH0EC,AH9EY,CSqFb,AV7FK,CKmBF,ADmEA,AElCA,AL5CY,AUSZ,CQ3BlB,AZsBmB,AGiFF,AC5EE,AXjBG,CwBHNyM,AnBsBI,AEPA,ADwCA,AQjDF,AbKc,AUSZ,CNEC,AEPA,ADwCA,CkBvDehM,AvBWF,CaLb,AJ0FA,AEhFsB,CYhBCiM,AtBEX,ADSG,AWKQ,CVdV,CDSI,AUSZ,CanBpBjM,AVKoB,AXLU,AQmBT,CFqDC,AF1DA,AJdS,AFUG,CuBV3BiE,ARFkB,ATgBF,CLbiB,ADSJ,AWKQ,CAAC,CXLP,CaLJ,AHcP,CGdQ,AHcP,CJLC,AIKA,CAAC,EJLE,CiBdfU,AjBcgB,MKC0B,CDInB,CAAC,CAAC,ACJoB,CAAC,CEVZ,CAAC,AFUa,CEVZ,AFUa,CYdpE,AZcqE,CDInB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,ECJsB,CEVZ,AHcP,CGdQ,AHcP,CGdQ,AHcP,CAAC,CAAC,ACJoB,CAAC,CDInB,ACJoB,CDInB,ACJoB,CYdnE3E,CbkBiD,CalB1CiE,UAAUU,cAGlC3E,EAAOiE,UAAUU,eAKI,mBAAhBsH,EAKXjM,EAAOiE,UAAUU,aAAauH,gBAC5B,SAAyB5D,GAChB2D,OAAAA,EAAY3D,GAChBiB,KAAK,SAAA4C,GACEC,IAAAA,EAAiB9D,EAAYU,OAASV,EAAYU,MAAMqD,MACxDC,EAAkBhE,EAAYU,OAClCV,EAAYU,MAAMuD,OACdC,EAAqBlE,EAAYU,OACrCV,EAAYU,MAAMyD,UAcbzM,OAbPsI,EAAYU,MAAQ,CAClB5B,UAAW,CACTsF,kBAAmB,UACnBC,oBAAqBR,EACrBS,aAAcJ,GAAsB,IAGpCJ,IACF9D,EAAYU,MAAM5B,UAAUyF,SAAWT,GAErCE,IACFhE,EAAYU,MAAM5B,UAAU0F,UAAYR,GAEnCtM,EAAOiE,UAAUU,aAAauG,aAAa5C,MA1BxDjK,QAAQ0O,MAAM,gEA6BjB,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA;AL9CD,AHOA,ARPA,IWAIxN,Ad6BF,AHpBA,AIqDA,AOtDA,AVAA,AFUA,AWKA,CNuCC,CAAC,Ea9DI,AVgFJ,ALgBA,AG3EqC,AORrC,AC2BA,AL+DA,AC5EA,AXjBA,CEDG,AcFS,ADiCX,Cb/BG,ACDA,AFUA,CkBlBG,Ad6BF,AONA,CXLC,AcsBF,AJbA,AXjBA,AYaE,CHyDD,ALgBA,AElCE,AKnCF,AXjBA,CSsEC,ALgBA,AElCE,AStBF,AJbA,CQ3BV,AZqBgD,ADyCnC,AL5CA,AcsBF,CTsBG,AQjDF,AXLE,CgBRG,Ad6BF,AQrBH,ACKC,CTgBG,AQrBH,AH+FC,AC5EA,AXjBA,CaFA,AVAc,AFUX,CeXU,AZyFX,ASxFD,AZUG,AcsBF,AL+DA,CR9FG,AcFS,AHCZ,AEgCC,AHjBE,CXLC,AWKA,CRyED,ADxFa,CDCV,AYIF,AbKE,ASqFF,CI1FC,CXLc,AFUX,CAAC,ADRF,CgBHyB,AbCX,AFUX,AWKA,CTfY,ASeX,CIhBuB,ARAjD,CCyE0B,CAAC,AHlBN,AQjDM,CVmFF,AElCH,AQjDM,CVmFF,AUnFG,EENmC,CPyEhC,CAAC,AHlBN,CGkBO,APvEL,AIqDD,CJrDE,AEuFE,AElCH,CFkCI,AElCH,CAAC,AMvCQ,ERyEH,AQzEK,CVdN,AEuFE,AQzEK,CVdN,AEuFE,AQzEK,CAAC,QAAQ,CAAC,CVdN,AUcO,CVdN,CAAC,CIqDR,CAAC,KAAK,CAAC,CAAC;AmBxDlD,APLA,AoCCA,AjD4BA,AQrBA,ALAA,CHqBC,AQrBA,GKRGC,AoCCA8Z,ApDQF,AcDA,ATaA,ADyCA,AHtDA,AFUA,AWMA,CEXC,GLmEC,ALgBA,ADxFE,AYgCF,AL+DA,CR9FG,AMDE,CURC,AoCCA,ApDQF,AcDA,ATaA,ADyCA,AL5CA,AWMA,C0CvBGuT,AnDOF,CFUC,AcsBF,AJdQ,AXjBS,CyBosBxB,AP7sBY,AdgGJ,AElCE,ANrDe,CsDR1B,AlD+FU,ADxFE,CaAC,AbAA,AFUA,CqDjBG,A/CoBF,ADyCA,AIyCF,AV9FiB,AYef,CMxBd,ATgFa,ADxEI,ALAF,AHCe,CgBDd,ARAE,AE+FJ,CDvBC,APvEE,AKYA,ANHA,ADTe,AYef,CaqrBhB,AhB7nBe,APvEE,AKYA,AJbA,AFUA,ADTe,COYd,CH2ED,AH9EE,AUQM,CPsEP,AIxFW,ALAT,AYgCF,AL+DA,AC7EQ,CJLL,AJbA,AFUA,AcsBF,CRnBG,ACbS,ALAT,CFUC,AcsBF,AJdQ,CTjBL,ADSA,AcsBF,AJdQ,CVRL,AUQM,CPsEP,AWxDA,AJdQ,CHlBwB,CDa5B,CH2ED,CG3EG,AIKM,CKlBb,AZwFM,AQxEL,CaqrBxB,ArB7mB8B,AG1E7B,AIIqC,ACFb,CIhBS,AVsDR,AKpCa,CKlBJ,AVsDR,CAAC,CAAE,EAC7B,EmB8oBD,AlBvrBS,EDyCJ,CCzCO,AIIqC,ACFb,CDEc,ACFb,CNuC7B,AMvC8B,ELFtB,AIIqC,CJJpC,AIIqC,CAAC,CAAC,GcmrBxD,CAAA,AdnrB4D,CAAC,IAAI,CAAC,CcmrBlE,AlBvrB8B,AIIqC,CJJpC,CAAC,CAAE,AIIoC,CcmrBtE,AdnrBuE,CJHtE,AIGuE,CLqClD,AKrCmD,CLqClD,ECxClB,CDwCqB,EmB8oB1B,AlBtrBQ,ADwCoB,KCxCf,CAAC,UkBsrBd,AnB9oBoC,CAAC,CmB8oBrC,ElBtrB4B,CAAC,CDwCa,CAAC,EAAE,CmB8oB7C,GlBtrBqC,CDwCa,CCxCX,ADwCY,GAAG,CAAC,CCxCX,CAAC,CkBsrB7C,EAAA,CnB9oB6D,EAAE,CAAC,CCxCX,ADwCY,CCxCX,CAAC,CkBsrBvD,AlBtrBwD,EAAE,MAAM,CAAC,CAAC,akBsrBlE,EAAA,QAAA,aAAA,EAAA,QAAA,2BAAA,EAAA,QAAA,kCAAA,EAAA,QAAA,wBAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,qBAAA,EAAA,OAAA,eAAA,QAAA,mBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,oBAAA,OAAA,eAAA,QAAA,sBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,uBAvsBD,IAAA,EAAA,EAAA,QAAA,gBAEA,EAAA,QAAA,kBACA,EAAA,QAAA,qBAosBC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,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otB,A/CsBF,ADwCA,AQjDA,AXNA,CWMC,CKfG,ADCA,AjBkBF,AWMA,C0CvBP,ArDiBQ,AcsBJ,AHhBI,C0CvBGC,ApDQN,AKcI,ADwCA,AEvDA,CNCH,AMDI,APUA,CkBnBZ,ADCA,AfQa,AHCF,CGDG,AHCF,CAAC,CcKG,CwCbd,ArDiBe,CEVC,AFUA,EeTP,AD+BK,Cb/BC,AcAL,ARDS,ALAA,ASgBA,CPIpB,AHnBiB,ADSI,AWMA,CJhBC,ALAA,AYgCJ,CdtBK,ASqFF,EM9FL,AN8FO,EM9FL,AJeS,CVfH,ADSI,AcsBJ,AHhBI,CXNC,AcsBJ,AHhBI,CXNC,ASqFF,CGhG5B,CEiC4B,CC/BJ,AD+BK,CdtBK,AcsBJ,CdtBK,AcsBJ,CAAC,CC/BJ,AfSS,EeTP,CAAC,CAAC,CfSU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;AyBf1D,APHA,ADCA,AoCCC,AjDmCD,AQ5BA,AZUA,CAAC,CAAA,EkBnBGptB,ADCAA,ATiFF,AOvEA,AZwFA,AOvEA,AXlBA,AYeA,CZfC,CAAC,EIyFE,AG5EO,ADwCA,AQjDK,ANLd,ALAA,AO+FA,CLnEK,AQ5BO,CMTN,ADCA,AP2BF,ACHA,CHyDC,CPxEP,AMDM,AOgCF,CWIL,AP7CYf,ADCAA,AFUF,CZwFC,CAAC,AG5EO,ADwCA,AQjDK,CXLb,AYgCF,AJbI,CTlBP,AMDM,ALAA,AO+FA,CLnEK,AH3BV,CG2BW,AF5BJ,AYgCF,AL+DE,AC5EW,ACHT,CcoBhB,AfjB0B,CQ5BN,ADCA,AP2BO,CQ5BNC,ADCAA,AboCQ,AW1BV,AJcA,CChBU,AH+FX,CLnEa,AQ5BD,AEgCb,CFhCqB,AEgCpB,Cb/BH,CSkBkB,CIaZ,AJba,CNSY,AH3B5B,AEyFQ,AW1DJ,CX0DK,AW1DJ,CAAC,CAAC,EJbe,CeiBxC,AfjByC,CQ5B7B,ADCA,AP2B8B,CQ5BN,ADCA,AdkGF,AOvES,ACHhB,CVfA,AEyFQ,AQ1EP,CVfA,IwBmC5B,EP7CY,ADCA,CCDb,ADCA,CP2BsD,CAAC,CAAC,GAAG,ACHhB,CDGiB,ACHhB,CDGiB,ACHhB,CDG4B,CeiBxE,CAAA,AfjB0E,EAAE,KeiB5E,IAAA,QAAA,iBAAA,EAxCD,IAAA,EAAA,EAAA,QAAA,aAwCC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAlCM,SAASoV,EAAiBC,EAAYC,GACvCC,IAAAA,GAAU,EAEPF,OADPA,EAAazL,KAAKC,MAAMD,KAAKE,UAAUuL,KACrBvK,OAAO,SAAA0K,GACnBA,GAAAA,IAAWA,EAAOC,MAAQD,EAAOE,KAAM,CACrCD,IAAAA,EAAOD,EAAOC,MAAQD,EAAOE,IAC7BF,EAAOE,MAAQF,EAAOC,MACxBrN,EAAMpD,WAAW,mBAAoB,qBAEjC2Q,IAAAA,EAA2B,iBAATF,EAsBjB,OArBHE,IACFF,EAAO,CAACA,IAEVA,EAAOA,EAAK3K,OAAO,SAAA4K,GAEbA,GAAyB,IAAzBA,EAAItF,QAAQ,SACP,OAAA,EAGHwF,IAAAA,EAAYF,EAAIG,WAAW,UAC5BH,EAAIG,WAAW,WAChBH,EAAIrK,SAAS,iBACbuK,OAAAA,IAAcL,GAChBA,GAAU,GACH,GAEFK,IAAcL,WAGhBC,EAAOE,IACdF,EAAOC,KAAOE,EAAWF,EAAK,GAAKA,IAC1BA,EAAKrS;APxCpB,ADCA,AhBQA,ADUA,CCVC,GG2BC,AEdA,ADwCA,AOtDA,ACQA,AdPA,AYeA,CChBC,CAAC,AZWE,CDVD,CSyED,AOxEA,AZuFkC,AMMlC,AC5EA,AXlBE,CMqDC,CCxCC,ADwCA,AQ9CA,AFQA,CPYC,AI8CF,AG1DE,CH0DD,AD3EO,ALCT,AFWM,AcqBN,Cf/BK,CgBCD,AHFE,CNcC,ANHY,AUQd,CVRe,ADVZ,CaDC,ACQA,ANTK,ALCT,CM0EG,AF5DE,ADwCA,AEvDK,APYO,AcqBhB,CRlBK,ADwCA,ANrDA,COaC,AONA,AXRJ,AFWgB,CEXf,AYgCA,Af/BI,CGDH,AFWgB,ASoFd,AE/EE,CAAC,CIdD,AZuF0B,AH9EZ,ASoFd,AV9FE,CIwFyB,AJxFxB,COaC,ADwCA,AL3CY,CeTb,ATYE,ACfK,CAAC,APYO,AcqBhB,Af/BI,CMqDC,AHtDJ,AYgCA,AL+DE,CNN2B,AG3ExB,ANHY,CMGX,CSZD,AZuF0B,AH9EZ,AcqBhB,AHhBI,CIdD,ARHO,AOiCT,AHhBI,CXLa,AcqBhB,AHhBI,CLFC,AONA,AXRJ,AYgCA,CC9BG,ATYE,AONA,ANTK,ALCT,AYgCA,CRlBK,AONA,AdPA,CIwFyB,AUjFxB,AdPD,CIwF0B,AUjFxB,AdPD,CgBCA,AhBDC,CQFO,AREN,CQFO,EJ0FqB,CYvFzB,CAAC,EZuF4B,CYvFzB,CAAC,GZuF6B,CAAC,CAAC,CYvFzB,CAAC;AWhBrD,A2BOA,ApDGA,IoDHI7B,AlDiGF,AG3EA,AONA,AbGA,ADVA,AYgBA,I0CzBM,AjDoCJ,AWxBA,AZqFE,AEnCF,AOtDA,AH+FA,EHjFI,AKGA,C0CzBGC,AjDoCJ,ASpBE,AbGA,ADVA,CSyEH,AHpBE,AQ9CE,AXRJ,AYgCA,AJbA,CgB/BN,AtBwCS,CWxBC,AZqFE,ASzFF,AbCE,CIwFC,AH9EA,ADVA,AYgBA,CPWD,AI8CF,AI1EE,AZWE,ASoFF,CiB3GZ,AxBYW,AQmBA,CVRK,ASoFF,AE9EE,Ce7BhB,A2BImB,A3C2BN,CgB3Bb,A2BAoBC,AnDQN,AFWI,AUQJ,CEnBG,CJ0ED,AOtEE,AfOE,CQ+DH,AR/DI,AcqBJ,AL+DE,EM3FE,CD4BD,EuCxCT,A/CsBe,AONA,AbGA,AcqBJ,CuCxCOwgB,AlDiGF,AUjFA,ACwBJ,CC5BG,AZqFE,CYrFD,ATUE,CAAC,ANHA,CMGC,ANHA,AWMP,CHyDI,AGzDH,C0CzBd,ArDmBsB,CqDnBG,AvCwCN,CuCxCnB,ArDmBwB,AcqBJ,CuCxC/B,A7CkFgC,CkBlFhC,AXYmC,AfOE,CG8EC,AH9EA,CG8EC,AG3EA,AONA,AbGA,CMGC,CSVD,AFIE,CLkEH,AOtEE,AJaL,CHyDI,ALeI,AQxEP,CVjBnC,AEyF2C,AQxEP,GIbQ,CWX7C,AXW8C,AFImB,EViFf,AUjFiB,CViFhB,CUjFkB,ELkEnB,CkBjFlD,CXWsD,CAAC,EPsEA,ALeI,AUjFiB,Caf5E,Cbe8E,GLkElB,AOtEE,CPsED,COrEzD,AFG+E,EAAE,CafrF,AbesF,CAAC,IEH3E,EPqE4D,COrEzD,CWZf,IAAA,OAAA,EAAA,GXYyB,CAAC,EWR1B,EAAA,GXQiC,EAAE,KAAK,CWRxC,CXQ0C,CWR1C,OXQkD,CAAC,EAC/C,MAAM,GAAG,EWNb,EAAA,AXMiB,CAAC,IAAI,CAAC,GAAG,EWN1B,AXM4B,CAAC,QWN7B,AXMqC,CAAC,EWLtC,GXK2C,CAAC,GWL5C,EAAA,OAAA,MAAA,GXKiE,EAAE,CWLnE,AXKoE,EAChE,EWNJ,OXMa,EWNb,CXMgB,CAAC,CWLjB,MXKkC,CWLlC,CXK0C,CWL1C,CXK4C,SWD5C,EAAA,cAAA,SAAA,GAEA,OADA,EAAA,MAAA,QACA,IAAA,SAAA,EAAA,GACA,OAAA,EAAA,EAAA,KAAA,EAAA,GAAA,OAAA,UAKA,EAAA,eAAA,SAAA,GACA,IAAA,EAAA,EAAA,cAAA,GACA,OAAA,GAAA,EAAA,IAIA,EAAA,iBAAA,SAAA,GACA,IAAA,EAAA,EAAA,cAAA,GAEA,OADA,EAAA,QACA,GAIA,EAAA,YAAA,SAAA,EAAA,GACA,OAAA,EAAA,WAAA,GAAA,OAAA,SAAA,GACA,OAAA,IAAA,EAAA,QAAA,MAOA,EAAA,eAAA,SAAA,GAqBA,IApBA,IAAA,EAQA,EAAA,CACA,YANA,EADA,IAAA,EAAA,QAAA,gBACA,EAAA,UAAA,IAAA,MAAA,KAEA,EAAA,UAAA,IAAA,MAAA,MAIA,GACA,UAAA,SAAA,EAAA,GAAA,IACA,SAAA,EAAA,GAAA,cACA,SAAA,SAAA,EAAA,GAAA,IACA,GAAA,EAAA,GACA,QAAA,EAAA,GACA,KAAA,SAAA,EAAA,GAAA,IAEA,KAAA,EAAA,IAGA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,EACA,OAAA,EAAA,IACA,IAAA,QACA,EAAA,eAAA,EAAA,EAAA,GACA,MACA,IAAA,QACA,EAAA,YAAA,SAAA,EAAA,EAAA,GAAA,IACA,MACA,IAAA,UACA,EAAA,QAAA,EAAA,EAAA,GACA,MACA,IAAA,QACA,EAAA,MAAA,EAAA,EAAA,GACA,EAAA,iBAAA,EAAA,EAAA,GACA,MACA,QACA,EAAA,EAAA,IAAA,EAAA,EAAA,GAIA,OAAA,GAIA,EAAA,eAAA,SAAA,GACA,IAAA,EAAA,GACA,EAAA,KAAA,EAAA,YACA,EAAA,KAAA,EAAA,WACA,EAAA,KAAA,EAAA,SAAA,eACA,EAAA,KAAA,EAAA,UACA,EAAA,KAAA,EAAA,SAAA,EAAA,IACA,EAAA,KAAA,EAAA,MAEA,IAAA,EAAA,EAAA,KAkBA,OAjBA,EAAA,KAAA,OACA,EAAA,KAAA,GACA,SAAA,GAAA,EAAA,gBACA,EAAA,cACA,EAAA,KAAA,SACA,EAAA,KAAA,EAAA,gBACA,EAAA,KAAA,SACA,EAAA,KAAA,EAAA,cAEA,EAAA,SAAA,QAAA,EAAA,SAAA,gBACA,EAAA,KAAA,WACA,EAAA,KAAA,EAAA,WAEA,EAAA,kBAAA,EAAA,SACA,EAAA,KAAA,SACA,EAAA,KAAA,EAAA,kBAAA,EAAA,QAEA,aAAA,EAAA,KAAA,MAKA,EAAA,gBAAA,SAAA,GACA,OAAA,EAAA,OAAA,IAAA,MAAA,MAKA,EAAA,YAAA,SAAA,GACA,IAAA,EAAA,EAAA,OAAA,GAAA,MAAA,KACA,EAAA,CACA,YAAA,SAAA,EAAA,QAAA,KAUA,OAPA,EAAA,EAAA,GAAA,MAAA,KAEA,EAAA,KAAA,EAAA,GACA,EAAA,UAAA,SAAA,EAAA,GAAA,IACA,EAAA,SAAA,IAAA,EAAA,OAAA,SAAA,EAAA,GAAA,IAAA,EAEA,EAAA,YAAA,EAAA,SACA,GAKA,EAAA,YAAA,SAAA,GACA,IAAA,EAAA,EAAA,iBACA,IAAA,EAAA,uBACA,EAAA,EAAA,sBAEA,IAAA,EAAA,EAAA,UAAA,EAAA,aAAA,EACA,MAAA,YAAA,EAAA,IAAA,EAAA,KAAA,IAAA,EAAA,WACA,IAAA,EAAA,IAAA,EAAA,IAAA,QAMA,EAAA,YAAA,SAAA,GACA,IAAA,EAAA,EAAA,OAAA,GAAA,MAAA,KACA,MAAA,CACA,GAAA,SAAA,EAAA,GAAA,IACA,UAAA,EAAA,GAAA,QAAA,KAAA,EAAA,EAAA,GAAA,MAAA,KAAA,GAAA,WACA,IAAA,EAAA,KAMA,EAAA,YAAA,SAAA,GACA,MAAA,aAAA,EAAA,IAAA,EAAA,cACA,EAAA,WAAA,aAAA,EAAA,UACA,IAAA,EAAA,UACA,IACA,IAAA,EAAA,IAAA,QAMA,EAAA,UAAA,SAAA,GAIA,IAHA,IACA,EADA,EAAA,GAEA,EAAA,EAAA,OAAA,EAAA,QAAA,KAAA,GAAA,MAAA,KACA,EAAA,EAAA,EAAA,EAAA,OAAA,IAEA,GADA,EAAA,EAAA,GAAA,OAAA,MAAA,MACA,GAAA,QAAA,EAAA,GAEA,OAAA,GAIA,EAAA,UAAA,SAAA,GACA,IAAA,EAAA,GACA,EAAA,EAAA,YAIA,QAHA,IAAA,EAAA,uBACA,EAAA,EAAA,sBAEA,EAAA,YAAA,OAAA,KAAA,EAAA,YAAA,OAAA,CACA,IAAA,EAAA,GACA,OAAA,KAAA,EAAA,YAAA,QAAA,SAAA,GACA,EAAA,WAAA,GACA,EAAA,KAAA,EAAA,IAAA,EAAA,WAAA,IAEA,EAAA,KAAA,KAGA,GAAA,UAAA,EAAA,IAAA,EAAA,KAAA,KAAA,OAEA,OAAA,GAKA,EAAA,YAAA,SAAA,GACA,IAAA,EAAA,EAAA,OAAA,EAAA,QAAA,KAAA,GAAA,MAAA,KACA,MAAA,CACA,KAAA,EAAA,QACA,UAAA,EAAA,KAAA,OAIA,EAAA,YAAA,SAAA,GACA,IAAA,EAAA,GACA,EAAA,EAAA,YAYA,YAXA,IAAA,EAAA,uBACA,EAAA,EAAA,sBAEA,EAAA,cAAA,EAAA,aAAA,QAEA,EAAA,aAAA,QAAA,SAAA,GACA,GAAA,aAAA,EAAA,IAAA,EAAA,MACA,EAAA,WAAA,EAAA,UAAA,OAAA,IAAA,EAAA,UAAA,IACA,SAGA,GAKA,EAAA,eAAA,SAAA,GACA,IAAA,EAAA,EAAA,QAAA,KACA,EAAA,CACA,KAAA,SAAA,EAAA,OAAA,EAAA,EAAA,GAAA,KAEA,EAAA,EAAA,QAAA,IAAA,GAOA,OANA,GAAA,GACA,EAAA,UAAA,EAAA,OAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,MAAA,EAAA,OAAA,EAAA,IAEA,EAAA,UAAA,EAAA,OAAA,EAAA,GAEA,GAGA,EAAA,eAAA,SAAA,GACA,IAAA,EAAA,EAAA,OAAA,IAAA,MAAA,KACA,MAAA,CACA,UAAA,EAAA,QACA,MAAA,EAAA,IAAA,SAAA,GACA,OAAA,SAAA,EAAA,QAOA,EAAA,OAAA,SAAA,GACA,IAAA,EAAA,EAAA,YAAA,EAAA,UAAA,GACA,GAAA,EACA,OAAA,EAAA,OAAA,IAIA,EAAA,iBAAA,SAAA,GACA,IAAA,EAAA,EAAA,OAAA,IAAA,MAAA,KACA,MAAA,CACA,UAAA,EAAA,GAAA,cACA,MAAA,EAAA,KAOA,EAAA,kBAAA,SAAA,EAAA,GAKA,MAAA,CACA,KAAA,OACA,aANA,EAAA,YAAA,EAAA,EACA,kBAKA,IAAA,EAAA,oBAKA,EAAA,oBAAA,SAAA,EAAA,GACA,IAAA,EAAA,WAAA,EAAA,OAIA,OAHA,EAAA,aAAA,QAAA,SAAA,GACA,GAAA,iBAAA,EAAA,UAAA,IAAA,EAAA,MAAA,SAEA,GAKA,EAAA,iBAAA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,WAAA,GAWA,MARA,CACA,kBAFA,EAAA,EAAA,OAAA,EAAA,WAAA,KAEA,OAAA,SAAA,GACA,OAAA,IAAA,EAAA,QAAA,kBACA,GAAA,OAAA,IACA,SAAA,EAAA,OAAA,SAAA,GACA,OAAA,IAAA,EAAA,QAAA,gBACA,GAAA,OAAA,MAMA,EAAA,mBAAA,SAAA,GACA,MAAA,eAAA,EAAA,iBAAA,iBACA,EAAA,SAAA,QAIA,EAAA,mBAAA,SAAA,GASA,IARA,IAAA,EAAA,CACA,OAAA,GACA,iBAAA,GACA,cAAA,GACA,KAAA,IAGA,EADA,EAAA,WAAA,GACA,GAAA,MAAA,KACA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CACA,IAAA,EAAA,EAAA,GACA,EAAA,EAAA,YACA,EAAA,YAAA,EAAA,KAAA,GACA,GAAA,EAAA,CACA,IAAA,EAAA,EAAA,YAAA,GACA,EAAA,EAAA,YACA,EAAA,UAAA,EAAA,KAQA,OANA,EAAA,WAAA,EAAA,OAAA,EAAA,UAAA,EAAA,IAAA,GACA,EAAA,aAAA,EAAA,YACA,EAAA,aAAA,EAAA,KACA,IAAA,EAAA,aACA,EAAA,OAAA,KAAA,GAEA,EAAA,KAAA,eACA,IAAA,MACA,IAAA,SACA,EAAA,cAAA,KAAA,EAAA,KAAA,iBAWA,OAJA,EAAA,YAAA,EAAA,aAAA,QAAA,SAAA,GACA,EAAA,iBAAA,KAAA,EAAA,YAAA,MAGA,GAKA,EAAA,oBAAA,SAAA,EAAA,GACA,IAAA,EAAA,GAGA,GAAA,KAAA,EAAA,IACA,GAAA,EAAA,OAAA,OAAA,EAAA,IAAA,IACA,GAAA,sBACA,GAAA,EAAA,OAAA,IAAA,SAAA,GACA,YAAA,IAAA,EAAA,qBACA,EAAA,qBAEA,EAAA,cACA,KAAA,KAAA,OAEA,GAAA,uBACA,GAAA,8BAGA,EAAA,OAAA,QAAA,SAAA,GACA,GAAA,EAAA,YAAA,GACA,GAAA,EAAA,UAAA,GACA,GAAA,EAAA,YAAA,KAEA,IAAA,EAAA,EAiBA,OAhBA,EAAA,OAAA,QAAA,SAAA,GACA,EAAA,SAAA,IACA,EAAA,EAAA,YAGA,EAAA,IACA,GAAA,cAAA,EAAA,QAEA,GAAA,iBAEA,EAAA,kBACA,EAAA,iBAAA,QAAA,SAAA,GACA,GAAA,EAAA,YAAA,KAIA,GAKA,EAAA,2BAAA,SAAA,GACA,IAcA,EAdA,EAAA,GACA,EAAA,EAAA,mBAAA,GACA,GAAA,IAAA,EAAA,cAAA,QAAA,OACA,GAAA,IAAA,EAAA,cAAA,QAAA,UAGA,EAAA,EAAA,YAAA,EAAA,WACA,IAAA,SAAA,GACA,OAAA,EAAA,eAAA,KAEA,OAAA,SAAA,GACA,MAAA,UAAA,EAAA,YAEA,EAAA,EAAA,OAAA,GAAA,EAAA,GAAA,KAGA,EAAA,EAAA,YAAA,EAAA,oBACA,IAAA,SAAA,GAEA,OADA,EAAA,OAAA,IAAA,MAAA,KACA,IAAA,SAAA,GACA,OAAA,SAAA,EAAA,QAGA,EAAA,OAAA,GAAA,EAAA,GAAA,OAAA,GAAA,EAAA,GAAA,KAAA,IACA,EAAA,EAAA,GAAA,IAGA,EAAA,OAAA,QAAA,SAAA,GACA,GAAA,QAAA,EAAA,KAAA,eAAA,EAAA,WAAA,IAAA,CACA,IAAA,EAAA,CACA,KAAA,EACA,iBAAA,SAAA,EAAA,WAAA,IAAA,KAEA,GAAA,IACA,EAAA,IAAA,CAAA,KAAA,IAEA,EAAA,KAAA,GACA,KACA,EAAA,KAAA,MAAA,KAAA,UAAA,KACA,IAAA,CACA,KAAA,EACA,UAAA,EAAA,aAAA,OAEA,EAAA,KAAA,OAIA,IAAA,EAAA,QAAA,GACA,EAAA,KAAA,CACA,KAAA,IAKA,IAAA,EAAA,EAAA,YAAA,EAAA,MAeA,OAdA,EAAA,SAEA,EADA,IAAA,EAAA,GAAA,QAAA,WACA,SAAA,EAAA,GAAA,OAAA,GAAA,IACA,IAAA,EAAA,GAAA,QAAA,SAEA,IAAA,SAAA,EAAA,GAAA,OAAA,GAAA,IAAA,IACA,UAEA,EAEA,EAAA,QAAA,SAAA,GACA,EAAA,WAAA,KAGA,GAIA,EAAA,oBAAA,SAAA,GACA,IAAA,EAAA,GAIA,EAAA,EAAA,YAAA,EAAA,WACA,IAAA,SAAA,GACA,OAAA,EAAA,eAAA,KAEA,OAAA,SAAA,GACA,MAAA,UAAA,EAAA,YACA,GACA,IACA,EAAA,MAAA,EAAA,MACA,EAAA,KAAA,EAAA,MAKA,IAAA,EAAA,EAAA,YAAA,EAAA,gBACA,EAAA,YAAA,EAAA,OAAA,EACA,EAAA,SAAA,IAAA,EAAA,OAIA,IAAA,EAAA,EAAA,YAAA,EAAA,cAGA,OAFA,EAAA,IAAA,EAAA,OAAA,EAEA,GAKA,EAAA,UAAA,SAAA,GACA,IAAA,EACA,EAAA,EAAA,YAAA,EAAA,WACA,GAAA,IAAA,EAAA,OAEA,MAAA,CAAA,QADA,EAAA,EAAA,GAAA,OAAA,GAAA,MAAA,MACA,GAAA,MAAA,EAAA,IAEA,IAAA,EAAA,EAAA,YAAA,EAAA,WACA,IAAA,SAAA,GACA,OAAA,EAAA,eAAA,KAEA,OAAA,SAAA,GACA,MAAA,SAAA,EAAA,YAEA,OAAA,EAAA,OAAA,EAEA,CAAA,QADA,EAAA,EAAA,GAAA,MAAA,MAAA,MACA,GAAA,MAAA,EAAA,SAFA,GASA,EAAA,qBAAA,SAAA,GACA,IAEA,EAFA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,YAAA,EAAA,uBAEA,EAAA,OAAA,IACA,EAAA,SAAA,EAAA,GAAA,OAAA,IAAA,KAEA,MAAA,KACA,EAAA,OAEA,IAAA,EAAA,EAAA,YAAA,EAAA,gBACA,GAAA,EAAA,OAAA,EACA,MAAA,CACA,KAAA,SAAA,EAAA,GAAA,OAAA,IAAA,IACA,SAAA,EAAA,IACA,eAAA,GAIA,GADA,EAAA,YAAA,EAAA,cACA,OAAA,EAAA,CACA,IAAA,EAAA,EAAA,YAAA,EAAA,cAAA,GACA,OAAA,IACA,MAAA,KACA,MAAA,CACA,KAAA,SAAA,EAAA,GAAA,IACA,SAAA,EAAA,GACA,eAAA,KAUA,EAAA,qBAAA,SAAA,EAAA,GACA,IAAA,EAAA,GAiBA,OAfA,EADA,cAAA,EAAA,SACA,CACA,KAAA,EAAA,KAAA,MAAA,EAAA,SAAA,IAAA,EAAA,SAAA,OACA,uBACA,eAAA,EAAA,KAAA,QAGA,CACA,KAAA,EAAA,KAAA,MAAA,EAAA,SAAA,IAAA,EAAA,KAAA,OACA,uBACA,aAAA,EAAA,KAAA,IAAA,EAAA,SAAA,mBAGA,IAAA,EAAA,gBACA,EAAA,KAAA,sBAAA,EAAA,eAAA,QAEA,EAAA,KAAA,KAOA,EAAA,kBAAA,WACA,OAAA,KAAA,SAAA,WAAA,OAAA,EAAA,KAQA,EAAA,wBAAA,SAAA,EAAA,EAAA,GACA,IACA,OAAA,IAAA,EAAA,EAAA,EAQA,MAAA,aAFA,GAAA,qBAGA,KARA,GAGA,EAAA,qBAKA,IAAA,EACA,yCAKA,EAAA,kBAAA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,oBAAA,EAAA,KAAA,GAyBA,GAtBA,GAAA,EAAA,mBACA,EAAA,YAAA,sBAGA,GAAA,EAAA,oBACA,EAAA,cAAA,qBACA,UAAA,EAAA,UAAA,UAEA,GAAA,SAAA,EAAA,IAAA,OAEA,EAAA,UACA,GAAA,KAAA,EAAA,UAAA,OACA,EAAA,WAAA,EAAA,YACA,GAAA,iBACA,EAAA,UACA,GAAA,iBACA,EAAA,YACA,GAAA,iBAEA,GAAA,iBAGA,EAAA,UAAA,CAEA,IAAA,EAAA,QAAA,EAAA,GAAA,IACA,EAAA,UAAA,MAAA,GAAA,OACA,GAAA,KAAA,EAGA,GAAA,UAAA,EAAA,uBAAA,GAAA,KACA,IAAA,EACA,EAAA,uBAAA,GAAA,MACA,GAAA,UAAA,EAAA,uBAAA,GAAA,IAAA,KACA,IAAA,EACA,GAAA,oBACA,EAAA,uBAAA,GAAA,KAAA,IACA,EAAA,uBAAA,GAAA,IAAA,KACA,QAUA,OANA,GAAA,UAAA,EAAA,uBAAA,GAAA,KACA,UAAA,EAAA,WAAA,OACA,EAAA,WAAA,EAAA,uBAAA,GAAA,MACA,GAAA,UAAA,EAAA,uBAAA,GAAA,IAAA,KACA,UAAA,EAAA,WAAA,QAEA,GAIA,EAAA,aAAA,SAAA,EAAA,GAGA,IADA,IAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,OAAA,EAAA,IACA,IAAA,aACA,IAAA,aACA,IAAA,aACA,IAAA,aACA,OAAA,EAAA,GAAA,OAAA,GAKA,OAAA,EACA,EAAA,aAAA,GAEA,YAGA,EAAA,QAAA,SAAA,GAGA,OAFA,EAAA,WAAA,GACA,GAAA,MAAA,KACA,GAAA,OAAA,IAGA,EAAA,WAAA,SAAA,GACA,MAAA,MAAA,EAAA,MAAA,IAAA,GAAA,IAGA,EAAA,WAAA,SAAA,GACA,IACA,EADA,EAAA,WAAA,GACA,GAAA,OAAA,GAAA,MAAA,KACA,MAAA,CACA,KAAA,EAAA,GACA,KAAA,SAAA,EAAA,GAAA,IACA,SAAA,EAAA,GACA,IAAA,EAAA,MAAA,GAAA,KAAA,OAIA,EAAA,WAAA,SAAA,GACA,IACA,EADA,EAAA,YAAA,EAAA,MAAA,GACA,OAAA,GAAA,MAAA,KACA,MAAA,CACA,SAAA,EAAA,GACA,UAAA,EAAA,GACA,eAAA,SAAA,EAAA,GAAA,IACA,QAAA,EAAA,GACA,YAAA,EAAA,GACA,QAAA,EAAA,KAKA,EAAA,WAAA,SAAA,GACA,GAAA,iBAAA,GAAA,IAAA,EAAA,OACA,OAAA,EAGA,IADA,IAAA,EAAA,EAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,GAAA,EAAA,GAAA,OAAA,GAAA,MAAA,EAAA,GAAA,OAAA,GACA,OAAA,EAIA,OAAA,GAIA,iBAAA,SACA,OAAA,QAAA;AzB/uBA,ADUA,ADVA,CCUC,ADVA,CCUA,EMGC,AONA,AFSA,CCjBC,CAAC,ER4BA,AD4DyD,AG1EvD,ADwCF,AIyCA,CR9FY,AKaT,EFcA,AC0BA,AQ9CE,CEDH,AFCI,ANVD,AOmCH,AJdA,CNSG,AD4DyD,AQvEvD,CVhBU,AEuF8C,AQvEvD,CVhBU,COwEoD,ANzElE,AYiCE,CVLG,AG9BC,AEiGD,CLnEC,AG9BC,ALEL,AYiCE,CAAC,AL8DE,AC5EF,CTlBqB,CCDrB,AQmBE,CPqE4D,ADxF7D,GE4BO,AD4DyD,AQvEvD,CPWD,AMTF,ACFI,CIVZ,ATOa,AChBD,CQSX,AFCa,CToBD,ASpBE,ACyBJ,CVLG,AG9BC,CDgBE,AKGA,CLHC,AKGA,CHwD6D,AOlEzE,ATOa,AQmBJ,AHhBI,CIVZ,AZiFoE,AWvD3D,CNwCiE,AOlEzE,AZiFoE,AWvD3D,CNwCiE,GD3E1D,CMUE,ANVD,CDgBE,CAAC,AONA,ACyBJ,IAAI,GRnBO,AONiB,EAAE,EPMf,AONiB,ACyBrB,CRlB3C,AQkB4C,CRlB3C,CAAC,EQkB8C,EDzBuB,EAAE,CCyBpB,CRlB3C,AQkB4C,CRlB3C,AQkB4C,EDzBuB,ACyBrB,EDzBuB,CAAC,CAAC,MPO3D,IAAI,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,KAAK,CAAC,CAAC,SAAS,CAAC,CACnE;AqBzBH,A0BEA,AzCQA,AZYA,ADpBA,CaQC,GyCRG1gB,ApDSF,AYQA,AFSA,EXNI,EqDpBN,AjDoCI,AEbC,ADuCD,AQ7CE,ANXF,AIoBE,CVjBC,AE0FA,AUlFA,CwCjBG,ApDSF,AYQA,AbGE,CWMuB,CHuD3B,AOlEA,ANwFA,AC5EA,ACD4B,CgB1BlC,AvBoCS,AI6CF,ALkBI,AErCF,AExDA,APcc,COdb,APcc,CIgBb,AC0BA,CU/CD,AbPF,AFYkB,AcqBlB,AJdE,CiB3BNuU,AZeO,ARTE,CNGG,AMHF,APcc,AcqBlB,AJdE,CiB3BGC,AnBiFF,ALkBI,AW1DN,CVLK,AI6CF,ALkBI,AG5EJ,AJfF,AFYkB,ASmFhB,AV/Fb,CECkB,AKcJ,CAAC,ANHgB,ASmFhB,CDtBC,AF1DA,AJfF,CMyEG,AOlEA,ATQA,ACjBE,APcc,CQ6Df,AHnBE,CGmBD,AHnBE,AExDA,ALEJ,AFYkB,ASmFhB,CkBvGG,AtB8DA,AExDA,ALEJ,AQmBE,CKZC,AZoFI,AErCF,AQ7CE,AbGY,AcqBlB,AJdE,CIcD,AJdE,CTlBK,ADWY,CCXX,ASkBJ,CGVK,AbGY,CaHX,Ccf/B,AdegC,CCwBL,CC1BG,AD0BF,CNwCJ,AOlEO,CPkEN,CAAC,CAAC,AOlEO,CLYC,CGVK,Ccf/BC,AdegC,AHUJ,EiBzBfnE,CbuCgB,CAAC,CatC9B,AbsC+B,AJdE,EGVM,AHUJ,EGVM,CLgEjB,CmB9ExB,AnB8EyB,CmB7E9BoE,AnB6E+B,CEtDe,CAAC,GFsDX,CAAC,EAAE,CAAC,EmB7E5B,cACZC,EnB4EiD,CAAC,KAAK,EAAE,EmB5E5C,InB4EkD,CAAC,EAAE,KAAK,CAAC,CAAC,CmB3EzEC,cAAe,iBACfzE,eAAgB,kBAChBC,gBAAiB,oBACjBE,EAAK/J,OAAS+J,EAAK/J,KAGvB,SAASsO,EAAkB5H,EAAa6H,EAAMvO,EAAM8E,EAAQ0J,GACtDpC,IAAAA,EAAM4B,EAASS,oBAAoB/H,EAAYxD,KAAMqL,GAuBrD7H,GApBJ0F,GAAO4B,EAASU,mBACZhI,EAAYiI,YAAYC,sBAG5BxC,GAAO4B,EAASa,oBACZnI,EAAYoI,cAAcF,qBACjB,UAAT5O,EAAmB,UAAYwO,GAAY,UAE/CpC,GAAO,SAAW1F,EAAYqI,IAAM,OAEhCrI,EAAYsI,WAAatI,EAAYuI,YACvC7C,GAAO,iBACE1F,EAAYsI,UACrB5C,GAAO,iBACE1F,EAAYuI,YACrB7C,GAAO,iBAEPA,GAAO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hQ,EAAkBE,UAAU8P,GAAU,WAChCG,IAAAA,EAAO5P,UACP,MAAmB,mBAAZ4P,EAAK,GACPF,EAAa3P,MAAM,KAAMC,WAC/B4G,KAAK,WACmB,mBAAZgJ,EAAK,IACdA,EAAK,GAAG7P,MAAM,QAIb2P,EAAa3P,MAAM,KAAMC,cAI7BP;A0BpzDP,ArCXK,AJcP,AbMa,IEAX,AKkBA,ANPA,AWMA,CPUC,AC0BA,AExDA,CH8BC,AC0BA,EGmBA,ALiBwB,AGvEtB,AOVF,AdRS,AYiBP,CKrCUjE,AR4FX,AFtDE,AIAF,ACDE,CLCC,AIAF,ACDE,CXNC,CCXC,AQ8FJ,CR9FK,AEyFsB,AH9EtB,ADXO,CIyFgB,CUjFvB,CEHyB,AFGxB,ACwBJ,AfhCa,CU8FV,CR9FK,ADWA,AWMA,CVjBC,AcKsB,ANyF1B,AV9FqB,AYiBjB,CKrCV,AfoBW,AcKsB,ATatB,AJpBG,AFaH,CgB/BUC,AjBoBQ,CIyFM,CMKzB,CTnFK,CgB/Bf,Ab6GsC,AGvEtB,AQcN,CdrBO,AcqBN,AHfM,CKrCS,AdkBL,CYkCR,CC3B6B,CAAC,ATatB,AQcN,AHfM,CRwEuB,AH9EtB,AWMA,CRwEuB,AUjFxB,CAAC,AXVK,AFaH,CEbI,AFaH,CeNuB,EAAE,EJYpB,CRwEuB,AS3F3D,CT2F4D,AQxEtB,GGeH,CC3B6B,AD2B5B,CC3B6B,AFGxB,EAAE,CEHyB,AFGxB,CEHyB,AFGxB,CEHyB,CFGvB,CAAC,CAAC,CAAC,ICwBP,CAAC,CAAC,CAAC,EAAE,KDxBgB,EAAE,ACwBX,CDxBY,ACwBX,CDxBY,ACwBX,CAAC;Ac5C3D,AyBIE6C,ArCXE5C,AZ+CJ,AQ5BA,ALFA,APcA,CIgBC,AG9BA,APcA,CqDpBC4C,ArCXE5C,AhB+BH,ECXC,AE2FA,AEtCA,AKnCA,AXlBA,CcQC,AHUA,CAAC,CAAC,CFuDD,AOpEA,AZsFE,AGzEA,APlBA,AYiBF,CKrCO,ADyBN,ATaE,AMnBS,AH+FX,COlHOC,AVsCJ,CSZJ,ATYK,AKDF,C0C1BK,A/C2BF,CsB7BH,AyBEM,ArCXT,AR6FK,ALkBE,AS5FS,CInBJ,Ab+GJ,AS5FS,ADkBX,CNoCG,AOtDgB,AbCI,CEAnB,AIqDA,AHvDN,AYkCA,AfhC0B,CEAnB,AWDgB,CAAgB,AEiCrC,CRdO,AJpBN,AYkCA,ETqBQ,CuBhEH2I,A3BWI,AE2FA,AEtCA,AHvDN,CDEO,AKkBA,ADmCA,AHvDN,C0BTkBjH,A3BWX,AcML,ATYK,AJpBN,CmDPG,A/C2BI,CAAC,CsB5BhBiE,AbgBY,EC1BhB,AFoDiB,CC1BQ,CahBrBA,AZVyB7F,CD0BF,AD0BP,Cc1CJ4B,AtB4BW,AKDZ,CLCa,AKDZ,CKrChB,CYU0BA,Cd0CD,Cc1CQiE,Ad0CP,CRdO,AKDZ,CAAC,CAAC,ELCc,KsBdjCqH,AtBcsC,EsBdnBrH,EAAUU,AtBca,asBdAuG,KtBckB,IAAI,IsBblEG,KAAKpH,EAAUU,CtBa+D,CAAC,CAAC,EAAE,QAAQ,CsBZ9FV,AtBY+F,CAAC,CsBZtFU,aAAauG,aAAe,SAAS3K,GACtC+K,OAAAA,EAAiB/K,GAAGkkB,MAAM,SAAA5jB,GAAKiL,OAAAA,QAAQC,OAf7B,SAASlL,GACnB,MAAA,CACLoF,KAAM,CAACmE,sBAAuB,mBAAmBvJ,EAAEoF,OAASpF,EAAEoF,KAC9D8E,QAASlK,EAAEkK,QACXC,WAAYnK,EAAEmK,WACdhG,SAAW,WACF,OAAA,KAAKiB,OASqCkE,CAAWtJ,OAEnE,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA;AyBjBG,ArCXA,AZgDJ,ACyBA,AQ7CA,AbIA,CKyCC,AQ7CA,GZRC,AWDA,AFmBA,AXlBA,EiBpBQtC,AhBgCJ,EQ8DF,ALgBkB,AGxEd,AMnBF,AH+FF,AC5EE,ACDF,CPWK,AEVA,AMnBF,CNmBG,AMnBF,CAAC,AZaE,AUMF,AXlBA,AYiBF,CIXD,AJWE,CKrCS,AFoDV,CN0CG,AR9Dc,CIgBT,AJhBU,CgBhCLH,AZgDJ,AI8CJ,AP1EE,ACFN,CDEO,ADYY,ASkFd,CMxFD,CPoEG,AOpEF,AHPI,AZaY,ASkFd,COlHS,AJmBN,CyCRT+B,ArCXgB3B,AZgDO,AI8Cf,AR9Dc,CQ8Db,AP1EE,ACFN,CE8BoB,AH5Bb,ADYY,AWKd,CVjBG,AcMJ,ATYM,AKDJ,C0C1BhB,ArDqB+B,CgBhCf,AD0BA,ATYM,AMnBF,CInBO,AD0BV,AZoFY,AGxEN,ANNU,CG8EH,CC9DmB,AJhBd,CgBhCnB,CAAhB,AhBgCqC,EQ8Df,ALgBa,AH9EI,CQ8DhB,CLgBc,IKhBT,CAAC,ALgBa,CAAC,EQzElB,CAAC,EHyDS,CAAC,ELgBe,CAAC,AQzEpB,CRyEqB,AQzEpB,CAAC,CAAC;AkB/BvC,AXKO,ADCA,AoCAJ,ArCXC,AfoBJ,AIqCA,AQlDA,CZaC,EoDXW,CjDuCV,ADgEA,AG1EA,ANNA,CqDrBG,CrCXKC,ER+FN,ALiBE,AS9FoB,AFmBf,AXjBP,AYiBA,CO3BYkB,ADCAA,AoCFJ,AlDuGL,CkDvGL,A/C6BM,CFUC,AJhBA,CeNH,AbRA,AYmCA,AL6DA,CoB3GC,AbPU,AjBoBR,CI4FG,AO3EK,CP2EJ,AS9FoB,AFmBf,CMrCEpB,AFqDV,CVLK,AF9BJ,AFcI,AcqBJ,AHhBE,CPWG,AJhBA,ADZF,AYiBA,CO3BP,ADCA,ARuGM,AC7ES,CJCJ,AJpBJ,AFcI,AUKK,CD6ER,CoB3GCyN,AXGa,ADCA,AbqCT,ACwBnB,ALxCmB,CgBhCO,AZgDN,AEVA,AQeJ,Ce9CmBhM,AbPR,AZgDN,ADgEA,AG1EA,ANNA,CgBhCK,AR+FN,ALiBE,AG1EA,AG4EJ,AV9FE,CiBpBjB,AZgDoB,AEVA,ANNA,C6BxBhB,AvB8BiB,AQeJ,CVLK,AJhBA,ADZF,CeiCD,AHhBE,CPWG,ASrB3B,AbK2B,AcqBJ,AHhBE,EPWI,AJhBA,CeNZ,AZsFa,AHhFA,AWKF,CPWG,AWtBb,AJWW,CAAC,ER2EI,AG1EA,ANNA,CMMC,AQeJ,CC3BR,AhBNW,CgBMV,AD2BS,AfjCE,CgBMV,AfMa,CGgFC,AHhFA,CGgFC,AJ5FF,CCYG,CMMC,APlBF,COkBG,ANNA,ADZH,C8BZZA,A9BYa,CCYI,ADZH,C8BZPiE,C7BwBY,EGgFE,AHhFA,CGgFC,CHhFC,EAAE,CAAC,CAAC,E6BrBhDjE,C1BqGmD,C0BrG5CiE,E1BqG+C,GAAG,K0BrGxCU,eAGnB3E,EAAOiE,UAAUU,cACnB,oBAAqB3E,EAAOiE,UAAUU,eAGxC3E,EAAOiE,UAAUU,aAAauH,gBAC5BlM,EAAOiE,UAAUiI,gBAAgBb,KAAKrL,EAAOiE,aAChD,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA;AXTC,ADCA,AoCAD,ArCXG,AfcJ,AI2DA,AQ5CA,AbGA,CqD1BA,ArD0BC,CAAA,EMMC,AMnBA,CDkBC,CKrCOvF,CqCWH,CjDqCH,AIgDA,ALe+D,AJ3F/D,CMqDY,AOtDT,ACUS,CPSR,AMnBA,CInBO,CD0BT,ANwFA,AC7EF,CP0EoE,Ca/GtDC,Ab+GuD,AJ3F/D,CK4BC,CWtBD,AbRF,AYmCA,CN2CK,AE3DJ,CF2DK,AM3CJ,CVLK,AUKJ,AJhBA,AXjBI,CK4BC,AEVE,ADmCS,AIyCb,CJzCc,AQ5CA,CG7BF,AfmBzB,AWAmB,ACUS,AXXf,AOgGE,AC7EF,CMrCaC,Ab+GuD,AGzE7D,AMnBA,ACUgB,CLmEjB,AOtEF,AZqFiE,AGzE7D,AMnBA,CGOH,ATYI,AMnBA,ACUgB,AJqFpB,CH5EK,ADmCgB,AOtDhB,AbCF,COkBG,AJpBN,AYmCA,CC3BG,ChBNG,CK4BC,AF9BJ,AYmCA,CVLK,AD+D+D,GAAG,CW1DlE,CVLK,AF9BJ,AYmCA,CErDV,AZgDe,AF9BJ,CclBa,AH6BsB,AdT9B,CI2FgE,AGzE7D,APlBH,CK4BE,AD+D+D,AGzE7D,AJpBN,AHEG,CGFF,AHEG,CK4BE,EAAE,CYhDtB,AZgDuB,CYhDrC,CVsCyC,CFUD,AEVE,CFUD,GAAG,GF9BR,CE8BY,AF9BX,CE8BY,AF9BX,GAAG,EAAE,GAAG,CAAC,CE8BY,AF9BX,CE8BY,AF9BX,CAAC,IE8Be,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;A0B5CnF,AZOEW,ADCAA,AoCAA,ApDSF,ADaA,EkBvBEA,ADCAA,EbqCA,ADgEA,AG1EA,ADmCA,AOtDA,ACWA,AFQA,CPUC,AEVA,CY5BG,ADCA,AbqCF,AEVA,CFUC,CAAC,ADgEA,AJ5FF,AYkBE,CO5BG,ADCA,AbqCF,AH5BS,AE4FT,AS7FA,AZcE,ASiFJ,AE5EE,CPUC,AQ7BA,ACWA,AFQA,CLAC,CE0DH,AF1DI,AIDN,AXj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AAA,EAAO5F,WAC1C/M,EAAe9C,SACjB4C,EAAM1I,IAAI,+BAAgCub,EAAO5F,aAE5C,IAAI6Q,EAAsBjL,IAEnC7Z,EAAOoC,kBAAkBE,UAAYwiB,EAAsBxiB,UAGtD,SAASyiB,EAAiB/kB,IAE3BA,EAAOuP,cACL,iBAAkBvP,EAAOuP,aAAajN,YAC1CtC,EAAOuP,aAAajN,UAAU0iB,aAC1BhlB,EAAOuP,aAAajN,UAAU2iB;AZxElCplB,ADCAA,AoCAH,ArCZG,AZiDJ,CAAC,GctCGA,ADCAA,AhBSF,AKkBA,AMlBA,ACaA,AbAA,IQ+DE,AOvEA,AZuFA,AG1EE,ADmCF,AQxCE,AJiFF,AE5EA,CO5BK,ADCA,ATqFJ,AP5EE,AcKF,ATaE,AOLA,CGlCKpB,AD0BN,ATaE,AMlBA,ACaA,CKvBG,ADCA,AJsBF,AbAA,CAAC,AUIN,AXjBE,CeiCC,CX2DG,AEvCA,AQxCE,AbAA,AWKF,CVlBG,AWAA,ACaA,AJiFF,CR9FG,ADaA,AUIN,AXjBE,CiBrBN,AX0ES,AIyCA,AV9FF,CI4FG,AG1EE,AMlBA,AZaA,AUIN,CTjBO,AWAA,CPqDD,AOrDE,AVHC,AFgBD,CCbC,AE4FF,CG1EG,ANLA,CaAC,CbAC,ADbJ,CMqDG,AHxDG,ASqBH,CVlBG,AE4FF,AEvCA,AHxDG,AFgBD,CCbC,AE4FF,AG1EE,AOLA,AHIN,CJCO,AMlBA,ACaA,AbAC,AUIP,ACCI,CClBG,ACaA,AFKF,CXLI,AWKH,CVlBG,ADaC,AUIP,CVHnB,CUGqB,CP2EK,AEvCA,AOrDE,AVHC,CC+FF,AG1EE,ADmCF,AOrDE,CNkBC,ANJ1B,CCd2B,AKkBA,AJrBC,AFiB3B,CaD2B,CZbC,AKkBA,ANJ1B,CG8EyB,AG1EE,CAAC,AJrBC,AFiB3B,AWIwB,CNmCC,AQxCE,AXhBC,CGwDF,AQxCE,AbC1B,AUGoB,CGJO,AbC1B,CG8EyB,AO3EJ,CCCK,CXJvB,CAAC,CMI2B,AIDN,EJCQ,AIDN,CP2EK,AH9ExB,CG8EyB,AQ1EA,CR0EC,AQ1EA,CR0EC,AG1EE,AKAF,CLAG,ANJ1B,AWIwB,CXJvB,AUGoB,CP2EK,AG1EE,AIDN,CP2EK,AH9ExB,CG8EyB,AU/EE,CV+ED,AH9ExB,EAAE,CG8EyB,AU/EE,AbC1B,AWIwB,CAAC,CR2EzD,AQ3E0D,CXJvB,AWIwB,CXJvB,CACrC,AWG8D,CELG,AFKF,CELG,EAAE,AbEhE,CACH,IG6EY,GAAG,EH7EN,CG6ES,GAAG,AH7ER,EAAE,EG6EoB,EACnC,CH9EoB,EAAE,EG8EjB,EH9EqB,CG8ElB,CH9EoB,IG8Ef,CAAC,AH9EmB,CAAC,KAAK,CG8ElB,CAAC,GH9EsB,EG8EjB,CAAC,GAAG,CAAC,AH9EmB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GG8EhB,CAAC,AH9EmB,CAC9D,CG8EF,AH9EG,EAAE,EG8ED,GAAG,AH9EG,CAAC,IG8EC,AH9EG,CG8EF,AH9EG,CAAC,EAAE,GG8EA,CAAC,CH9EI,CAAC,CG8EF,CAAC,EH9EK,SAAS,CG8EF,AH9EG,CG8EF,CAAC,MH9ES,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,IAAI,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;A+BnChG,AbOwB,ADCA,ADVlB,AZkDN,GczCS,ADCA,CCDP,ADCA,ALYA,IJ4EE,AP7EA,AcKA,AZ0FA,AG7EA,ADmCA,AOpDE,ACYF,AbIE,AWCF,CKvCO,AZkDF,AMZN,CAAC,CAAC,CTjBG,AE+FA,AE1CA,ASnBF,AL4DA,CsBtDL,AhBnCQ,AZ0FA,AS9FE,CGID,CVgDC,AOpDE,ACYF,CAAC,AXhBJ,AYqCE,AL4DA,AV/FU,CECP,AcKA,AVgDA,ALpCE,AWCF,CR6EC,AH9EE,AS6EJ,AE5EE,CKvCR,AVuCE,CyBsBP,A3BXmB,AIgDJ,AOxEA,ATaP,AOLO,CTgBK,AIgDJ,AKhEA,CVkFC,ADlGJ,AOiGE,CNCG,AJhGQ,CS8EP,AT9EQ,COmBd,APnBe,CS8EP,AF3DP,ANDS,AciBJ,CX6DG,AH9EE,CMCR,AQgBK,CRhBJ,ANDS,AWCF,CXDG,AWCF,CPWgB,AIgDf,ALkBA,AUlFA,AbKtB,CaLuB,AbMzB,CIUyC,AJVxC,CMDmB,CyBsBtB,A5BuD8B,AG7EP,CH6EQ,IC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CW,AH9BR,AIsDT,AKnCI,AXnBJ,AYmBE,CKvCSN,ARkGV,ALiB2C,AMA3C,CMzFC,AHJE,AEmCJ,CFnCK,AFiBE,CNWc,AL9BjB,EEAW,AaqCX,CVPoB,AH9BR,AIsDT,AOpDE,AH6FF,AV/FA,CiBpBW,CAAC,AZkDO,AQ5Bf,AFiBE,CQ3BGwB,ADCAA,ADbE,AfoBC,AIsDT,ASjBF,AJlBM,CMvCH,AZmDrB,AH/B8B,AUmBP,CO3BP,ADCA,ADbgBvB,AFyDZ,AHlBI,CGkBH,AJlBM,CQ3BG,ADCA,AhBOG,AWEP,AFiBE,CEjBD,CXFQ,AWEP,AFiBE,CMvCT,ANuCU,CMvCO,AjBoBV,CWmBK,AXnBJ,CWmBK,CMvCb,AfoBmB,CepBlC,AZmDK,AH/B8B,ASmBL,AXnBJ,CEAU,ASmBL,CIkBL,AfrCE,AYmBE,CPYZ,AOZa,EPYX,AMZe,AXnBJ,CeqCD,AJlBM,CNa1C,AMb2C,GLmCT,CAAC,AKnCY,CAAC,AXnBJ,CAAC,CKgCtC,ACsB+B,CAAC,AKnCY,CAAC,ACAV,CPanB,AUKwB,AJlBM,CLmCX,AMnCE,ENmCA,CDtBjB,CUKyB,EVLtB,CObqB,CPanB,EAChC,AOdsD,KGkBS,CAAC,EVJxD,ACqB4C,CAAC,EDrB7B,AOdyC,CAAC,CPcxC,AOdyC,CNmCT,AMnCU,CPepE,ACoB2D,CSjBe,CTiBb,ASjBc,EVHvE,AUGyE,GVHzD,ACoB8C,CAAC,CDpB7C,EACtB,ACmBsE,CAAC,MAAM,EDnBpE,ACmBsE,CAAC,CAAC,CDnBzD,IAAI,GAAG,EAAE,CAAC;A4BtDpC,AdYI,ADCA,AoCFauuB,ArD8BjB,EqD9BiBA,EjD4Cf,ASpBA,AHIA,C2C5BkB,A1C4BjB,E0C5BmB,CjD4ChB,AD4DF,AS7FA,ACaE,AHIA,CJDG,AOHF,AbME,CaND,CAAC,CToBuB,AW7B1B,AVgDA,AIyCA,AV/FA,CiClBC,A7BiHE,CC5DyB,AD4DxB,AS7FA,EJ2EK,AHvBL,AHxDF,AQqBM,ENgB+C,AW7BjD,CFSK,AdfJ,CKmCkD,AJd3C,AcgBV,CX0DO,AUhFE,AbME,AS0EN,AC5EI,CsBrCH/gB,A7BiHE,AS7FA,AVJJ,AHEE,CMsDC,AIyCA,CuBjHmBhM,A9BgBpB,CUIK,CoBpBuBulB,A5BqDwC,AUEpE,AJlBQ,CNgB6D,AI0ClE,ALkBI,ADjGJ,AFuBmB,AS0EjB,AC5EI,CF0DL,ALkBI,AEzCF,AHxDF,C8BfdvlB,ApBmBmB,AVJJ,AFuBmB,AcgBrB,CFnCO,CoBnBbiE,A7BgHc,AEzCF,ANtDA,CI+FG,AEzCF,ASjBJ,AfrCI,CS6ED,CAAC,ARxD6B,CUFtB,CF0DL,AE1DM,CF0DL,EHvBI,AHxDF,CAAC,C8BfTU,A3BuEY,AHxDF,CM+EC,AN/EA,CM+EC,AI3EI,AVJJ,CCiGK,AS7FA,CAAC,CT6FC,AS7FA,AEmCb,CFnCc,AEmCb,AJlBe,CIkBd,CAAC,CAAC,CX0Dc,CAAC,G6B/G5C,AxB6F2C,CAAC,ELkBM,CAAC,CAAC,CKlBH,ALkBI,EKlBF,ALkBI,CACrD,CAAC,CKnBmD,ALmBlD,CAAC,CKnBmD,ALmBlD,KKnBuD,ALmBlD,CKnBmD,CwB7FzC3E,CxB6F2C,ALmBlD,C6BhHciE,E7BgHX,EKnBoD,CAAC,CAAC,ALmBlD,CAAC,G6BhHgBU,C7BgHZ,KAAK,CAAC,O6B7G5B3E,C7B6GoC,C6B7G7BiE,A7B6G8B,GAAG,GAAG,I6B7G1BU,A7B6GwC,CAAC,CAAC,a6B1GjE3E,EAAOiE,UAAUU,aAAauH,gBAC5B,SAAyB5D,GACnB,IAAEA,IAAeA,EAAYU,MAAQ,CACjCrI,IAAAA,EAAM,IAAIkL,aAAa,0DAKtBC,OAHPnL,EAAIsF,KAAO,gBAEXtF,EAAIsY,KAAO,EACJnN,QAAQC,OAAOpL,GAOjBX,OALmB,IAAtBsI,EAAYU,MACdV,EAAYU,MAAQ,CAACwc,YAAaD,GAElCjd,EAAYU,MAAMwc,YAAcD,EAE3BvlB,EAAOiE,UAAUU,aAAauG,aAAa5C,KAEvD,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA;AddG,ADCA,AoCHW,ArCbT,CqCaN,GjD6CE,AJdA,AWDA,IO5BM/I,ADCAA,AXyBJ,AMhBA,ACcA,AHE2C,ACEzC,CPeC,CJdC,EkB7BI,ADCA,AhBMH,AcOH,AZ0FE,AMDF,AV/FA,CmBROQ,ADCAA,AduGJ,AG9EA,AKE2B,CR4E1B,AG9EA,AMhBA,ACcA,AFI2B,CO5B7B,ADCA,Ab0CK,AD6DF,AO9E2C,CNiBxC,AD6DF,AE1CJ,AHxDA,CEqCO,AI0CJ,AP9EG,CAAC,AcOH,AHJE,AZmBE,AS0EJ,CL5DK,ACmBN,ANtDE,CmBRO,ADCA,Ab0CF,AW7BJ,AVgDF,AQtCI,AXlBJ,AYuCF,AL0DI,CL5DK,AI0CJ,ALmBE,AS9FA,AZmBE,CEvBL,AOiGE,CI/Ec,ACqBjB,AfrCI,CmBRb,ADCA,AhBMiB,AEiGD,AW3DN,AfrCI,CKmCK,AHpCD,ACDL,AYuCF,CI7CW,ADCA,AToFN,AF3DE,ANGE,AcgBR,CNwCK,ALmBE,AG9EA,ADoCJ,AHxDA,CIoBK,CMhBC,CNgBC,ADoCJ,ASjBF,CbtCQ,AEiGD,AH3EE,CCtBA,AEiGD,CS9FC,ACcW,CEVZ,ATYE,AOFW,ACqBjB,CE1DDlB,AZwDU,AI0CJ,AP9EG,AcOH,ATYE,AOFW,ACqBjB,CbtCQ,AEiGD,AG9EA,AQmBN,CVFS,AI0CJ,AP9EG,AIuDL,AQtCe,ACqBjB,CTiBG,AOpDI,AZmBE,AcgBR,CFnCO,AZmBE,CAAC,CgB5ChC,AbuH+B,AUhFW,AbKT,CG2ED,AUhFW,EEVX,AfeI,CefH,AfeI,CaLU,AbKT,CAAC,CaLU,EVgFT,AH3EE,CG2ED,AH3EE,CaLU,CDdV,ACcW,CVgFV,AS7F5C,GT6F+C,AUhFW,CAAC,CAAC,EVgFC,CAAC,AS7FtD,CT6FuD,CAChE,AS9FW,CT8FV,CAAC,GS9Fc,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;AqBxBnD,AfcMR,ADCAA,AoCHN,ArCdM,IqCcAK,ArD+BJ,AUHA,ACEA,CVrBC,AEkGA,AG/EA,CY1BGL,ADCAA,Eb0CF,AQhCA,ACaA,AdhBA,AYoBE,C0C9BK,A3C4BJ,AXlBF,AYoBE,CK1CQS,AhB2CP,AUHA,ACEA,CK5CF,CqCcQH,AtCgBR,AHHE,AH4FF,CwB0KL,AfjRY,ADCA,CCDCL,ADCAA,AJuBJ,CbKG,CQwDL,AHvBA,AOnDI,CMXN,ADCA,A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AAiB7kB,MAAM,EAAMC,KAErC0kB,QAAQ,WACP,EAAKf,sBAAwB,KAG1BiB,EAAiB7kB,MAAM,KAAMC;Af9QlCpD,ADCAA,AoCHN,ArCfM,AfwBN,AEkGA,CFlGC,AEkGA,GkD3GKytB,A/C4BJ,ANGA,AUFA,CNgBC,ALnCA,CmBRGztB,ADCAA,AlBOF,EciBA,AFGA,CXCG,AS0EF,CSvGK,ADCA,AoCHE,ArCbMR,AVyCV,AICA,CQ3BGgB,ADCAA,ADlBL,CD+BA,AHJQ,CMVR,ADCA,AoCHS,AxC2BN,AFGA,EXCI,CkB7BGT,ADCAA,AToFR,AHvBA,ALjCM,AUFA,ACCF,CClBO,CGIP,AHJQ,CCeL,AbIE,AUFA,CKbH,AD+BJ,CNwCG,AHvBA,AQrCI,AXpBJ,AFwBM,CQwDL,AHvBA,ASjBF,CRnBS,AQmBR,AJlBQ,CAAC,CF0DL,AHvBA,AQrCI,CKzBf,ADCA,AToFY,AF3DM,ADoCN,AQrCI,AbIE,CMHC,ANGA,CMHC,ESZF,AHJQ,CAAC,AZmBJ,AWDT,CHyDI,AI3EU,AEmCZ,AHjBD,CGiBE,CNwCG,AI3EU,AFiBU,CF0DnB,AHvBA,AKnCoB,CJDb,AQmBR,CTiBG,AQrCI,AbIE,AcgBR,CTiBG,AOpDU,CCeL,AbIE,AWDT,CClBc,CNgBH,AKET,E0C9BHZ,AvC+CM,CFnCa,AEmCZ,CRnBS,AMhBI,AEmCZ,CRnBS,AMhBI,EyCZjC,A1C8BsB,CAAC,C0C9BJmb,AxC2BY,AFGP,CEHQ,KwC3BhC,CAAf;AnBdA,AhBiBK,ADCA,AhBAL,AEiEA,AJ1DA,CAAC,CAAA,EKmCC,AEjBA,AIEA,CQ/BE,ADCA,ALYD,GZmBC,AS0EA,AE3EA,CPeG,CEjBC,CY1BG,ADCA,CFaL,AFU2C,AbKzC,AUDE,CwBgST,A1BvOM,AHvBA,AKlCI,CAAC,CNeC,AJdF,CAAC,AUDE,CJFC,ANGF,CIcG,AJdF,AS0EA,CI/E0C,CqBoSvD,AnB9Sa,ATYI,AOFuC,AXnB/C,AYwCA,AL0DM,EL5DI,AMfA,CVCD,CaL0C,AHIvC,CGJwC,AFIhD,CPeU,AFtCR,ASuBD,CPeU,EUEN,CbvClB,AEkGA,ADnGmB,AYwCA,AJjBQ,CVCD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5C,ADCA,AJuBgB,AXnBN,AHImC,CiBzBpB,AbyHM,ADpGpB,AFwBI,ADpB+B,CiBzBpBnB,AV0CN,ANGJ,AUDI,CNeD,ACmBF,AMlCE,CPeC,AHpCsC,AIuDxC,AHzDJ,AQuBQ,ACAF,CNkCD,AHzDJ,AQuBQ,CAAC,AXnB2B,CKkC5B,CAAC,CJdD,AWDE,CEJC,AbKF,AWDE,CPeC,AOfA,CPeC,ASnBA,CTmBC,AJdF,AUDI,AXnB2B,CCoB9B,ADpB+B,COiB1B,ANGJ,AUDI,AXnB2B,CiBzB3C,AhB6Ca,ADpB+B,CiBzBpB,AhB6CV,CAAC,CMHK,AJrBf,AFwBW,CExBV,CWmBc,AXnBb,CWmBc,Cdf8B,COiB1B,AJrBf,AHI0C,CiBzBpD,AV0C0B,AIEA,AXnB2B,CiBzBpE,AdqB2B,AHI0C,CWmB1B,ERvBb,CAAC,CAAC,AQuBe,ERvBb,AQuBe,AXnB2B,CAAC,EOiBzB,CAAC,CAAC,CIEC,CJFC,AIEA,CAAC,GJFG,CAAC,EAAE;A6B3CvE,AjBkBK,ADCA,ADjBGI,AJ0BR,AFkBA,AXlBa,CaAZ,AFkBA,GTrBC,AEkGA,CQ7EC,CK5CKA,EZ2DJ,AI2CA,AOxEA,ATYA,APhBS,CEHN,AEkGA,AG/EF,ADoCA,ALjCA,CCtBG,AKmBF,EU1CQ,AZ2DN,AI2CA,AK/DsC,AJgFxC,C0BiNL,AnBxUcC,ARsGN,AOxEA,CAAC,CX6BC,AHpCE,AEkGA,EKnBA,CQtGL,AfuBQ,AEkGA,AJ/FO,CiB1BFC,ARsGN,AF5DA,AOHsC,CsBiSpD,A7B9Re,AOHsC,CCqBvC,AL2DA,AV7FW,CgBIR,AZ2FE,AJ/FO,CiB1BnB,ARsGW,AOxEA,ANyFF,CL5DG,ASpBsC,AXlB9C,CEsCS,ASpBsC,ACqBxC,CflCoB,CEHd,AKmBF,AQkBF,AL2DA,CL5DG,AHpCE,AEkGA,ADpGV,AYuCM,AflCmB,CKiChB,CD8DG,AG/EF,AJrBR,EEsCU,ALjCyB,CKiCxB,CAAC,AW7BA,AhBJiC,CoC8S9D,AtBjSoE,AXlB9C,CcpBbC,AHsC4D,AXlB9C,AHKyC,CgBIhC,EAAE,AD8BF,CC9BG,AbTR,CAAC,AYuCM,EqB4QlC,CnBvUiB,A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fjCtB,CiBxBQF,AbsHqB,CUjFC,Adb5B,Cca6B,AXnBR,AYuCE,CN0CF,CAAC,AT3EnB,EGNsB,CAAC,AYuCE,CEzDd,AbsHqB,AUjFA,AXnBR,AYuCE,AfjCtB,CiBxBQT,AbsHqB,AUjFA,AXnBR,AHMpB,CAAC,CAAC,CS2EoB,CAAC,CQnGX,AHqCqB,Adb5B,CiBxBQU,AbsHqB,CAAC,AUjFA,AXnBR,CWmBS,AXnBR,CMiFA,ANjFC,AHMpB,CI8F6B,ADpGR,AHMpB,CS2EoB,ALmBS,AJ9F5B,CI8F6B,AJ9F5B,CAAC,ES2EqB,EAAE,ANjFC,IMiFG,CAAC,EAAE,GQnGpC,ERmGyC,CQnGXL,ARmGY,CQnG3C,ARmG4C,CQnGpD,GAA4CI,QAAQ,CAACJ,CAAD,CADtD;AoB2HP,AlB5GGV,ADCAA,ADbI,AX0ER,AKjCA,CLiCC,Ga9DGA,ADCAA,AjB4BF,ADlBA,IS2EE,APhFkB,AcQlB,AFUA,AFKA,CHyDC,AEzDI,EQ7BE,ADCA,AjB4BF,ADlBA,CmBXGC,ADCAA,Ab0CN,AD6DgD,AG9EhD,AG6EA,C2BKL,AnCtG0B,AFKhB,AYkBF,CIfC,CGdN,ADCA,AFaO,AFUA,CKxBK,ADCA,Ab0CN,AHrCoB,AYkBlB,AbKE,ADlBA,CI6F6C,AG9EhD,ANGI,AUAE,CP2E2C,AMDhD,AC1EM,AXlBF,CWkBa,C0B+E5B,AhCjEa,ASnBE,ACoBN,AL2DI,CRjGqB,AYkBlB,AXnBN,AQwBoB,AXlBZ,CKgCH,AHrCoB,AEkG4B,ADnGpD,AYuCA,AL2DI,CNCiD,ADnGpD,AYuCA,AfjCQ,CgBGD,CGdKiB,ADCAA,AFaJ,CZ0F+C,AJ7F5C,CI6F6C,AO3EvB,CXlBpB,CmBXG,ADCA,AduG0C,AO3EvB,AXlBrB,CmBXGQ,ADCAA,AFaJ,CdRmB,AYkBlB,CKxBvB,ADCA,AhBK0C,AcQlB,AFUA,ACoBN,CAAC,EsBgEtB,AjCJ4E,AO3EX,CP2EY,GAAG,AW5DpD,CX4DqD,AUhF9C,ACoBN,CX4DqD,CAAC,AUhF9C,CuBoFrC,ErB9FwC,CAAC,AD8BN,CC9BO,AD8BN,CAAC,EDpBQ,EAAE,IuBoF/C,CAAA,GvBpFuD,EA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,wDACDulB,EAETvlB,EAAQ,+BAERulB,EAAQG,YAAcG,EAEtBA,EAAWlE,qBAAqB1oB,GAChC4sB,EAAW1D,sBAAsBlpB,GACjC4sB,EAAW3E,iBAAiBjoB,GAC5B4sB,EAAWpF,oBAAoBxnB,GAC/B4sB,EAAW/E,qBAAqB7nB,GAChC4sB,EAAW3D,0BAA0BjpB,GACrC4sB,EAAW3lB,iBAAiBjH,GAE5BusB,EAAWhD,oBAAoBvpB,GAC/BusB,EAAW3C,mBAAmB5pB,GAC9BusB,EAAW1B,uBAAuB7qB,GAClCusB,EAAWT,uBAAuB9rB,GAClC,MACF,QACE+G,EAAQ,wBAILulB,OAAAA;AlB1GN,ADCCtsB,ADzBA,AXwEJ,ALnBA,ADlBA,CCkBC,ADlBA,CAAA,CmBrBC,CDWEA,AhBKF,ASuBA,IF0DE,APjFE,AcQF,AFUA,AFKA,CF0EC,CQtGK,AP4BF,CO5BGC,CFaH,ATYF,CLpBK,AcQF,EFUE,CTmBH,AI4CI,AK/DA,CL+DC,AE1DE,ACAF,CM5BT,CAAeC,AXyBN,CFiBD,ASnBI,AXnBN,AYuCA,AJfuB,CNcpB,AEjBE,AOFE,CL+DC,ANlFN,CaSO,CPyEC,AE1DiB,CNcpB,AFtCF,CEsCG,AFtCF,CMkFO,AE1DiB,CO5BpC,CACE,AXwBiB,AQkBJ,AJfuB,CIetB,AJfuB,CGLhB,CAAC,ACoBN,ETiBrB,ASjBuB,CVDG,CAAC,ESnBM,ETmBF,ASnBI,ETmBF,IAAI,CAAC,CSnBK,ACoBN,CAAC,CDpBO,ETmBF,CAAC,EAAE,GSnBO,EAAE,EAAE,CCoBZ,CAAC,CAAC,CAAC,EAAE,CDpBc,EAAE,IAAI,ACoBb,CAAC,CDpBc,ACoBb,CDpBc,ACoBb,CDpBc,CAAC;AwB5C5E,AnBqBEX,ADCMY,ADZP,AXyED,ALhCA,ADlBa,EmBZXZ,ER6BA,CGLC,CKxBG,ADCEY,AjB6BF,CkB9BCL,CjBKM,AQkGT,AC1EE,AXjBO,AYiBT,CO7BF,Ab8Dc,Ca9DN,ADCE,ETsFN,AO1Ee,AZ0FZ,AG7EH,ANIM,CqC9CGwsB,ApCqBG,AIyDE,AKjCE,ACAb,CNiCY,AKjCE,CJHd,ANIM,CGyEF,CY1Fa,AZ0FZ,AG7EH,AJrBF,AHOa,CgBCK,CdRH,AIyDS,ALhCd,CqC9CJA,AjC2DL,AHtCe,AEkGR,AHzEG,AccV,AL2DM,AV3FS,CEPC,AcQI,AZ0FZ,AEzCiB,ANlDT,CmBZxB,ADCelsB,AFYc,AViDoB,AIyCjC,CDhBR,APlFkB,AFOU,CmBZd,AVuFb,APlFkB,AEkGR,AW3DP,CbvCgB,AKqBX,AQkBJ,AfhCyB,CegCxB,CddW,ADlByB,CK+BlC,AW9BmB,AfiBT,CIaT,AI4CH,APlFkB,AFO6B,CkBXtC,ATsFR,ALgBU,CctGDC,AFYc,AZ0FZ,AHzEG,ADlBkC,CS2E9C,ARzDa,ADjB9B,CK8BqB,AI4CH,CUvFcE,Ad2CV,AHtCe,AEkGR,AJ1F3B,CsC7BW+rB,AnBgBS,AjBKgB,AEkGR,AJ1F3B,CI0F4B,AHzEG,CkB9BC,AHaS,AfiBT,CIaT,AI4CH,AO1EsB,CEZnC,Ab0CiB,AI4CH,AT1EjB,CK8BqB,AUCA,CbvCgB,EoCrB/BA,ApCqBiC,CDyBJ,ADjB9B,CCiB+B,CAAC,ADjB9B,CAAC,GgBA0C,CP0ErB,AO1EsB,AhBAvC,CS0EkB,CStFD/sB,ElBYb,CsC7BV+sB,AtB6BkD,CsB7BlDA,ApBiB2B,ATsFE,AT1EjB,CkBZgBvsB,AFYwB,AhBAvC,CS0EkB,CStFlC,GlBYqB,CsC7BlBusB,A7BuGoC,EAAE,E6BvGtCA,AtC6BuB,CS0EkB,CAAC,AT1EjB,CgBAwC,AhBAvC,CS0EkB,AO1EsB,CAAC,GsB7BnEA,AtC6B+B,CS0EkB,AT1EjB,CS0EkB,CAAC,U6BvGnDA,EAHf,IAAA,EAAA,QAAA,wBAEMA,GAAU,EAAe,EAAA,gBAAA,CAACtsB,OAAAA,SACjBssB,EAAAA,EAAAA,QAAAA,QAAAA;AnBiBX,ADAE,AjB+BN,ADjBA,IMgDE,AQrCA,AHIA,CO9BE,AdwGD,CJzFG,CkBbA,CTsFF,AO1EA,AViDE,AMjCF,CM9BA,ATwFC,ANlFA,AF0BW,AUFT,EO3BDlsB,AJuBG,AFIF,CVxBH,AKqBE,AG6EA,CM1FG,AViDE,CUjDD,AViDE,AQrCA,CHIC,CTxBL,AYoBM,AbMS,AUFT,CTxBL,AYoBM,AbMS,CC1Bd,CgBHI,AXwBD,AG6EA,CL5DH,AW9BM,ALgBE,CKhBD,ATaF,AG6EA,CQrGEb,AhBGH,AKqBE,ADoCI,CCpCH,ADoCI,AL/BoB,CIY3B,ASlBQ,ACkBU,Af7BR,CK6BT,ASlBQ,AbMoB,CiB7BtB,AHyCa,AL4Dd,AC1EI,CO3BFQ,AhBGH,AcQI,AD8BY,Af7BR,CCiB2B,AUF5B,AXfE,CkBfxB,Ab4Ce,CAAC,ACmBQ,AL/B4B,CelB7B,AhBCY,COYb,AODI,ACkBU,CbtCf,AKqBE,AODI,ACkBU,Af7BA,CcWT,CAAC,CEZD,CdRH,AcQI,AFYE,CZpBL,AYoBM,CTkBP,AHtCE,AYoBM,AbMqC,AcY3B,CVAjB,AL7B2B,CcWlB,CAAC,ACkBU,Af7BS,CK6B1B,AW9BM,AFYE,CZpBL,AcQI,CX8BL,AEjBI,IFiBA,AHtCE,AKqBE,APZ+B,CK6BlC,AW9BM,ATaF,CFiBH,AW9BM,ATaF,AQiBc,Af7BiB,CK6BlC,AUAkB,EbtCd,EAAE,AKqBE,CAAC,CPZwC,CgBDpC,CAAC,AhBCoD,CgBDnD,ChBCqD,CAAC,COYrD,EQiBS,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;AwBxExE,ApB8BLQ,ADGAb,AdoGJ,AU9EA,CV8EC,AU9EA,GKzBGa,ADGAb,AFUF,AfkBA,ADjBA,CmBdG,AHaF,AbRA,AHSA,AYeA,CO7BGI,AP6BF,EO7BA,AVwFA,AH3B0B,AKhC1B,CQ7BK,CDGC,AjB4BF,CiB5BGQ,CXuBL,AG6EA,AC1EE,AXfE,CuC5CD,AjC2F0B,AKhC1B,AXfE,CM+CyB,AKhC1B,AXfE,CmBdR,AlB+BS,ADjBA,CETP,CqCnCG,ApB8BQ,Ad2CR,AUAA,CdZO,ASwEJ,AVzFI,CuC5CP,A9BsHM,AF9DF,AIGE,AXfE,CkBXb,ARoGU,AC1EE,AXfE,CETP,AFSQ,CETP,AIwDgC,AI0C5B,AVzFI,CkBXG,AZ0DsB,AN/CxB,CCiBC,AUFF,AXfE,CuC5Cb,AtC6Dc,ADjBA,CWeD,CTxBL,CD0BS,ADjBA,CmBdG,AlB+BF,CsC7DlB,ArCmCW,AIwDgC,CJxD/B,AIwDgC,AN/CxB,CETP,AD0BQ,ADjBA,CCiBC,ADjBA,CM+CyB,AL9BxB,ADjBA,CAAC,EM+C0B,CN/CvB,OAAO,EuC5ClC,ArBiCL,SqBjCK,CjC2F+D,CAAC,CiC3FhE,AjC2FiE,CAAE,CAAC,KiC3FpE,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAFT,IAAA,EAAA,EAAA,QAAA,mBAES,QAAA,cAFF,EAAA;ApBiCDC,ADGH,AdqGH,AE3CA,AQ7DA,AF6BA,CNgCC,AMhCA,EM1CC,CF0BA,AbRA,AF0BA,ADjBA,CAAC,CmBdGA,CAAC,CAACO,AlB+BF,CGyEG,AHzEF,ASwEF,EPlGI,CgBLH,AVwFA,AF9DA,AIGA,AXfI,CmBdG,Ad2CN,AHtCF,AcQM,AhBCA,CCiBC,ADjBA,CgBDC,AhBCA,CS0EH,AO3EI,AD+BN,Af9BM,CI0FG,ADnGF,AQwBJ,CP2EO,ADnGF,CCmGY,AJ1FX,Ce8BL,AJfE,CF2DC,AE3DA,CF2DC,AE3DA,AXfI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CWeH,CJHC,AIGA,CIeD,AJfE,AXfI,CS0EH,AE3DA,AXfI,CS0EH,AT1EI,CAAC,CAAC,CcUhC,ACoB2B,CJfG,CAAC,AXfI,ES0EF,EAAE,CE3DC,CAAC,CAAC,AXfI,Ee8BJ,CAAC,SI5ClC,CJ4C4C,CAAC,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;AI3C5EG,ADIJ1B,AZsDF,AQjCA,AXpBA,ASjCA,A4BJa,CrCqCZ,AHSA,CkBVCA,AlBUA,EgBAA,AZ0FA,EexGI0B,ADIA,CAACnB,CjB0BO,ASyEV,CQnGF,AhBCC,AYoBM,CIrBC,CFUD,AZ0FA,CG9EH,AIGA,C6B7DO,EvC8DQ,CkB9BL,AVwFR,AE3DE,CQ7BO,AlB8BM,ASyEV,AC1EF,CP2EK,AH1EQ,AUDZ,CP2EK,AU/EE,AJ8EJ,CDfH,AH5BX,AQnCmB,ACmBV,AyB5EG,EtBoCX,AFUY,AFWqB,CEXpB,ALeE,COzBO,AdoGF,AG9EJ,AODmB,AHInB,EJHE,CAAC,CSZD,ATYE,CY1BO,CHcP,AD8BF,CN4CJ,AM5CK,CN4CJ,ALgBa,AQ5E7B,CR4E8B,AU/EuB,AHI3B,COzBOS,AXsBN,AQkBJ,CGxCA,AJqBgC,ACmB/B,AyB5EZ,CzB4Ea,CGxCW,AToFf,AM5CK,CN4CJ,AM5CK,CC9BG,CAAC,CAAC,EFW0C,A0BzD9D,E1ByDgE,IL+D3C,EAAE,CK/DsD,IL+DjD,A+BxH5B,C/BwH6B,A+BxH7B,OAAA,IAFb,IAAA,EAAA,QAAA,aAEa,QAAA,SAAW,IAAA,WAAI,SAAA,IACjB,KAAA,MAAQ,CAAC,OAAQ,SAAU,QAAQ,SAAS,UAAU,UACtD,KAAA,kBAAoB,CAAC,UAAW,SAAU,UAE1C,KAAA,kBAAoB,GACpB,KAAA,iBAAmB,GACnB,KAAA,iBAAmB,IA+D9B,OA7DE,EAAA,UAAA,kBAAA,WACS,MAA6B,oBAAtB,mBAGhB,EAAA,UAAA,mBAAA,WACQ,IAAA,EAAU,KAAK,aACf,EAAU,KAAK,aAIjB,QAFiB,KAAK,kBAAkB,SAAS,KAIrC,WAAZ,EAA6B,GAAW,KAAK,iBACjC,YAAZ,EAA8B,GAAW,KAAK,kBAClC,WAAZ,KAA8B,KAAK,OAAS,GAAW,KAAK,oBAKlE,EAAA,UAAA,WAAA,WACS,OAAA,EAAA,cAAc,eAAe,SAGtC,EAAA,UAAA,WAAA,WACS,OAAA,EAAA,cAAc,eAAe,SAAW,GAGjD,EAAA,UAAA,uBAAA,WACQ,IAOF,EAPE,EAAU,KAAK,aACf,EAAU,EAAA,cAAc,eAAe,SAAW,EAEpD,GAAY,WAAZ,GAAwB,EAAU,GAAI,OAAO,EAC7C,GAAY,YAAZ,GAAyB,GAAW,GAAI,OAAO,EAC/C,KAAC,OAAO,mBAAuB,qBAAsB,kBAAkB,WAAY,OAAO,EAG1F,IAAA,GAAY,EAEZ,KACF,EAAS,IAAI,mBACN,eAAe,SACtB,GAAY,EACZ,MAAO,IACD,QACF,GACF,EAAO,QAIJ,OAAA,GAGT,EAAA,UAAA,SAAA,WACS,MAAA,2BACG,KAAK,aAAY,kBACjB,KAAK,aAAY,gBACnB,KAAK,MAAK,4BACE,KAAK,oBAAmB,6BACvB,KAAK,qBAAoB,iCACrB,KAAK,0BAElC,EArEwB;ArBiChBA,ADIJd,AhBCJ,AcSA,AZ0FA,AE3CA,AHvFA,AHyCa,AYcb,CVxBC,AcSA,AZ0FA,GcpGGA,AJqBF,AbKA,EaLE,CAAC,CKzBGc,ADIA,AlBWK,CmBfJ,AZ0BJ,ADmCW,AMhCP,CO7BCW,AZ0BJ,ANIE,CiB1BGX,CAAP,AZyDe,AI0Cb,CJ1Cc,AL/BT,EkB9BH,CdyCK,AJXC,AUFe,CIgBpB,CTiBuB,CI0CnB,CL9DI,AI8C2B,ANnF3C,AF0BiB,CIWA,AJXC,ASyEJ,AC3EmB,ACCb,CAAC,CEJD,CAAC,AHGe,CNaf,AK8DH,AVxFW,CK0BP,CI8C4B,AG1DL,CXCpB,ADfO,CCeN,ADfO,AYcc,EH0DO,CAAC,ARzD1B,CaLC,AbKA,EIWC,AShBC,AbM7B,ADhBgD,CK0BnB,AJV5B,CDhBmG,CYcvC,CPY7B,AJV5B,AUH4C,AXbsD,CWarD,CNaf,EShBoB,CbM7C,CIU6B,AShBkB,AbM9C,AUH4C,CNaf,CAAC,AMbgB,CNaf,AMbgB,CVG3C,AUH4C,EVI1D,CaP+D,CAAC,CAAC,AHGF,CAAC,IVIxD,GAAa,CAAC,CUJmD,CAAC,CAAC,EVIhD,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CACtD,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CACxB,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CACxB,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CACpB,CAAC,KAAK,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,WAAW,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAAC,EAAE,SAAS,CAAC,CACvF,CAAC,CAAC,CAAC,CAAC;AkBpCR,ADIHlC,AhBRJ,ActBA,Ab+BA,AsC7Ba,IvB4BTA,AZyDF,AQpCA,AbYA,ADtBA,AYcA,GO/Bc,CZ4BZ,CY1BK,AdyCJ,AFpCW,CGwDR,AN9CA,AYcA,CMzBG,AJqBF,AbYA,CkBvCO,ADMJC,ARmGN,AC3EA,ACCI,CO/BJ,Ab+DK,AmCrFE,C3BiDD,AXpBS,CeDjB,AXsBO,AJrBW,ASwBT,CMzBG,AToFR,AF9DI,ADmCE,AQpCA,CAAC,AbYA,ADtBA,AyCvCF,CxC6DG,CaZC,AHGJ,A8BpDA,C3BiDK,AJ8EJ,AC3EA,AXbI,CSyEL,AH3BM,AHxDoB,AYwC1B,CN2CC,AH3BM,AI0CJ,CAAC,AC3EA,CVSK,AUTJ,CF4DD,ARnDM,AwC7DV,ChCgHK,AF9DI,APXE,CAAC,CEXxB,CKsBwB,ANWE,AUTJ,CLiCK,ALxBA,AUTJ,ACCH,A6BrDR,CnCqFgB,AMhCP,CH2DE,ARnDM,ADtBA,COWD,ANYzB,AUVuB,CF4DD,AO3EzB,ATa6B,ANYzB,CiBlC8BmB,AToFR,AE5DE,AXbI,CAAC,CCuB1B,CKuB4B,ALvB3B,ADtBP,CkBZqC,AZyDF,AQpCA,Aba3B,AWToB,CMzBUF,AJqBF,Aba3B,AUVuB,CAAC,ACCH,CDDI,EOxBhC,AuB5BS,CxC8DG,ADtBP,GAAG,CcSmC,Aba3B,CAAC,AWToB,CEJQ,Aba3B,AWToB,CXSnB,AWToB,C6BrD9B,CzCwCK,CAAC,CCsBQ,AwC9Dd,G3BiD6D,Aba5C,AwC9DjB,CxC8DkB,Cab6C,Aba5C,ADtBP,CCsBQ,AwC9DpB,EzCwCe,AyCxCf,CzCwCgB,CAAC,CCsBQ,Cab6C,CAAC,CAAC,Cba3C,CAAC,CAAC,CAAC,CAAC,AwC9DjC,IxC8DqC,GwC9DrC,EAAA,GxC8D6C,CAAC,AwC9D9C,EAAA,CxC8DiD,CAAC,CAAC,AwC9DnD,CxC8DoD,EAAE,AwC9DtD,GxC8DyD,CAAC,CAAC,CAAC,AwC9D5D,ExC8D8D,AwC9D9D,IxC8DkE,AwC9DlE,CxC8DmE,CAAC,CAAC,CwC9DrE,CxC8DuE,IAAI,AwC9D3E,CxC8D4E,CAAC,AwC9D7E,CxC8D8E,CAAC,CACzF,CAAC,GAAG,AwC/DM,CxC+DL,IAAI,CAAC,OAAO,CAAC,CAAC,AwC/DT,KAAA,EAAA,KAAA,EAAA,GAAA,EAAA,IAAA,OAAA,EAAA,QAAA,EAAA,GAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAZb,IAAA,EAAA,EAAA,QAAA,yBACA,EAAA,QAAA,cAGM,EAAiB,CACrB,WAAY,CACV,CAAE,KAAM,gCACR,CAAE,KAAM,yBAA0B,SAAU,SAAU,WAAY,YAEpE,aAAc,gBAGH,QAAA,KAAO,IAAA,WAAI,SAAA,IAGb,KAAA,WAAa,eACb,KAAA,WAAa,IAGb,KAAA,gBAAkB,CAAE,OAAQ,EAAG,OAAQ,GACvC,KAAA,WAAa,MAGb,KAAA,cAAgB,EAEhB,KAAA,QAAU,EAAA,SAAS,aACnB,KAAA,eAAiB,EAAA,SAAS,aAG1B,KAAA,SAAY,WACb,IAWF,EAXE,EAA6B,CACjC,QAAS,EAAA,SAAS,qBAClB,OAAQ,EAAA,SAAS,oBACjB,YAAY,EACZ,MAAM,EACN,YAAY,EACZ,UAAU,GAGR,IAAC,EAAU,OAAQ,OAAO,EAI1B,IACF,EAAK,IAAI,kBAAkB,GAE3B,EAAU,YAAa,EAEnB,IAAA,OAAE,EAEF,IACF,EAAK,EAAG,kBAAkB,cAAe,CAAE,SAAS,IACpD,EAAU,MAAO,EACjB,EAAU,WAAa,EAAG,QAGtB,IACF,EAAG,WAAa,OAChB,EAAU,YAAc,EAAA,SAAS,MACjC,MAAO,KAET,MAAO,IACC,QACJ,GACF,EAAG,SAGP,MAAO,IACC,QACJ,GACF,EAAG,QAIA,OAAA,EA7CY,GAsDrB,KAAA,KAAO,EAAW,KAClB,KAAA,OAAS,EAAW,OAIZ,KAAA,WAAqB,EAiE/B,OA5IE,EAAA,UAAA,KAAA,aAiEA,EAAA,UAAA,WAAA,SAAW,GAEF,OAAC,GAAM,uCAAuC,KAAK,IAU5D,EAAA,UAAA,MAAA,SAAM,GAQG,IAPD,IAAA,EAAS,GACT,EAAO,EAAK,KACZ,EAAQ,KAAK,KAAK,EAAO,QAAA,KAAK,YAEhC,EAAQ,EACR,EAAQ,EAEL,EAAQ,GAAM,CACb,IAAA,EAAM,KAAK,IAAI,EAAM,EAAQ,QAAA,KAAK,YAClC,EAAI,EAAK,MAAM,EAAO,GAEtB,EAAQ,CACZ,WAAY,KAAK,WACjB,EAAG,EACH,KAAM,EACN,MAAK,GAGP,EAAO,KAAK,GAEZ,EAAQ,EACR,IAKK,OAFF,KAAA,aAEE,GAGT,EAAA,UAAA,kBAAA,SAAkB,EAAY,GACtB,IAAA,EAAK,IAAI,WAUR,OARP,EAAG,OAAS,SAAU,GAChB,EAAI,QACN,EAAG,EAAI,OAAO,SAIlB,EAAG,kBAAkB,GAEd,GAGT,EAAA,UAAA,0BAAA,SAA0B,GAGnB,IAFC,IAAA,EAAY,IAAI,WAAW,EAAO,QAE/B,EAAI,EAAG,EAAI,EAAO,OAAQ,IACjC,EAAU,GAA4B,IAAvB,EAAO,WAAW,GAG5B,OAAA,EAAU,QAGnB,EAAA,UAAA,YAAA,WACS,OAAA,KAAK,SACT,SAAS,IACT,OAAO,IAGZ,EAAA,UAAA,SAAA,WACS,MAAsB,WAAtB,SAAS,UAEpB,EA7IoB;AtByBf,ADIDG,AhBCJ,AcSA,AFWA,AbcA,CadC,AbcA,GiBnCGA,AZyDF,AHxDA,AHWA,AYaA,COlCE,GZ+BA,ADmCE,AMhCA,CVxBG,AcSA,ALcJ,ACCe,CMzBV,ANyBW,CMzBVY,AZyDF,AHxDA,AHWA,CUuFH,AVvFI,CKwBC,AIgDJ,AH3BI,ECnCA,APVE,COUD,CFcG,ALxBA,EEXI,CgBDf,AhBCgB,AawCV,CVLS,EapCI,AFUA,CAAC,AD+BV,AL0DI,AVvFI,CEXU,AKqBX,CAAC,AJrBL,AOkGG,AVvFI,CEXU,ACAhB,CHWQ,COUD,APVE,COUD,AJrBL,AYwCD,AL0DI,CRlGsB,ACAxB,CAAC,CDAyB,AcSc,AbTtC,CeDpB,AHyCoB,CZxCE,CAAC,CDAiC,CCA/B,CDAiC,ACAhC,CIqBM,CAAC,CAAC,CLrBmD,CCAtD,CAAC,AYwCD,Ef7BU,CGXN,AHWO,CGXN,CAAC,AYwCD,CZxCE,AHWO,EGXL,AHWO,OAAO,Ce6BP,CAAC,Af7BQ,Me6BF,CAAC,Af7BQ,Ee6BN,Af7BQ,OAAO,CAAC,CAAC;A0CrD9E,AvBsCG,ADICE,AJsBJ,AbFA,ADRA,CAAC,CAAA,CmBxBC,CDYEA,AhBCF,AcSA,AJeA,CDDC,GKdG,ATaF,ADkCA,AHxDE,CeDG,AJsBA,AFGF,GPUc,AIiDf,AH3BE,AI0CF,CgC3IN,CnC+DU,AJtBE,CGwDD,AMhCE,CVxBC,AIwDF,CoCjGZ,AxCyCe,AcSA,E0BlDf,AjC4Ha,AF7DE,AJtBE,ASwBA,CPUY,AWzBX,CXyBY,AKgEf,CRlGK,AKsBF,AJtBE,CDAC,AKsBF,ADkCA,AI0CF,A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,AQlCX,AXrBA,AOkGJ,AE1EE,CEHG,CEZC,CFYC,CEZC,CTaD,AJtBE,EIsBA,AJtBE,AQuBA,CTvBC,AIuDW,CJvDV,AIuDW,CKhCV,EQ5BlB,AJ6CU,Cf5BkB,CmBjBJ,Ab4DS,ASfrB,AJjBU,CLgCY,ASfrB,AL0DM,AE1EL,CVxBU,AFYO,AYYhB,CF0EM,AC3EI,AXXO,EEZL,ASuBA,CTvBC,ASuBA,AXXe,EUsFjB,AVtFmB,CM2CH,ASfrB,AHhBC,CVxBU,AUwBT,CN+BqB,AM/BpB,CO7BY,AjBKF,AawCV,ETeuB,CAAC,AN3Ca,CEZvB,AIuDW,ASfrB,CbxCW,AawCV,Af5BiD,CEZtC,CFYwC,CAChF,kBAAkB,CAAC,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AmBjBzCJ,ADIFH,AyBqBF,A3CNa,EkBfXA,ECJEG,AduCF,AHlCA,ASuBA,EOxBI,CAACI,CTqFH,AO3EA,AV8CA,AQlCA,AHEE,AXTO,AYUT,CMzBF,AbmCK,AKgEF,AE1EA,CO7BK,ADIA,APwBF,ACCF,CO7BKQ,CHcH,ATaF,AODE,AXrBA,CwCoBR,A7BCS,AHE0B,CLgCzB,AQlCA,CTaG,ACqBF,EqCnCX,ApCEW,CAAC,AJtBE,CwCoBd,AtCciB,AIkDF,AE7D0B,CQ5BrC,AVyFY,APpFE,AIuDF,AKhC0B,AXTjB,CEdN,AcSF,AV8CA,ASfN,AHhBM,CN+BC,Ca5DK,AduCF,ASbF,AdPS,CkBf1B,AJsBkB,AXrBA,AHcS,AYUT,C+BJpB,CzBrB0B,AhBCF,AFcoB,CKoBnB,AHlCA,AKsBJ,AJtBE,CMoFC,ATtEsB,AYUtB,CPUG,AOVF,C+BJzB,ApCEwB,AIC0C,CGFvC,AHEwC,AXTH,EAAQ,CGd1C,CAAC,AHc2C,EEdvC,CgBDG,AyBqBtC,AzCpBoC,CKsBH,CJtBG,CAAC,GDAK,AKsBJ,CLtBK,AKsBJ,AJtBE,CAAC,CwCoB1C,AxCpB2C,CDAG,CyCoB9C,CzCpBgD,AKsBJ,EoCF5C,EzCpBoD,AKsBJ,EoCFhD,AzCpBsD,EiBLlD,AwByBJ,CpCEqD,CLtBK,AKsBJ,ELtBM,EKsBF,ELtBM,AKsBJ,CLtB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E,CIsBD,AJtBE,CEkCC,AEZF,AJtBE,CEkCC,GEZC,CAAC,CFYG,AFlCA,CAAC,CEkCC,CAAC,CAAC,EEZA,CAAC,EFYI,CAAC,CAAC,AEZF,CFYG,AEZF,CFYG,CEZD,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AqCjBtG,A1BLID,AhBEJ,AIsDA,ANzCA,CMyCC,ANzCA,CAAA,EkBfGA,CNyBD,GPUC,AW1BA,ALeA,CTtBY,ACDT,EeDI,CAACC,AbmCJ,AEZF,AG4EA,CkCjJN,A9BmES,EIrBL,CAAY,AbmCJ,AIkDJ,AF9DE,CqCrEE,A5BuDC,ATcF,AOFE,AHGA,CNWC,ASdA,AJ8EF,AC3EE,CiC7DF,A9B0DG,CEZC,AN0FF,CkCnIF,A1CkCgB,ASsBX,CF6DH,APnFe,ASsBX,CiC/CN,C5BgCQ,AD+BR,AJhBQ,CiChCR,A5BiBS,AN0FF,AC3EE,EiC1BT,A1CI6B,AKqBpB,AOFE,CLgEH,AF9DE,AOFE,C8BhBZ,EAAZ,AnCgFuB,EF9DI,EAAE,AOFE,ACmBR,CN6CK,AM7CJ,CN6CK,AE7DI,CiCnBjC,AjCmBkC,CJDD,CAAC,CAAC,IICM,CAAC,CIgBP,AJhBQ,CF6DH,AE7DI,CF6DH,AM7CJ,EGxCjC,E0BKJ,A1BPsC,CAIlC,ATmF0C,EAAE,IM7CA,C6BnChD,C7BmCkD,EN6CM,AM7CJ,CN6CK,AM7CJ,CN6CK,AM7CJ,Q6BnCtD,CAAA,OAAA,IAnDA,SAAY,GACV,EAAA,KAAA,OACA,EAAA,OAAA,SACA,EAAA,KAAA,OACA,EAAA,MAAA,QACA,EAAA,MAAA,QACA,EAAA,gBAAA,kBANF,CAAY,EAAA,QAAA,sBAAA,QAAA,oBAAmB,KAS/B,SAAY,GACV,EAAA,KAAA,OACA,EAAA,MAAA,QAFF,CAAY,EAAA,QAAA,iBAAA,QAAA,eAAc,KAK1B,SAAY,GACV,EAAA,KAAA,OACA,EAAA,MAAA,QACA,EAAA,WAAA,aACA,EAAA,KAAA,OACA,EAAA,aAAA,eACA,EAAA,MAAA,QANF,CAAY,EAAA,QAAA,gBAAA,QAAA,cAAa,KASzB,SAAY,GACV,EAAA,oBAAA,uBACA,EAAA,aAAA,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1BsCTC,ADIAA,AlBeJ,CAAC,CAAA,EmBnBGA,ADIAA,AZuDF,AHzDE,AQyBF,CJDC,AJxBE,CAAC,CAAC,CgBFC,ADIA,AhBCJ,AIsDE,Ca3DGmB,ADIAD,APuBF,ERzBI,CEoCL,AW1BA,AFUyC,AXpBnC,AOoGN,CDdC,AH7BI,AShBJ,CTgBK,AHzDE,CAAC,AQyBF,CGLsC,AXnBhD,AQwBW,CGLsC,AXnBhD,CgBHA,ALsBiD,CJgFxC,AC3EI,EKfF,AbTP,AOmGO,AC3EI,COvBf,AZuDgB,AHxDX,CEmCQ,ACqBI,CDrBH,AHjCE,AcOF,CEROnB,AhBCJ,ACFT,AOmGO,CIhF0C,AXnBhD,AQwBW,CGLsC,AXnBhD,AQwBW,CNWH,CAAC,AW1BA,CdPG,AcOF,AV+CI,CJtDD,ASsBE,CLgCC,CDrBH,CAAC,AShByC,AXnBhD,CeCjB,AfDkB,EEmCS,CAAC,AMXI,CNWH,AMXI,ETtBA,CAAC,CCFR,EAAE,CAAC,AQwBW,CRxBV,CDEU,ASsBE,CTtBD,ACFT,CAAC,AQwBW,CRxBV,CAAC,EDEW,CAAC,CAAC,ECFP,CAAC,QAAQ,EAAE,CAAC,CAAC;AgBFvD,ADICC,A4BzCS,A3CwCb,AHiBa,CGjBZ,EgBXC,CDYEA,ChBCD,GgBDK,AFQJ,AV+CA,AKhCA,AXPS,CkBhBJmB,AbkCJ,AW1BA,ATaI,AG6EJ,CM1FC,CAAC,CP4ED,AE7DE,CmChEK,AxCgGJ,AKhCA,CLgCC,EQtC6D,CgC1D1D,A/BiFF,CGxCP,AlBgBmB,C8CzDV,ArC6HA,CKnE8D,CAAC,AdDlD,CMuCR,AKhCA,AXPS,CMuCR,AKhCA,CF6DD,ATpEwB,C8CzD7B,ArC6HM,CKnE8D,AHM3D,AXPsB,CcCsC,AHM3D,AXP+B,CcC6B,CdDrB,C8CzDjD,AxCgGa,AQtC2D,AHM3D,CGN4D,AHM3D,AXPqC,CcCuB,CRsC1D,AQtC2D,OgC1D3E,ExCgGyB,CAAC,QwChG1B,OAAA,EAAA,OAAA,QAAA,SAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,UAAA,OAAA,EAAA,EAAA,IAAA,IAAA,IAAA,KAAA,EAAA,UAAA,GAAA,OAAA,UAAA,eAAA,KA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AOA,EAAA,QAAO,IAAI,2BAA2B,KAAK,WAAW,MA1T/C,CAAA,EAAA,GAAA,KAAA,EAAA,OAAA,EAAA,EAAA,OA4TP,EAAS,UAAU,EAAA,cAAc,OAAQ,GACzC,EAAA,QAAO,IAAI,8BAA+B,GA7TnC,CAAA,EAAA,GAAA,KAAA,EAAA,MAAA,CAAA,SAiUH,EAAA,UAAA,uBAAR,SACE,EACA,GAII,GAFJ,EAAA,QAAO,IAAI,0BAA0B,EAAO,GAAE,wBAEzC,EAAe,SACX,OAAA,EAAA,QAAO,MACZ,oEAIJ,EAAO,YAAY,QAAQ,SAAA,GACzB,EAAe,SAAS,EAAO,MAI3B,EAAA,UAAA,4BAAR,SACE,EACA,GAEA,EAAA,QAAO,IACL,cAAc,EAAO,GAAE,wBACvB,EAAgB,cAIlB,EAAgB,UAAU,IAE9B,EA9VA,GAAa,QAAA,WAAA;A3BsCXnB,ADIC,AhBCH,ACZA,CDYC,CiBLCA,CDJA,CFgBA,AhBQA,CKkBC,AW1BA,CGZG,AHYF,AhBQA,CmBpBGO,AnBoBF,CSoED,AF/DA,ADkCA,AI2CA,CStGF,AVwFG,AKpEqF,CKpBhF,EZyBF,AICqB,AXNnB,CMuCD,AI2CA,AVlFE,CMuCD,CI2CC,CK1DH,CI5CN,Ab2DW,CAAC,AKjCqB,CQ1BhB,AR0BiB,GJDlB,AJvBjB,CHkBoB,CMuCD,EAAE,ANvCE,CMuCD,ASfJ,AfxBM,CewBL,AfxBM,CAAC,CWMoB,AXNnB,CmBpBG,AR0BiB,QIkBjB,AfxBM,CAAC,CewBL,AfxBM,CAAC,CWMoB,CAAC,KAAK,CAAC,AXNnB,CWMoB,AXNnB,CewBL,AJlByB,EIkBvB,EAAE,CAAC,CAAC;AgCvF5B,A5B4ClBL,ADIFF,AhBLF,AcaA,AhBQA,CgBRC,AhBQA,CkBhBCA,AlBgBD,EmBpBGE,AdsCF,CCqBC,AKjCA,COtBG,CAACK,CCJC,AVyFJ,CSrFF,AbkCK,CalCG,CCJC,CZwBS,AGgFd,CqCpJgB,AjCgEb,ACwBF,EI5CH,AdsCS,CAAC,C0ClFQ,A7BgDpB,AXoBuB,AOJZ,CPIa,AOJZ,CiChEQ,A7BgDH,AJgBJ,AJoFF,CLlEK,ASlBF,CLqEC,ACeF,CAAC,CAAC,EqCp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B,CWQ7B,AXR8B,CEf7B,GAAG,EAAE,AauCJ,AJhBI,CIgBH,AfxBkC,CWQ7B,AXR8B,CkBhB7D,AlBgB8D,CEf7B,ASwBnC,ETxBqC,GAAG,EAAE,CAAC,GSwBhC,GAAG,IAAI,GAAG,EAAE,EACvB,QAAQ,GAAiB,EAAE,CAAC;AsC/EjB,A9BkDXiB,ADIC,ECJDA,CDAA,CbsCA,AHjCA,AKkBA,ADoCA,AK7BA,AXVA,COGC,CYvBG,AZuBF,CYvBGO,Cb2DD,ANvCA,CmBpBJ,AZuBK,AIOA,AXVA,CmBpBG,AZuBF,APHA,CKkBC,CIoDH,AM9CA,AL4DA,CuC1JO,A3C6GF,CAAC,CK7BC,CJPC,AOLH,AC0BD,CkC9FG,A9BkDX,AR8Ba,AXVA,COGC,C0CzEH,A9BkDM,AZuBF,AGiFJ,CRnGK,AYaH,CZbI,AYaH,AJsFD,AC1EI,AXVA,CMuCC,ANvCA,CMuCC,ASfJ,AfxBI,CewBH,CkC9FL,AxC4ID,ACcO,CDdN,APrFW,AYaH,CZbI,AYaH,AC0BD,AJdI,CGZF,AC0BD,CI5COa,Ab2DF,ASfJ,CkC9FV,A3C6Ge,AQzCH,AC0BD,CN8CN,AKxEQ,CKlBP,AV0FA,AKxEQ,CAAC,CKlBM,CJ4CL,CTeK,ANvCA,CewBH,AfxBI,CMuCC,ANvCA,CEfC,AFeA,CEfC,C+CvDzB,GxC4IkB,EAAE,APrFW,CAAC,GAAG,COqFV,CwC5IzB,AxC4I0B,APrFW,COqFV,GwC5I3B,A/CuDyC,E+CvDzC,A/CuD2C,GAAG,CAAC,CAAC,I+CvDhD,EAAA,GAAA,OAAA,EAAA,OAAA,gBAAA,CAAA,UAAA,cAAA,OAAA,SAAA,EAAA,GAAA,EAAA,UAAA,IAAA,SAAA,EAAA,GAAA,IAAA,IAAA,KAAA,EAAA,EAAA,eAAA,KAAA,EAAA,GAAA,EAAA,MAAA,EAAA,IAAA,OAAA,SAAA,EAAA,GAAA,SAAA,IAAA,KAAA,YAAA,EAAA,EAAA,EAAA,GAAA,EAAA,UAAA,OAAA,EAAA,OAAA,OAAA,IAAA,EAAA,UAAA,EAAA,UAAA,IAAA,IAAA,GAAA,EAAA,MAAA,KAAA,iBAAA,SAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAA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HAIA,2FAIE,IAAI,MAAM,+DACd,GAGE,MAAA,IAAI,MAAM,iBAAiB,EAAS,QAG5C,MAAA,CAAA,EAAO,EAAS,QA/ET,KAAA,EAmFD,MAnFC,EAAA,EAAA,OAiFP,EAAA,QAAO,MAAM,8BAA+B,GAEtC,IAAI,MAAM,4CAA8C,GAnFvD,KAAA,EAAA,MAAA,CAAA,SAsFb,EAtFA,GAAa,QAAA,IAAA;AhCsD6B,ADM1C,AbkCA,ACoBA,ANtCa,CMsCZ,GClCC,AONA,ILyEE,APtFA,AaoCA,AJZA,AXTS,CKkBJ,AEdF,CLnBD,AaoCA,CI3C0CQ,AjBOzC,AYaE,CLyED,AKzEE,AJqFJ,AC1EE,CNSK,ASpBF,ACuBF,CVHK,CcxCsC,AZ0BvC,AONA,ACuBF,CAAC,AfrBS,CmBtBqB,CjBO5B,AKmBE,CFcU,AKiEb,AVnFW,CAAC,CKkBG,AHjCX,AQkGF,CH/EK,CAAC,AIKF,CNSiC,AEd9B,AIKF,GIY+C,AJZ5C,AXTiB,CeqB4B,AJZ5C,CXTkB,CEfhB,AKmBE,CLnBD,CKmBG,EIKA,CAAC,GXT6B,EAAe,EAAE;AmBtBnC,AiCvB7B,A9C6Eb,GatDE,CdyCA,ALlBA,CeqBC,GbpCC,AKmBA,AONA,EToBI,ALlBA,ESuEF,AKzEE,AHUyB,AXRvB,CoD9CG,A/CgEF,ASpBF,CPMC,AONA,CdEG,CKkBC,AKiEN,C0CjIK,EAAA,C7CkDG,CFcG,AKiEN,CLjEO,ACmBnB,AQvCiB,CPMC,AONA,AJqFJ,AC3E6B,AXRvB,CEfD,ASuByB,AXRvB,CoD9CT,A3CqHD,APtFS,AQkGJ,CDZJ,CPtFU,ASuByB,CTvBxB,AQkGJ,AC3E6B,EyCtDpC,AtC4Ca,AJqFJ,CLjEO,AIqDX,CJrDY,AIqDX,AKzES,CJqFH,CDZJ,APtFS,ASuByB,CTvBxB,AQkGJ,CC3E8B,CF+DjC,ATvEW,CAAC,CKkBC,CAAC,AHjCF,AQkGJ,AC3E6B,CyCtDhD,AlD+BwB,ASuByB,CF+DjC,APtFS,AKmBA,AG+EJ,AC3E6B,CF+DjC,AFnES,EPJI,COIS,APJR,CSuEV,ATvEW,CSuEV,AFnEmB,GG+EX,C0CjI9B,C3CqH2B,ACYK,CDZJ,CAA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CR,MAAA,IAAI,MAAM,4EACX,GAAK,KAAK,cAAiB,KAAK,KAI/B,MAAA,IAAI,MAAM,QAAQ,KAAK,GAAE,qEAF/B,EAAA,QAAO,MAAM,oEAYjB,EAAA,UAAA,aAAA,SAAa,GAAb,IAAA,EAAA,UAAa,IAAA,IAAA,EAAA,SAAM,MACZ,KAAA,KAAK,eACP,KAAK,SAAA,GAAS,OAAA,EAAG,KACjB,MAAM,SAAA,GAAS,OAAA,EAAK,OAAO,EAAA,cAAc,YAAa,MA9gBnC,EAAA,YAAc,SAghBxC,EAjhBA,CAA0B,EAAA,cAAb,QAAA,KAAA;AjCwBZ,Ab6DD,IDpBE,AUMA,AfxBA,CEfC,GGiCG,AIqDF,AFnEA,APJE,CSuED,AHjCI,ASdF,EVNE,CEdD,AOPsB,GC2BjB,CVNC,AEdF,AOPsB,AC2BpB,AL2DN,CH/EK,AOPsB,AdGpB,CcHqB,AC2BpB,CTcG,AI6CR,CJ7CS,ASdF,CTckB,AI6CvB,EAAE,ELjEQ,CSrBqB,AJsF1B,CLjEO,AEdF,AOPsB,CPOrB,AG+EJ,CK3DO,CAAC,CL2DL,EAAE,CH/EK,AOPsB,AC2BpB,ERpBA,EG+EF,CH/EK,CAAC,AG+EJ,CK3DO,EAAE,CRpBD,KG+EC,EAAE,CH/EK,MG+EE,EAAE,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE;A2CxJhE,AlCgDN,AjBOA,CAAC,GIqDC,IDpBE,AIsDA,AMhDA,AfzBa,EMuCT,ANvCW,CAAC,CKmBZ,AEf0C,AQqB1C,AJhBC,C0C9EH,AhDwFG,AUMA,CTcG,CGkCD,CAAC,AK5E0C,AJuF9C,CJ7CO,CDpBD,ACoBE,CDpBD,AEf0C,ADmCxC,C+C5GX,A5C8IoB,AHlCR,AI6CN,AC3EK,AXTY,CWSX,CNUA,AKiEJ,CLjEK,AEf0C,APJ7B,COI8B,AOPA,AC4B1C,AL2DJ,CIvF+C,AC4B1C,AJhBC,CGZ0C,AHYzC,CD2EJ,CJ7CO,AQ1CwC,AC4B1C,AJhBC,CGZ0C,AC4B1C,AL2DJ,AC3EK,CGZ0C,AHYzC,CGZ0C,AC4B1C,CVNC,ACoBE,ASdF,AL2DJ,AVpFiB,CMuCV,ANvCW,CMuCV,ASdF,AL2DJ,C2CzJpB,I3CyJyB,EJ7CQ,AI6CN,CJ7CO,C+C5GlC,G/C4GsC,II6CF,EAAE,I2CzJtC,CAAA,E3CyJ6C,EAAE,CAAC,E2CzJhD,A3CyJkD,EJ7CC,CAAC,C+CxH1D,A/CwH2D,CAAC,CAAC,E+CxH7D,C3CqKiE,C2CrKjE,C3CqKmE,EAAE,EAAE,G2CrKvE,UACA,EAAA,QAAA,UAEa,QAAA,OAAS,CACpB,KAAI,EAAA,KACJ,KAAI,EAAA,MAGN,QAAA,QAAe,EAAA,KAET,OAAQ,OAAS,QAAA,OAEjB,OAAQ,KAAO,EAAA;AnDiDrB,II4DE,ANvCA,COIC,GIKC,CGbmE,CR2C/D,AK9BF,CXTG,CKkBqB,AIuDxB,AMhDA,CJhBG,AXTE,CMuCC,ANvCA,CWSD,CD2EH,AC3EI,CNSuB,ACqBpB,CDrBqB,ACqBpB,CAAC,ASdJ,EVP0B,CAAC,AUOxB,AL2DF,EAAE,CJ7CO,CI6CL,CC3E+B,CAAC,CL8BvB,AI6CN,CJ7CO,CDrBqB,ACqBpB,AI6CN,ELlE4B,AIuDpC,CJvDqC,AIuDpC,AMhDY,AL2DF,CK3DG,CbxC5B,AQmG2B,EJ7CQ,ASdJ,CNgDX,AMhDY,ENgDV,ACWU,CJ7CO,CAAC,AI6CN,CJ7CO,CGkCf,CAAC,CAAC,CMhDa,CAAC,CAAC,EL2DA,EAAE,MJ7CY,CAAC,AI6CN,EAAE,CAAC,EAAE,KJ7CW,CAAC,CAAC,EI6CJ,EAAE,EAAE,EAAE;ARjGzE,AFcA,CAAC,CAAA,EOIC,ADmCA,CK9BC,GNSC,AIuDA,CAAC,APvFI,EKkBA,ADmCA,CSdH,CD7BG,ETsBE,CEdG,AQqBJ,AL2DF,CHhFO,AORF,CR2CG,AQ3CF,CR2CG,AQ3CF,AC6BF,CTcK,AQ3CF,EZVM,CAAC,CIqDD,AI6CN,CJ7CO,CAAC,ASdJ,AL2DF,CJ7CO,CJrDU,AIqDT,AQ3CF,AJwFJ,CJ7CO,CJrDU,AIqDT,ASdJ,CTcK,AI6CN,CJ7CO,CAAC,AI6CN,CRlGwB,EAAE,AIqDjB,CAAC,ASdJ,AL2DF,CK3DG,CL2DD,CRlGgC,CIqDxB,ASdJ,CTcK,CAAC,ASdJ,CTcK,ASdJ,AL2DF,CJ7CO,CAAC,AI6CN,CJ7CO,CAAC,CAAC,CAAC,CAAC,CAAC,GI6CH,EAAE,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,EAAE,EAAE;AQpG9E,AXqBA,ADmCA,CCnCC,ADmCA,GJrDC,ASwBA,CNQC,GIwDC,APxFE,CgBHGZ,AhBGF,ASwBA,GGfmB,AC8BpB,EG1CN,AhBGY,CAAC,ASwBA,CD0EL,CQrGS,AP2BF,CIeH,ED9BsB,CL+EjB,AK/EkB,AHehB,CFgED,AK/EkB,EAAE,CZTf,AYSgB,AJyFtB,CIzFuB,CAAC,AJyFtB,CDVkB,CMjDd,AL2DF,AC1EM,GIeD,AL2DF,EAAE,IAAI,EAAE,KAAK,CK3DG,CAAC,AL2DF,SAAS,EAAE,GK3DF,CAAC,EAAE,CAAC,AL2DK,EK3DH,AL2DK,GAAG,EAAE,EK3DH,CAAC,CAAC,KL2DU,EAAE,EAAE,EAAE;AQpG7E7B,AXsBF,ADmCA,EYzDEA,EbmCA,ASvBA,CAAC,CAAC,EZVqB,ASwBI,CJJb,ADmCP,CYzDC,AbmCF,CanCGC,CT2FL,AMjDA,AJhB2B,CAAC,CNStB,CHjCoB,CawCtB,AL2DF,CLlEO,ACsBE,CDtBD,ACsBE,EJvDmB,AawCvB,CVPK,AHjCmB,AKoBV,CFaR,AEbS,AQoBb,CRpBqB,AG+EtB,CC3E8B,CO1B3C,AbmCqB,AIwDX,AFrE2B,AG+EtB,AC3E6B,CO1BpB,AT2Fb,AHlCuB,CI4CjB,AC3E6B,CNStB,ACsBY,AK/BW,CAAC,CJJI,AG+EhC,CLlEO,AIwDX,AHlCoC,CDtBxB,AIwDX,AFrEqC,AG+EhC,CQrGtB,AXsBsE,CEqEnD,CS3FcgC,AT2Fb,AFrEoD,CG+E9C,CLlEO,CAAC,AKkEN,EDVH,AFrE8D,CFalD,AIwDX,ECUO,CLlEO,CAAC,AKkEN,IDVD,CAAC,CS3FnC,CAAkD,EbmCA,AKkEN,CLlEO,CKkEL,IDVD,GS3F7C,AT2FgD,ACUK,EQrGU,ARqGR,GAAG,CDVJ,CCUM,CDVJ,IS3FQC,CAAD,AT2FF,CAAC,CS3FQ,AT2FP,CCUM,EAAE,EAAE,EAAE;AQpGzEpB,AJYJ,CAAC,GIZGA,AbmCF,AHhCA,AKoBA,ADkCA,AK9BA,IO3BM,AbmCF,AIwDF,CS3FKqB,AT2FJ,AEhEE,CTxBC,AKoBA,ADkCA,EDtBE,CanCN,AXuBO,CLpBC,CSwBC,CNQC,AEZQ,AQmBd,AL2DA,CLlEO,AHhCA,ASwBA,ENQE,ACsBA,CClCS,AQmBd,CRnBe,AQmBd,AJfM,CTxBC,AIsDA,CJtDC,AIsDA,CAAY,AI4CjB,EJ5CmB,ASfjB,AL2DA,CC1EO,CL8BY,AI4CjB,CRlGO,AIsDW,ASfjB,AJfM,CTxBC,AIsDW,CAAC,ASfjB,AL2DA,CK3DC,CG1CED,AhBGK,AQkGN,CQrGE,AhBGK,CgBHJE,AZyDgB,GJtDR,AQkGN,CRlGO,CAAC,AIsDW,AI4CjB,EQrG5B,CZyDgD,CAAC,CI4ChB,EAAE,CJ5CkB,IAAI,CAAC,CAAC,EYzDxBF,ARqGS,CQrGR,CAACG,AZyD0B,AI4CjB,KJ5CsB,EYzDpE,ARqGqD,CJ5CkB,CAAC,AI4CjB,IJ5CqB,AI4CjB,CJ5CkB,CI4ChB,SAAS,EAAE,EAAE,EAAE;AQpG7E,GAFD,ChBKA,AKoBA,ADkCA,CClCC,CAAC,EFYA,AIyDA,APzFE,ASwBF,CTxBG,CIsDC,EClCE,AIIF,CNQC,AHhCE,AKoBA,AG8EJ,AC1EE,CNQC,EEZI,AQmBN,CNkDK,APzFE,AKoBA,ADkCA,CGmCD,EFrEI,ADkCA,CJtDC,CAAC,AKoBA,CFYD,CAAC,AIyDa,AEjEb,CIeH,AJfI,CTxBG,AauCN,CRnBO,CAAC,ADkCA,AK9BF,CJJG,ADkCA,AK9BF,CIeH,CVPK,AHhCE,ASwBF,CIeH,AJfI,ENQE,CCsBG,CAAC,AK9BF,CTxBG,ASwBF,GL8BK,CAAC,EDtBA,AUOJ,CVPK,AUOJ,CAAC,KTeW,CAAC,CAAC;AYxDhDvB,EAAAA,EXuBA,ADkCA,CClCC,CWvBG,AXuBF,CWvBGK,CbmCH,AHjCiC,AIuD/B,CYzDJ,AXuBK,CWvBG,AXuBF,EEqEF,ACSA,AC3E6B,CNS1B,AUOF,CVPG,CHjCkC,AIuD/B,CYzDX,AXuBY,AIGyB,CNS1B,AMT2B,CO1BtB,AbmCJ,AEZE,AG8EJ,CH9EK,CLrBgC,AQmGnC,CRnGoC,IO0FtC,CAAC,CJzDU,CanCJ1B,AP0BgC,CNS1B,AMT2B,CNS1B,CIyDR,CS5FA,AT4FC,ES5FS,AT4FP,CAAC,KAAK,AElEoC,CFkEnC,AElEoC,KAAK,EAAE,CFkEnC,CAAC,AElEoC,EAAE,IFkEhC,GAAG,AElEoC,EAAE,IFkEhC,EAAE,IElEwC,CFkEnC,CAAC,AElEoC,CFkEnC,KElEyC,CAAC,CAAC,CAAC;AQ/BlG,ADMH,IhBGF,AKqBA,CFWC,AMTA,GFkEC,AHpCW,Ca9DCgD,AVkGX,CPzFG,AKqBA,GY9BD,CAAcrB,EAAd,Ab8DgB,AI6Cf,CRlGO,AIqDS,ASdb,CIhDc,AZ8BT,ELrBE,CKqBC,EDgCW,AI6Cf,EH7EQ,AG6EN,CH7EO,ADgCS,KYxDjB3B,GhBGS,AIqDgB,CYxDrC,AhBGsB,AIqDgB,IJrDZ,AKqBO,CLrBN,AKqBO,CLrBN,AKqBO,ADgCS,CChCP,ADgCQ,CChCP,KDgCa,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CI6Cd;AS1G5D,ADMC,AP0BH,CAAC,EO5BC,ChBKA,AKsBA,AD+BA,CC/BC,CAAC,EEoEA,AHrCE,CDtBG,ACsBF,CJrDC,GQkGD,EH5EM,CAAC,AD+BA,ASdN,CbvCO,GAAG,AIqDA,EGqCA,AMnDJ,CNmDK,AFpEE,GEoEC,AFpEE,CD+BC,CAAC,ISdF,CTcO,CJrDN,CAAC,AauCC,GTcS,CJrDN,CAAC,CAAC,AIqDO,CAAC,KAAK,GSdV,CAAC,QAAQ,EAAE,SAAS,CAAkB,CAAC;AI/CxE,ADMAqB,AP2BF,EO3BEA,EhBGA,EiBTIA,ADMA,CAACK,CbkCH,AH/BE,AKsBF,AD8B2C,CYvD7C,AhBGK,ASwBE,CQjCP,ADMQ,ECNE,AVmGN,AFpEE,AG4EF,ELnEI,AETA,ELtBI,AIoDyC,ASb/C,CG1CN,AhBGa,AKsBF,AD8B2C,CDrB1C,AH/BE,ASwBE,CO3BC,AT6FN,AP1FI,ASwBE,ENOF,AMPG,EL4B0C,AI8C7C,CDRC,AP1FI,AIoDyC,CGsC5C,AP1FI,AQkGJ,AC1EK,CIeN,CVRK,AUQJ,AL2DE,AC1EK,CNOF,ACqB2C,CJpDxC,AIoDyC,EYvDrC,AP2BD,CNOF,ACqB2C,ASb/C,CVRK,ACqB2C,AK5BxC,CNOF,ACqB2C,CSb9C,CbvCO,CAAC,AauCN,CbvCO,AauCN,AJfO,CFkEJ,AP1FI,CO0FH,AElEK,GFkEF,CP1FK,CO0FH,AP1FI,ASwBC,CTxBA,CSwBE,GFkEF,AP1FI,CO0FH,KElEU,CTxBA,CAAC,ASwBW,CFkEd,AP1FI,CO0FH,AP1FI,ASwBW,KFkEV,AP1FI,CO0FH,EAAE,EElE6B,ETxBrB,ASwBuB,CFkE1B,AP1FI,CO0FH,AP1FI,CAAC,EO0FF,CAAC,CElEqC,EAAE,GFkEjC,EAAE,CAAC,AElEgD,CFkE/C;AUlG9EL,ADMAC,ICNAD,ADMAC,AZuDF,AK5BA,IQjCM,AdwCJ,AI2DA,AP3FuE,AKuBvE,CY/BKwB,AVmGJ,ACQA,CQrGK,CAACZ,AP2BF,CL4BC,AK5BA,CNOD,AETA,AD8BE,Ca7DP,CjBQ8E,CawC1E,EJfQ,CNOD,AMPE,CO3Bb,AhBEmF,CAAC,AIqDrE,CDrBD,ACqBE,CYvDG,AZuDF,CK5BC,CIeL,CVRK,AUQJ,AJfM,GNOC,CAAC,EMPI,CAAC,CNOD,CAAC,CUQH,EAAE,CJfO,CNOD,CAAC,AMPE,MNOI,CMPG,CNOD,AUQJ,CAAC,AJfM,CNOD,AUQJ,GJfS,EAAE,IAAI,EAAE,KO3BxD,AP2B6D,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;AQhCvG,ADMCb,AZuDJ,CAAC,GYvDGA,AhBEF,IgBFM,AT8FJ,AP5FE,AKuBF,AG4EA,AC1EA,GO3BO,CbkCL,AKmEE,CC1EC,CD0EC,CQrGN,AbkCK,AHhCI,AKuBF,CFSD,AHhCI,AawCN,CVRG,AI4DE,AP5FE,AKuBF,AIEA,CNOD,AHhCI,GGgCD,EHhCM,AawCN,CVRG,AHhCI,AawCN,CVRG,AETE,CFSD,AKmEL,AC1EO,CNOD,AMPE,CTzBG,AQmGT,CRnGU,CGgCH,EMPI,CAAC,CNOD,AHhCI,CGgCH,AHhCI,CawCL,CAAC,IbxCU,CAAC,GAAG,CAAC,CawCL,EAAE,CbxCO,CAAC,EAAE,GawCH,CAAC,UAAU,CAAC,CAAC;AGzC1D,AZwDH,GY3DE,ERwGC,CAAC,EDNA,AP7FA,AKuBA,AIEA,CL6BK,EC/BF,CFSD,AHhCE,CKuBC,AQiBF,EVRE,CAAC,CAAC,ACsBM,AK7BJ,CNOD,ACsBM,CJtDH,CO6FC,AP7FA,CGgCD,AI6DE,AP7FA,AKuBA,AIEA,CTzBC,EGgCA,CAAC,CAAC,AI6DE,AHvCc,CDtBf,AHhCE,CO6FC,AP7FA,EGgCA,GI6DK,CJ7DD,AMPE,CNOD,AI6DE,AEpEA,KFoEK,IEpEI,CAAC;AQjCvCpB,ADOD,ARqGD,CAAC,CS5GCA,Eb+DA,CK7BC,CAAC,EJFA,AD+BE,Ca/DG,AdyCJ,AUQA,CIjDKC,EVsGJ,AP9FoB,AS0BhB,CQlCR,ARkCS,CQlCGyB,ARkCF,CJFD,AIEE,CQlCX,AjBQ4B,AIuDhB,CC/BD,AD+BE,AK7BA,CAAC,CT1BiB,AS0BhB,CAAC,CJFD,AIEE,IL6BI,AK7BA,CAAC,GAAG,CAAC,CFoEV,AEpEW,CFoEV,CP9FqB,CAAC,CAAC,CAAC,CO8FnB,CP9FqB,CO8FnB,KAAK,CP9FqB,CO8FnB,AP9FoB,CAAC,CAAC,CAAC,CAAC,CO8FnB,AP9FoB,EO8FlB,KAAK,CAAC,CAAA;AUrG5C,AT4BF,ACMA,CAAC,IIeE,CIjDGsB,EdyCF,AI6DA,AFtEA,AD8BqB,CGwCpB,IJ7DI,AHjCA,CGiCC,CETC,CD8BsB,Ca9DhB,AdyCJ,AHjCA,AKwBA,AD8BqB,CDrBpB,EczCM1C,AZgCJ,EAAE,CAAC,CLxBC,CAAC,AIsDqB,CJtDpB,AIsDqB,CDrBpB,AHjCA,CiBRK,AdyCJ,AKkEvB,CS3G4BC,GdyCD,AHjCA,CGiCC,AHjCA,CGiCC,ACqBqB,CAAC,KC9BhB,CAAC,AD8BqB,CC9BpB,AD8BqB,Ca9DvC,Ab8DwC,Ca9DhB,AZgCJ,GAAG,CAAC,SYhCxB,CAAlB,CANuB,CAQvB;Ab6DF,AK3BA,CL2BC,GSVC,IVXE,AI8DA,AFvEA,CQoBG,AJjBE,GT5BsB,GOgGpB,AMnDE,Cb7CsB,Aa6CrB,CAAC,CJjBG,CT5BoB,Aa6CrB,AJjBE,CJHH,AQoBE,CAAC,CRpBD,CAAC,CAAC,AIGoB,CIiBjB,IVXE,CAAC,AETA,CFSC,AUWE,Eb7CgB,Aa6Cd,CVXD,AHlCgB,CAAC,CAAC,CGkCf,CHlCiB,OAAO,CAAC,CAAC,CGkCf,AHlCgB,CGkCf,AHlCgB,CAAC,CAAC,CGkCf,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;AcvCvEa,EAAAA,ERkCA,CNMC,AHlCA,CiBNG,EZ+BF,AQoBA,CInDKF,ERkCA,CFoEH,AMnDE,AJjBE,CQlCG,CAAC+B,CJmDH,CRpBC,CEuED,AEpEI,CFoEH,AFvEE,AIGE,EIiBA,CInDP,AJmDQ,CInDKvB,AVsGN,AFvEE,CEuED,AEpEI,CQlCG,AJmDJ,CAAC,AJjBE,CIiBD,CAAC,CInDKsB,AVsGN,AMnDE,CNmDD,CAAC,AEpEI,CAAC,IAAI,EAAE,EQlCI,CAACE,ERkCA,CAAC,EQlChC,EAAsC,CRkCD,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AQjCrEC,AdwCJ,AMNA,CNMC,AMNA,GQlCGA,AjBMF,IKyBE,AQoBA,Eb7CI,EiBNI,AVsGN,AMnDE,CRpBC,AQoBA,CInDK,AjBMF,CKyBD,CAAC,CEuED,APhGI,AKyBF,CEuED,GAAG,CAAC,APhGI,AKyBF,CLzBG,Aa6CF,CAAC,GAAG,CNmDD,AMnDE,Cb7CG,Aa6CF,Cb7CG,Aa6CF,ENmDA,AMnDE,Cb7CG,CAAC,GOgGD,CAAC,APhGI,CAAC,CAAC,COgGH,CAAC,MAAM,EAAE,CAAC;AUvGE,Ad2C/C,AMNA,GQrCS,CAAP,AjBQA,CKyBC,CAAC,ELzBE,CGmCG,AHnCF,AS6BE,GFmEH,AMnDA,Cb7CK,GGmCK,CAAI,AI6DT,APhGI,COgGH,CMnDC,ENmDE,APhGI,COgGH,APhGI,Aa6CJ,AJhBM,CAAC,CAAgB,CNME,EAAE,AHnClB,IOgGA,CJ7D8B,AHnCzB,Ca6CH,CNmDC,AMnDA,Eb7CM,CAAC,Aa6CJ,CNmDC,AMnDA,CNmDC,GPhGO,IAAI,Ga6CD,Cb7CK,Aa6CJ,Cb7CK,Aa6CJ,CAAC,CAAC,CAAC,Cb7CK,KAAK,MAAM;AiBJ9D/B,EAAAA,EdyCA,AEXA,AIIA,EQlCI,CAACK,CVqGH,APjG8D,CiBJhE,AVqGG,CUrGK,AdyCF,CMPC,CIgBH,CJhBK,ET9B8D,AK0B5D,CY9BX,AZ8BY,AQoBJ,AJhBI,CJJC,AIIA,CQlCG,AZ8BF,AIIA,CJJC,AQoBJ,AJhBI,CNOC,AHrC4D,CAAC,EGqC/C,GUSZ,CVTgB,CMPV,EQlCI,AdyCS,AUSf,CVTgB,CMPV,EAAE,CAAC,CNOY,AMPX,CNOY,AUSf,CAAC,GAAG,EVTiB,AUSf,CVTgB,AUSf,CVTgB;AcxClDJ,AZ8BJ,AIIA,CJJC,AIIA,GQlCGA,Ad0CF,AHrCA,COgGC,CAAC,GPhGG,CiBLG,Ad0CF,AHrCA,CiBLGY,CJmDL,IVTQ,AHrCA,Aa8CJ,Cb9CK,EGqCE,Cc1Cb,AJmDU,EAAE,CInDO,AjBKF,CAAC,GGqCG,CAAC,AHrCA,CAAC,CAAC,GGqCG,CAAC,CAAC,Oc1CSb,IAAI,CAACF,IAA3C;AACAlB,AVqGJ,AF5FA,AI0BA,CFkEC,GUrGGA,Ad0CF,AHrCA,KAAK,AS8BE,CNOD,AHrCA,CiBLG,CAACC,Ed0CA,Cc1CR,CAAY,AjBKF,Aa+CN,CVVO,AHrCA,Ga+CH,AJjBQ,CIiBP,AJjBQ,ET9BA,CAAC,Ea+CJ,AJjBe,ENOP,AHrCA,AS8BS,CNOR,AHrCA,Aa+CN,Cb/CO,Aa+CN,AJjBc,CIiBb,IIpDYmB,ARmCM,CJNxC,CIM0C,EQnCJ,Ad0CF,Cc1CGF,Cd0CD,Gc1CnC,ARmC8C,ENON,AMPQ,CNOP,CAAC,EMPU,EAAQ,EAAE,OAAoB,EAAE,UAAsB,EAAE,MAAkB;AQlC9HZ,AVFJ,AFgCA,IY9BIA,Ad0CF,AHpCA,AS6BA,INOI,AHpCA,AS6BA,CJLG,CIKW,CAAC,CQnCT,Ad0CF,Cc1CGC,Ad0CF,EHpCE,CAAC,Aa8CN,Cb9CO,CGoCC,AHpCA,CGoCC,CEZG,AQsBR,Cb9CO,AKwBE,CEsEpB,AFtE4B,CFYR,CUUL,CAAC,EIpDb,Ad0CqB,Cc1CG,AjBMF,CAAC,CAAC,CGoCC,AHpCA,CGoCC,CHpCC,Aa8CN,EIpDrB,AJoDuB,EIpDUgC,Ed0CA,CAAC,IAAI,EAAE,Oc1CxC,CAAkD,WAAlD,EAA+D,UAACC,CAAD,EAAO;AACpEpB,IZ8BJ,AIKA,EQnCIA,Ed0CF,AHpCA,AS6BE,EQnCI,CAACqB,EjBMF,AS6BE,CNOD,AHpCA,AS6BE,CQnCN,IRmCW,CT7BD,Aa8CN,Cb9CO,GAAG,Aa8CN,Cb9CO,AKwBE,AQsBR,CRtBS,EFYA,CEZG,EFYA,AEZE,GQsBL,CIpDID,AJoDH,CIpDI,Ad0CG,Cc1CFE,Ad0CG,EHpCL,CAAC,CAAC,Aa8CC,Cb9CA,Aa8CC,EIpD1B,AjBM2B,EGoCS,CAAC,GUUH,Cb9CA,Aa8CC,Cb9CA,Aa8CC,Cb9CA,CGoCQ,AHpCP,CAAC,CAAC,EiBNJF,Ad0Ca,AHpCP,CiBNL,CAACG,EjBMQ,CGoCQ,AHpCP,CGoCQ,AHpCP,GiBN/C,Md0C+D,CAAC,OAAO,CAAC,KAAK,CAAC;AczC/E,KAFD,Gd4CA,AHpCA,AS4Be,EAAE,GNQZ,AHpCA,AS4Be,CNQd,AHpCA,MAAM,Aa8CN,Cb9CO,EGoCE,CAAC,AHpCA,Aa8CN,AJlBqB,CT5Bd,Aa8CN,AJjBX,KAAK,CNOkB,AMPjB,EIiBa,CVVO,EUUJ,Gb9CE,AS6BV,CT7BW,AS6BV,CT7BW,Aa8CC,Cb9CA,Aa8CC,Eb9CC,ES6BR,CAAC,IT7Bc,CAAC,CAAC,CAAC,AS6BV,CT7BW,CAAC,AS8BzC,ET9B2C,IAAI,AS8BzC,CT9B0C,AS8BzC,CT9B0C,aS8BnC,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,WAAW,CAAC,EAC9C,KAAK,CAAC,KAAK,EACX,MAAM,CAAC,CAAC;AQrCT,GAND,EjBYC,GKuBC,CISG,GNID,EEbI,GFaC,AEbE,AQuBJ,EVVI,CEbG,CAAC,CAAC,QFaM,CAAC,AEbE,CAAC,EFaA,EAAE,GEbK,CAAC;AY3BlCvB,EAAAA,IAAI,CAACK,CZ4BH,AISA,CQrCF,AjBIO,CiBJC,EdyCJ,AEbE,CAAC,CISC,EQrCR,AZ4BU,AQuBJ,EInDU3B,ARqCJ,GNIC,AMJE,CIcH,CVVG,CAAC,CUUD,EVVI,AMJE,CIcH,AJdI,INIE,CAAC,MczCzB,GdyCkC,AUUT,AJdI,CNIM,AUUT,AJdI,CIcH,CAAC,CAAC,EJdM,CAAC,ENIO,EMJH,CAAC,EAAE,KAAK,CAAC,WAAW,CAAC,CAAC;AQpC9DsB,EAAAA,IAAI,CAACK,CjBIH,ASiCA,CQrCF,CAAQ,EdyCJ,AEdQ,AIUN,CTjCC,CAAC,EGqCA,AUUF,CInDN,ARqCW,CNID,AMJE,CQrCK,AZ2BE,CLvBL,Aa+CJ,Cb/CK,Aa+CJ,CVVG,AUUF,AJdI,ETjCE,ASiCA,CTjCC,MiBJU,KJmDH,Gb/CA,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;AiBHjDJ,IAAAA,IjBIA,AKwBA,CFaC,CczCK,AdyCJ,CczCKY,CRqCL,CTjCG,CAAC,ESiCA,EJTF,CAAC,CY5BL,AjBIY,AKwBN,AQsBoB,Cb9Cb,ASiCF,EQrCQ,CjBIH,Aa8Cc,AJbL,CTjCR,Aa8Cc,IRtBhB,CAAC,AQsBoB,CAAC,AJbL,CAAC,KJTV,AQsBoB,AJbL,CAAC,CTjCf,CAAC,Aa8CqB,Cb9CpB,CiBJ1B,AjBI2B,CSiCiB,CTjCf,ASiCgB,CAAC,IIaS,CAAC,Cb9CpB,CAAC,CAAC,Aa8CqB,Cb9CpB,CAAC,Aa8CqB,Cb9CpB,EAAE,IAAI,Aa8CqB,Cb9CpB,Aa8CqB,Cb9CpB,Aa8CqB,eRtB7C,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI;AY3BjD,GAFD,EjBMC,GGqCC,IAAI,AEd+C,AIUjD,CNIG,AEd+C,CAAC,EQuBjD,AJbE,IIaE,CJbG,CAAC,CJVkD,CAAC,AQuBnD,EAAE,CVTK,IEdmD,AIUjD,GJVoD,SAAS,CAAC;AY1BtF,IjBIC,IKwBE,GLxBK,CGoCgB,EEZf,CLxBG,CGoCgB,AHpCf,ASgCa,CNIG,GUUpB,CJdsB,CNIG,CEZhB,CFYkB,AUUvB,AJdqB,CIcpB,CRtBO,CAAC,CAAC,MAAM,CFYkB,AEZjB,CFYkB,AUUvB,ERtBQ,CFYkB,AEZjB,AQsBN,AJdqB,CAAC,CNIG,CAAC,AEZjB,CFYkB,AEZjB,AQsBN,CAAC,CJdsB,EJRb,AIQe,CJRd,CAAC,GIQkB,CAAC,SAAS,CAAC,CAAC;AT/B3E,CAAC,IGoCE,GEZC,IAAI,AIQF,CJRG,CIQD,GAAG,GIcD,ERtBQ,EQsBJ,CAAC,CRtBO,CAAC,CIQD,CACd,EJTmB,CAAC,EQsBJ,AJbX,CIaY,CJZjB,EIYoB,CAAC,CJZjB,CJVyB,CAAC,AIW9B,GIW2B,CAAC,CAAC,CJXvB,CAAC,EJXgC,EAAE,GAAG,CAAC,KAAK,CAAC,AIWrC,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,WAAW,CAAC,EAC9C,OAAO,EACP,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EACrC,MAAM,CAAC,CAAC;ATpChB,SGkCS,AHlCO,ASqCX,GJfwD,KLtBrC,CAAC,AKsB0C,CAAC,CAAC,AQuB3D,CRvB4D,CAAC,CLtBlC,Aa6CxB,CAAC,Cb7CyB,Aa6CxB,CAAC,Gb7CmC,Ca6C/B,Cb7CiC,Ga6C7B,Cb7CyC,Aa6CxC,CAAC,CAAC,CAAC;Ib5C1B,IGmCE,EHnCI,GGmCC,AEbA,CFaC,GAAG,CAAC,CHnCG,Ca6CP,Eb7CU,Ca6CP,CVVO,AUUN,CAAC,CVVO,AUUN,CVVO,AHnCE,CAAC,Ea6CN,Ib7CY,Aa6CR,Cb7CS,Aa6CR,CAAC,CAAC,Cb7CS,Aa6CR,Cb7CS,IAAI,CAAC,EAAE,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAC7E,CGmCC,GHnCG,IAAI,AKsBJ,AIcG,EAAE,EJdD,CLtBK,AKsBJ,AQuBF,AJTK,GJdA,CLtBK,AKsBJ,ILtBQ,CAAC,EKsBF,CIcI,CAAC,EJdD,GLtBO,CKsBH,CAAC,AIcG,CAAC,KAAK,CAAC,GJdA,CAAC,CIcI,CAAC,CJdF,CAAC,AIcG,GJdA,CIcI,CJdF,CIcI,EJdD,CAAC,IIcO,EAAE,CJdF,CAAC,IAAI,AIcG,CAAC,CAAC,EJdD,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC;IFclG,CMCC,GTrCgC,GGoC1B,IHpCiC,CKsB4D,AQwB9F,CVVO,CAAC,CEdyF,CLtB1D,AKsB2D,CLtB1D,Ia8C/B,CAAC,CRxB+F,GAAG,AQwB9F,EAAE,ERxBgG,CAAC,WQwBnF,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC;AVTtD,CAAC,GHpCC,ASqCA,EAAE,CAAC,GTrCG,EKsBF,CQwBC,GRxBG,ELtBM,CKsBH,AIeI,CJfH,AIeI,CTrCC,CAAC,KKsBC,CIeK,CJfH,CIeK,CTrCC,GSqCG,CTrCC,ASqCA,CAAC,QTrCQ,CAAC,KAAK,KAAK,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;AGuC9F,IHtCE,ASqCA,ITrCI,CGsCG,EMDA,CTrCC,CSqCC,CAAC,CNCG,CAAC,AEdR,CFciB,AHtCV,AagDJ,GRxBC,ELxBQ,CAAC,IKwBF,GAAG,CLxBO,AKwBN,OAAO,KAAK,UAAU,EAAE;AIc/C,CAAC,GNCC,IHvC6B,GGuCtB,CAAC,GAAG,CHvC0B,AakD/B,CblDgC,CGuCxB,CAAC,CAAC,AEdR,CFcS,CAAC,AHvCyB,AakD/B,CblDgC,CAAC,CGuCxB,CAAC,AEdR,GFcW,CAAC,CEdP,AQyBE,EVXQ,CAAC,AEdR,AQyBE,CVXO,CAAC,CAAC,AEdR,CFcS,AEdR,CFcS,GAAG,CAAC,CAAC,CEdP,AQyBE,CAAC,CVXO,AEdR,AQyBE,CVXO,AEdR,AQyBE,CVXO,CUYvC,EVZ0C,CAAC,GAAG,CAAC,CAAC,CUYvC,EVZ0C,CAAC,AUYxC,CVZyC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,AUY/C,CAAC,OAAO,EAAE,SAAS,CAAiB,EACxD,GAAG,GAAG,cAAO,CAAC,CAAC,CAAC,CAAC;AVZzB,AMAA,CNAC,GHvCC,KSuCO,OIcD,IbrDU,AKyBR,CLzBS,ASuCE,CAAC,EJdR,CAAC,AQ4BE,CbrDO,AaqDN,CbrDO,ASuCa,EAAE,CJdpB,EIc+B,CTvCpB,AaqDN,CbrDO,ASuCqB,EIczB,EbrDQ,EAAE,CSuC+B,EAAE,CTvC7B,CaqDL,CbrDO,AaqDN,GJdmD,CTvCzC,EAAE,QAAQ,CAAC,CAAC;IAC1D,ASuCA,ITvCI,CAAC,CSuCC,CAAC,GAAG,EIcJ,IJdU,CAAC,CTvCC,CAAC,CKwBC,AIeA,CIcL,CAAC,AJdM,ETvCE,EAAE,CKwBC,AQ6BN,CJdO,CAAC,CTvCC,AaqDN,CAAC,AJbzB,CTxCgC,AaqDN,IbrDU,CAAC,ASwC/B,ETxCiC,CSwC9B,WAAW,CAAC,MAAM,CAAC,EAC5B,MAAM,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;IAC7C,ITzCE,GSyCK,ETzCA,CAAC,EaqDF,IbrDQ,AKwBN,AQ6BE,CbrDK,GAAG,AaqDJ,AJZM,CTzCD,AKwBN,AIiBQ,CJjBP,AQ6BE,GbrDO,EAAE,KKwBD,EIiBU,CJjBP,AIiBQ,CTzCD,CAAC,CAAC,CKwBL,CAAC,GIiBW,CAAC,EAAE;QTxC5C,ASyCA,KTzCK,CAAC,ASyCA,EAAE,ITzCI,AKwBN,AQ6BA,CbrDO,ASyCA,CAAC,GJjBH,CAAC,CLxBO,ASyCA,CTzCC,CaqDL,CAAC,EbrDQ,CAAC,CAAC,CKwBL,CAAC,GAAG,CAAC,CQ6BC,GAAG,IAAI,CAAC,CR7BC,CAAC,CAAC;KLvBvC,GSyCC,YJjBM,AQ6BA,EJZQ,CJjBL,AQ6BA,CR7BC,AQ6BA,AJZM,CIYL,CAAC,IAAI,AJZM,CJjBL,AIiBM,GJjBH,AQ6BA,CAAC,CAAC,CAAC,CAAC,AJZM,CJjBL,AIiBM,CJjBL,AIiBM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;ITxCzC,ISyCE,CTzCG,CAAC,ESyCA,EAAE,GJjBD,CLxBO,EaqDN,AJZM,CTzCG,CAAC,CaqDP,CAAC,CAAC,CbrDS,AaqDR,EbrDU,EaqDN,EbrDU,CAAC,CAAC,AaqDR,CAAC,CAAC,CAAC,CAAC;IbpD1B,ISyCE,CTzCG,CAAC,KAAK,ASyCF,CJhBH,CQ4BC,AJZI,CTzCG,IKyBF,EIgBM,CAAC,ETzCI,CAAC,AKyBN,EIgBM,CJhBH,CAAC,AIgBI,CJhBH,GAAG,CAAC,EIgBM,CAAC,GJhBD,EAAE,CAAC;ILxBpC,ISyCE,EAAE,EAAE,CAAC,CAAC,CAAC,CJhBH,AQ4BA,AJZI,ITzCM,AKyBN,CLzBO,AKyBN,IQ4BI,CbrDO,AaqDN,CbrDO,MAAM,AKyBN,CLzBO,AKyBN,CQ4BC,ER5BE,AQ4BA,CR5BC,ELzBQ,CAAC,CAAC,GKyBH,EAAE,IQ4BI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC;IbpDzD,ISyCE,EAAE,CTzCG,CSyCD,CAAC,CAAC,CAAC,CIaH,AJbI,GTzCK,CKyBP,AQ6BE,CAAC,CAAC,CbtDO,AKyBR,CAAC,GLzBW,AKyBR,CLzBS,AKyBR,CAAC,CAAC,GAAG,GQ6BK,GR7BC,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,GAAG,EAAE;ALxBtD,CAAC,OSyCG,CAAC,EAAE,MAAM,GJhBH,AQ4BoB,AJZd,GJhBH,CAAC,EIgBQ,CJhBL,AIgBM,CJhBL,AIgBM,CJhBL,AQ4BoB,AJZd,CJhBL,AQ4BoB,EJZZ,CJhBL,AIgBM,EIYgB,CAAC,GR5BjB,CAAC,EQ4BsB,CR5BnB,EQ4BsB,CR5BnB,MAAM,CAAC,CQ4BqB,CAAC,GAAG,CR5BnB,CQ4BqB,ER5BlB,EAAE,GQ4BuB,CAAC,CAAC;AbnE/E,KSwDG,CAAC,CAAC,SIaG,CR7BC,CAAC,CAAC,IQ6BI,CAAC,IbvDf,OauD0B,CAAC,SAAS,CAAC,CAAC;AbrDvC,ASyCA,CAAC,QTzCe,IKyBT,AQ6BA,QbtDqB,CAAC,KAAY,EAAE,KAAe,EAAE,GAAW,EAAE,KAAe;AS2CxF,IT1CE,IAAI,CKyBD,AQ6BA,AJZI,IT1CE,CAAC,MAAM,AS0CE,CT1CD,AS0CE,GT1CC,CAAC,CS0Cc,ET1CX,AS0Ca,CT1CZ,EAAE,CS0CsB,EAAE,IAAY,EAAE,OAAgB,EAAE,OAAgB,EAAE,MAAkB;IACvH,CIYC,GbtDC,AKyBA,EIiBI,CAAC,CT1CD,ES0CI,GT1CC,EKyBE,CAAC,CAAC,CAAC,CAAC,EIiBI,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,OAAO,CAAC,EAClD,CAAC,GAAG,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,EACxB,CAAC,GAAG,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,EACxB,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAChB,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAChB,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,EAC1B,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,EACxB,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IJvBzB,AQ+BA,AJPA,CJxBC,CAAC,CAAC,EQ+BE,EJPE,CTlDM,GayDF,EbzDO,CAAC,EayDH,IbzDS,AayDL,AJPA,CTlDM,ASkDL,MTlDW,CAAC,GAAG,AayDL,CbzDM,AayDL,CbzDM,CSkDJ,CAAC,GIOG,EAAE,CJPC,CAAC,EAAE;AJvB9C,CAAC,OQ8B2C,AJNxC,MAAM,EAAE,GIM2C,CAAC,CAAC,AJNxC,CAAC,CIMyC,IJNpC,CIMyC,CAAC,CAAC;AR5BlE,IQ6BE,IJNE,CJvBY,AQ6BT,GbzDE,CK4BW,CAAC,CAAQ,AQ6BhB,ER7BkB,CAAgB,CL5B/B,CayDE,EJNA,ETnDG,AayDC,AJNF,CTnDE,QSmDO,CAAC,EIMI,CAAC,EJNA,EAAE,EIMI,EAAE,GJNC,EAAE,MAAM,CAAC;IJrBnD,CL7BC,GK6BG,AQ2BuC,AJLzC,CJtBG,CAAC,SAAS,AQ2BuC,CR3BtC,AQ2BuC,CAAC,EAAE,CJLxC,EAAE,CJtBG,CQ2BwC,CAAC,CAAC,CR3BtC,CAAC,CAAC,AIsBF,CJtBG,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;AQ4BnE,CAAC,GbxDC,IK6BE,AIsBA,CJtBC,CAAC,SAAS,CL7BG,AK6BF,AIsBA,CTnDG,CSmDD,ITnDM,CAAC,AK6BF,CAAC,GAAG,EL7BI,CAAC,AK6BF,IAAI,CAAC,AIsBA,GAAG,ITnDM,CSmDD,CTnDG,ASmDF,GAAG,CJtBC,CL7BG,AK6BF,CAAC,AIsBA,CTnDG,AK6BD,CAAC,CIsBA,CTnDG,CAAC,CAAC;AazG1D,Ib0GE,CK6BC,GIsBC,CTnDG,CAAC,KSmDG,CTnDG,CAAC,ASmDF,GTnDK,CAAC,GAAG,AauDrB,AJJmB,CAAC,CTnDG,ISmDE,CTnDG,CAAC,ASmDF,CTnDG,MSmDI,CAAC;AJrBpC,AQ2BA,CR3BC,GL7BC,ISmDE,CTnDG,AawDS,CbxDR,ASmDF,EAAE,CAAC,CAAC,CAAC,CAAC,ETnDI,GAAG,AawDS,CbxDR,AawDS,CAAQ,EbxDd,CAAC,CAAC;AKwBzB,ILvBE,AawDA,IAAI,AJLF,CTnDG,AawDA,CbxDC,AawDA,AJLF,EAAE,CIKG,AJLF,CIKG,AJLF,CTnDG,ASmDF,CAAC,ETnDI,EK4Bf,EQ4BmB,KbxDK,CAAC;AK8B1B,IL7BE,IauDoB,AJJlB,CJtBY,CIsBV,EJtBa,AIsBX,CJtBY,AIsBX,CJtBmB,AIsBlB,CIImB,AJJlB,CJtBmB,AIsBlB,CJtBkC,EIsB/B,CTnDG,CAAC,ASmDF,KTnDO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IACtC,AK6BA,AQ0BA,IJJE,CTnDG,CAAC,AK6BA,AQ0BA,AJJF,EAAE,CJtBG,AIsBF,CAAC,CAAC,CJtBG,AIsBF,CTnDG,AK6BA,AQ0BA,CbvDC,AK6BA,CIsBD,CIIY,CJJV,ETnDI,GAAG,CK6BC,CAAC,OL7BO,AK6BA,CL7BC,AK6BA,AQ0BC,CAAC,CAAC,CAAC,EACpC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;IbvDxD,AK6BA,AQ2BA,CJLC,CAAC,CAAC,CJtBC,AQ2BA,CbxDC,AK6BA,CL7BC,AawDA,ER3BE,CQ2BC,CAAC,CAAC,GAAG,CbxDC,AawDA,GbxDG,KawDK,CAAC,KAAK,CAAC,GbxDJ,CAAC,KAAK,CAAC,AawDmD,CAAC,QbxD3C,CAAC,CAAC;ASoD9C,CAAC,GTnDC,AawDA,IR5BU,GL5BH,AawDA,EAAE,EbxDE,AK4BM,AQ4BN,CbxDC;AACd,ASoDA,CTpDC,GK6BC,IAAI,AQ2BF,CR3BG,AIuBE,CJvBD,EQ2BA,CAAC,CR3BG,KAAK,CIuBG,CAAC,GIID,CAAC,EAAE,CAAC,AJJY,CJvBT,CIuBW,EIIV,CR3BG,AQ2BF,AJJoB,CJvBjB,CAAC,AQ2BF,AJJoB,CIInB,IJJwC,EAAE,GJvB/B,EQ2BA,CAAC,AJJgD,EJvB5C,EQ2BA,GR3BK,SQ2BO,CAAC,EAAE,CAAC,EAAE;AbrElE,ISkEE,IJxBqD,CAAC,CAAC,AIwBjD,CAAC,CIIH,EJJM,EIIF,CAAC,GJJO,CAAC,GJxBoD,AIwBjD,EJxBmD,AIwBjD,CJxBkD,EQ4BnD,CAAC,EAAE,AJJI,CAAC,CIIH,CJH1B,CTtDD,GSsDK,GAAG,MIGiC,AJH3B,CIG4B,AJH3B,KAAK,GAAG,CAAC,GAAG,CAAC,CIGqB,CAAC,EAAE,CAAC,AJHpB,CAAC,IIGwB,CAAC,AJHpB,EIGsB,EJHlB,CAAC,CAAC,EAC5C,CIEmE,CAAC,CAAC,CAAC,AJFlE,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;ATrDxF,IK8BE,AIwBA,IJxBI,CL9BG,AK8BF,AQ0BF,CR1BG,CIwBC,GJxBG,KAAK,EL9BI,CAAC,ESsDA,CAAC,ETtDW,EAAE,AK8BT,IL9BqB,AK8BjB,EL9BmB,CK8BhB,CAAC,CIwBC,CTtD0B,ASsDzB,OAAO,CAAC,EJxBE,AIwBA,KJxBK,CAAC,CAAC,MAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE;IL7B7E,IK8BE,AQ0BA,AJFA,CJxBC,CL9BG,AK8BF,AQ0BA,GAAG,EAAE,CbxDG,AawDF,CJFC,ETtDI,AK8BF,AIwBA,CJxBC,EIwBE,KTtDO,AK8BF,AQ0B4C,AJF5C,CTtDG,AawD0C,AJF5C,EJxBE,EIwBE,CTtDG,EAAE,CSsDD,GTtDK,AK8BF,CAAC,CL9BG,ASsDF,CAAC,GTtDK,CAAC,CAAC,ASsDF,EAAE;ITrD3C,CawDC,GbxDG,AK8BF,AIwBA,CAAC,EAAE,CAAC,CAAC,CTtDG,ASsDF,CJxBC,AIwBA,CTtDG,ESsDA,IAAI,GAAG,CAAC;AIGtB,CAAC,IR1BE,GL9BC,ASsDA,CAAC,EAAE,CAAC,CTtDC,ASsDA,CTtDC,ASsDA,CAAC,GAAG,GTtDG,CAAC,ASsDA,GAAG,CAAC,CTtDC,GAAG,SAAS,CAAC;Aa6CpC,IRdE,IL9BE,ASsDA,CJxBG,CAAC,GL9BC,ASsDA,CTtDC,CSsDC,IAAI,GJxBK,CL9BD,AK8BE,CAAC,CAAC,CL9BD,AK8BE,UQyBvB,KbvD6B,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;AayDhD,IR1BE,IL9BE,ASsDA,CJxBG,AQ0BE,CR1BD,GL9BC,CAAC,ASsDA,EAAE,IIEQ,AJFJ,CIEK,CR1BD,CL9BD,AK8BE,AQ0BgC,CbxDjC,AK8BE,CAAC,CAAC,KL9BG,GAAG,SAAS,CAAC;IKgCtC,AQyBA,CbxDC,GSsDC,EJvBI,CQyBC,CJFD,CIEG,CAAC,AJFF,IJvBM,GAAG,AQyBA,AJFF,GAAG,CJvBG,CAAC,AQyBA,EJFA,GAAG,EIEI,CAAC,GJFC,EJvBI,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC;AQ0BpD,CAAC,GbxDC,AK+BA,CIuBC,CAAC,CAAC,GJvBG,CL/BC,GK+BG,GL/BG,AK+BA,CL/BC,IK+BI,CAAC,cAAc,CAAC,QAAQ,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;AL9BjF,AawDA,AJFA,CTtDC,ASsDA,GJvBC,IAAI,CQyBG,GRzBC,IAAI,GAAG,CAAC,CQyBG,CAAC,EAAgC,GRzB7B,IAAI,GAAG,CAAC,IAAI,KAAK,IAAI,EAAE;AL7BhD,ASsDA,IICE,IRzBE,CL9BY,ASsDP,EICA,CRzBD,CQyBG,CAAC,CRzBD,CAAC,CL9BY,CAAC,GauDN,AJDE,CAAC,CTtDe,CK8BjB,CL9BmB,CauDf,CJDc,ETtDa,EAAE,GauDrB,CbvDiC,AauDhC;AACjC,CAAC,GbvDC,ASsDA,ITtDI,ESsDE,EJzBc,GL7BT,CAAC,ASsDA,CJzBa,CAAC,CIyBX,ETtDE,EAAE,IAAI,EAAE,CK6Ba,CAAC,CAAC,AIyBZ,CTtDC,ASsDA,CTtDC,AK6BY,EL7BV,CK6Ba,CAAC,IAAI,EAAE,EIyBV,CAAC,CJzBa,EAAE,GAAG,CAAC,CIyBX,CAAC,EAAE,CJzBa,CAAC,CAAC;AQ4BvE,QbxDI,ASsDA,CIEK,CJFH,EAAE,CJzBC,CL7BC,MAAM,AawDI,CAAC,CAAQ,CbxDV,CawDY,AJFX,GAAG,EIE4B,GJFvB,CAAC,ETtDE,CAAC,ASsDA,KTtDK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IayDjD,IbxDE,ASsDA,CIEG,GbxDC,AK6BF,CAAC,CAAC,AIyBE,CIEG,CJFD,ETtDE,CK6BD,AQ2BI,CbxDD,AK6BF,EIyBI,CIEG,IR3BA,CQ2BK,ER3BF,CAAC,CAAC,OAAO,CAAC;QQ2BN,AJDxB,CICyB,CAAC,EbvDxB,AK6BA,CQ0B2B,CAAC,ER1BxB,EL7BE,CSsDG,EJzBA,AIyBE,CJzBD,AQ0B0B,AJDxB,CICyB,GbvDvB,EauD4B,CbvDzB,AauD0B,CR1BzB,CAAC,CAAC,EL7BE,AK6BA,CL7BC,EK6BE,CAAC,CL7BC,CAAC,AauD0B,CAAC,CR1BzB,EL7BE,AK6BA,CQ0B2B,CbvDzB,AauD0B,CbvDzB,AauD0B,CR1BzB,CAAC;AQ2B3C,CAAC,OJDG,ITtDE,IK4BuC,CAAC,CAAC,EL5BjC,ASsDE,CTtDD,CSsDG,CJ1BkC,AI0BjC,CJ1BkC,EL5BjC,CAAC,CAAC,GK4BsC,GAAG,IAAI,CAAC;AQ6BpE,QJFI,CJ1BC,AQ4BI,GbxDH,ASsDE,EAAE,ITtDE,AawDM,AJFJ,CIEK,GAAW,EAAE,EbxDZ,GAAoB,EawDQ;IAC9C,CR5BC,GQ4BG,AJFF,CIEG,GAAG,AJFF,CIEG,CJFD,ETtDF,AawDM,EJFA,CIEG,CAAC,CAAC,CAAC,CbxDL,EAAE,AawDM,CAAC,GAAG,CbxDL,AawDM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACtC,CJFC,CAAC,CAAC,CIEC,CR7BG,IAAI,EQ6BA,CbxDL,AK2BQ,CAAC,ML3BF,EAAE,AK2BQ,EAAE,GL3BL,CAAC,KAAK,CAAC,OAAO;ISuDlC,IJ3BE,AQ4BW,CR5BV,AQ4BW,CR5BV,AI2BE,CAAC,CICU,EAAE,EbvDb,AK2BI,CAAC,AQ4BW,CAAC,CAAC,GJDN,CJ3BD,AI2BE,CTtDL,AK2BI,GAAG,CAAC,IAAI,CAAC,CAAC,EI2BI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE;IIExD,CR5BC,GI2BC,CAAC,EICI,AJDF,CICG,CbvDH,CAAC,CauDK,EAAE,CAAC,SJDO;AIEvB,CAAC,OJDG,CJ5BK,GL1BH,ASsDE,CJ5BK,CAAC,AI4BJ,CJ5BK,CL1BL,GSsDK,CAAC,ETtDA,EK0BQ,CAAC,AI4BJ,ETtDA,IAAI,SK0Be,IAAI,CAAC,IAAI,EAAE;AQ+BnD,KJFG,CAAC,CAAC,CJ5BD,AI4BE,CJ5BD,AQ8BI,CR9BH,ML3BqB,AK2Bf,CAAC,GQ8BO,CAAC,ER9BF,CL3BgB,AK2Bf,CL3BgB,CayDA,CR9Bb,CAAC,IAAI,CL3BgB,AK2Bf,CAAC,EL3BiB,MAAM,CAAC;Ia0DpD,AJFA,IJ5BE,EI4BI,CIEC,AJFA,CTvDH,CK2BG,CAAC,AQ8BE,KAAK,CAAC,GJFG,CAAC,CIEC,GbzDD,CAAC,AayDI,CR9BD,CAAC,AI4BE,CJ5BD,CAAC,AI4BE,CTvDH,AayDI,CbzDH,AayDI,GJFG,CJ5BD,AQ8BE,AJFA,CJ5BD,CQ8BG,CbzDH,AayDI,AJFA,CTvDH,ASuDI,CAAC,EJ5BA,CAAC,CAAC,CL3BD,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;Aa0DzE,CAAC,GJFC,CJ5BC,MI4BM,CTvDH,KSuDS,CAAC,CTvDH,IAAI,CAAC;Aa2DlB,AJHA,CAAC,GJ5BC,IAAI,CL3BD,Aa0DI,ER/BA,CAAC,IAAI,KAAK,GAAG,CAAC,IQ+BM,CAAC,CAAQ,YR/BG,IAAI,CAAC,GAAG,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC;AI8BzE,KTxDG,GK2BC,CI6BK,IJ7BA,CAAC,QAAQ,AI6BI,CJ7BH,AI6BI,CJ7BH,CAAC,AI6BgB,CJ7Bf,CI6BiB,KAA6B;IIElE,AJDA,KTzDO,AK4BF,AI6BA,CICC,Gb1DK,AK4BF,CAAC,CAAC,AI6BA,CJ7BC,CQ8BC,CJDC,EICiB,EJDb,CTzDG,CAAC,Aa0Da,ER9Bb,CAAC,AQ8Be,AJDf,ETzDI,Aa0Da,CAAC,Cb1DZ,GK4BC,CL5BG,EAAE,IAAI,CAAC,EAAE;Ia2D1C,Ib1DE,AK2B8B,AQ+B5B,AJFqB,CIEpB,CAAC,AJFqB,CAAC,EJ7BS,CAAC,IL3B1B,Aa0DE,Cb1DD,GK2BiC,AQ+B5B,CR/B6B,AQ+B5B,AJFqB,CTxDtB,AK2B8B,AQ+B5B,AJFqB,CJ7BQ,CL3B7B,AK2B8B,CI6BN,EAAE,CTxDtB,EAAE,Ca0DG,CAAC,AJFqB,CAAC,CTxDtB,EAAE,ASwDuB,CAAC,CAAC,CAAC,CIEpB;IR7BtC,AI4BA,IICwC,GJDjC,CTxDH,CayDyC,AJDpC,CAAC,KTxDC,AayDwC,CAAC,CbzDvC,CK4BK,CAAC,CAAC,AQ6BoC,CR7BnC,AQ6BoC,CbzDvC,AK4BI,AQ6BoC,CbzDvC,KAAK,CAAC,CayDyC,EAAE,IbzDpC;ASyDlC,CAAC,GJ3BC,CAAC,CAAC,GL7BC,CAAC,CAAC,CayDH,GR5BS,CAAC,KQ4BD,CAAC,CR5BO,GAAG,GQ4BH,EAAE,CAAC,EAAE,CR5BO,CAAC,SQ4BG,CAAC,CAAC;AJCvC,IJ5BE,CAAC,CAAC,EL7BA,CK6BG,AQ4BJ,AJAM,CJ5BD,KI4BO,CTzDH,AK6BE,AI4BE,CTzDH,CK6BG,CAAC,AI4BU,EAAE,CTzDX,CAAC,CAAC,ESyDwB;AJ3B5C,CAAC,GQ4BC,AJAA,ITzDE,AayDE,CAAC,CAAC,CJAC,ITzDE,AayDE,CJAC,GTzDC,AayDE,CbzDD,AayDE,CAAC,AJAA,OAAO,CAAC,CIAC,AJAA,CIAC,AJAA,GAAG,CAAC,CIAC,AJAA,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AJhE5D,AIiEA,CAAC,ITzDE,GawDiC,SAAS,CR5B5C,AQ4B6C,OAAO,EAAE,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AR1BzE,AI6BA,IT1DE,AawDA,IAAI,CR3BU,AQ2BT,AJEE,CIFD,EbxDE,CAAC,EK6BW,CAAC,CAAQ,CL7Bf,AawDA,CbxDC,CAAC,AawDA,IJEM,CAAC,IAAe,EAAE,SAAwB;ITzDhE,AK6BA,AI6BA,IIFE,ER3BI,CL7BC,AS0DA,EJ7BE,GL7BG,AK6BA,CL7BC,AK6BA,AQ2BF,CR3BG,AQ2BF,OAAO,ER3BI,AQ2BF,CR3BG,AQ2BF,CAAC,MR3BQ,CAAC,CQ2BD,EAAE,UAAU,CAAC,CAAC;AbvD/C,CAAC,GK6BC,IAAI,AQ2BF,AJEA,GJ7BK,CQ2BD,CR3BG,AQ2BF,AJEA,CIFC,CJEC,IAAI,CAAC,CIFC,CAAC,GJEG,MIFM,EAAE;AbhF7B,QKsDI,AI6BA,IJ7BI,AQ2BF,GR3BK,AI6BA,CJ7BC,CI6BC,CIFD,GJEK,CAAC,CIFD,CR3BG,GI6BG,CT3DtB,AS2DuB,IIFJ,AJEQ,CIFP,AJEQ,CIFP,MJEc,CIFP,CAAC,CJES,EAAE,CAAC,CIFP,EJEU,EAAE,sCIFV,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;AbvDrD,QS0DI,CT1DY,GK4BM,AQ4BhB,CR5BiB,CAAC,EQ4Bd,CJEG,EAAE,CJ9Be,CL5BF,AK4BG,AQ4BhB,CbxDc,CS0DV,CAAC,GT1DqB,AK4BJ,CAAC,CL5BK,AS0DlB,CAAC,CJ9Be,CAAC,CL5Ba,EAAE,CK4BX,CAAC,CAAC,CL5BqB,AS0DlC,CAAC,CT1DmC,KAAe,GS0DzC,IAAI,IAAI,CAAC,SAAS,CAAC;ITzD9D,IK4BE,AI8BA,CJ9BC,CL5BG,AK4BF,CI8BC,EAAE,CAAC,CT1DG,CauDI,EbvDD,AS0DF,CJ9BC,AI8BA,CJ9BC,CQ2BM,CJGJ,CT1DG,CAAC,AS0DF,GJ9BG,AQ2BK,CAAC,EbvDD,AK4BF,CL5BG,CauDI,CJGJ,CT1DG,AS0DF,CT1DG,EauDK,EbvDD,AK4BF,AQ2BK,CbvDF,AK4BF,CL5BG,ES0DA,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;ITzD9D,CS0DC,CAAC,ET1DE,AK4BF,KL5BO,AK4BF,CAAC,GL5BK,CAAC,EauDR,ER3BU,CAAC,CAAC,CL5BG,AK4BF,CL5BG,AK4BF,GQ2BL,CAAC,CbvDW,EAAE,IAAI,AauDV,EbvDY,AauDV,CAAC,EAAE,CbvDW,CAAC,IAAI,KAAK,AauDV,CbvDW,EAAE,AauDV,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AJI5E,CAAC,OT1DG,AK4BA,KL5BK,CAAC,GauDH,GbvDS,CAAC,KK4BK,CL5BC,AK4BA,CL5BC,AK4BA,CAAC,CAAC,EL5BE,CAAC,CAAC;AS4D9B,QT3DI,AK4BA,CAAC,AI+BI,CJ/BH,EQ2BA,CR3BG,CAAC,IQ2BE,EbvDI,AK4BA,AI+BI,CT3DH,AS2DI,CJ/BH,CAAC,CQ2BD,EbvDI,CauDD,AJIkB,CT3Df,AauDF,CAAC,IbvDM,EAAE,IAAI,AauDF,CAAC,CbvDG,IauDE,CbvDG,AauDF,CbvDG,CAAC;IS4D1C,CJ/BC,GL5BC,ES2DI,EIJF,EJIM,EIJF,CJIK,KIJC,CJIK,CT3DD,AS2DE,CT3DD,IS2DM,CT3DD,CAAC,CS2DG,GAAG,CAAC,ET3DA,CAAC,MAAM,CAAC,aAAa,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE;AK6B3E,CAAC,GI+BC,OAAO,CT3DH,AS2DI,CAAC,GILO,AJKJ,GT3DD,CS2DK,CT3DH,AasDQ,CJKH,CAAC,GT3DD,AS2DI,CILK,CAAC,EJKF,CAAC,CILK,AJKJ,MILU,EAAE;ARnC1C,AIyCA,CAAC,QT3DI,CAAC,CAAC,SasDC,IR3BP,KQ2BgB,CAAC,OAAO,EAAE,CAAC,EAAE,cAAc,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;ARzB/E,AIgCA,KT5DG,IK4BM,AIgCA,QINF,CJMW,CAAC,KAAgB,EAAE,CJhCV,CAAC,CAAQ,IIgCiB,EAAE,MAAkB;IJ/BvE,AIgCA,KT7DO,AauDJ,CR1BG,CAAC,AIgCA,CAAC,CT7DG,CK6BD,CAAC,CAAC,CIgCC,CT7DG,AS6DF,CJhCC,CAAC,EL7BI,KS6DG,CJhCC,CAAC,EIgCE,CT7DG,CAAC,AS6DF,CAAC,GAAG,CT7DG,AS6DF,ET7DI,IAAI,CS6DD,CT7DG,AS6DF,CAAC,CAAC,ET7DI,CAAC,CS6DD,CT7DG,AS6DF,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC;AAC7E,CAAC,GJhCC,CQ0BC,GbvDC,AK6BE,CAAC,CAAC,KAAK,GL7BC,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AS+DxC,IIPE,CbvDC,GK4BY,CIkCN,CIPD,ER3BW,CAAC,GIkCJ,CIPD,AJOE,GIPC,CAAC,CAAC,AJOa,CJlCH,CAAC,AIkCI,CJlCH,CAAC,KAAK,AIkCa,CIPrB,CR3BU,AQ2BT,KR3Bc,CAAC,CAAC,AQ2BT,CAAC;AR1BvC,CAAC,GQ2BC,AJOA,IIPI,CbxDG,ES+DA,CAAC,GIPG,EJOE,CAAC,OAAO,IAAI,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AJhCpD,AIiCA,CAAC,OT/DG,AauDW,CRzBN,IQyBW,MAAM,CbvDV,AauDW,CbvDV,GauDc,EbvDT,CAAC,CAAC,AK8BI,CAAC,EQyBS,CRzBE,EAAE,OAAgB,EAAE,MAAkB;AImC9E,IJlCE,IL9BE,CSgEK,CJlCD,EQwBgC,CRxB7B,GAAG,IL9BE,AK8BE,AIkCE,CThEH,AK8BE,AQwB8B,AJU5B,CIV6B,IbtD5B,CAAC,ASgEgB,CThEf,AK8BE,CAAC,AQwB8B,AJUhB,EIVkB,CRxB7B,AQwB8B,CRxB7B,CAAC,AQwB8B,EJUL,eIVsB,CAAC,CAAC;IRvB/E,AIkCA,CThEC,GK8BG,CAAC,AQwBA,EJUE,CAAC,CIVC,CAAC,CAAC,CRxBC,EAAE,CIkCC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CIVC,AJUA,CIVC,CJUC,CAAC,GAAG,EIVE,CJUC,GAAG,MAAM,CAAC,KAAK,CAAC;AAClD,CAAC,GThEC,IK8BE,AQuB+B,CbrD5B,CAAC,CK8BD,CAAC,CAAC,CAAC,EL9BI,CAAC,AK8BF,AQuB+B,CRvB9B,AQuB+B,GRvB5B,EL9BI,CAAC,AK8BF,CAAC,AQuB+B,CRvB9B,CAAC,AQuB+B,CbrD5B,AK8BF,AQuB+B,CbrD5B,AaqD6B,CbrD5B,WaqDwC,CAAC,OAAO,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAC;AJarG,ITjEE,AasDA,IRxBE,CImCK,CIXD,CRxBD,AQwBE,CbtDC,AK8BF,CL9BG,AK8BF,CAAC,AQwBE,CAAC,AJWE,CIXD,AJWE,CJnCH,CL9BG,AK8BF,CL9BG,ASiEU,CTjET,CK8BD,AImCY,GJnCT,CAAC,AQwBE,CRxBD,AQwBE,CRxBD,AImCwB,CJnCvB;AL7BxB,CAAC,GasDC,AJWA,CJnCC,GQwBG,CAAC,EJWE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;ATjFjF,ASkFA,CAAC,GJnCC,IQuBO,GRvBA,EQuBK,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,MbtD9B;AAED,QK8BI,CL9BY,GaoDiB,ERtBvB,CAAC,IAAI,EL9Ba,AaoDc,CbpDb,AK8BX,AQsByB,KbpDF,CK8BjB,CL9BmB,AK8BlB,AQsByB,EAAE,CbpDE,AaoDD,EbpDG,AK8B1B,AQsByB,GRtBtB,EL9BsC,CK8BnC,CAAC,CAAC,CAAC,EQsB2B,CRtBxB,CAAC,CQsB0B,CAAC,CRtBxB,AQsByB,KAAK,CRtBxB,AQsByB,CRtBxB,AQsByB,KRtBpB,GAAG,EAAE;IL7B7D,AaqDA,IRvBE,GQuBK,GRvBC,CAAC,GAAG,AQuBE,CAAC,CbrDC,CAAC,AK8BF,KL9BO,CAAC,AK8BF,CAAC,KL9BO,CAAC,AK8BF,GAAG,CAAC,CAAC,CL9BG,EAAE,AK8BF,GL9BK,AK8BF,CL9BG,AK8BF,CL9BG,AK8BF,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,MAAM,GAAG,EAAE;AQwBtE,CAAC,GbrDC,CK8BC,CAAC,EL9BE,KAAK,CAAC,QAAQ,EAAE;AK+BtB,AQwBA,CRxBC,OL9BG,CasDK,GbtDD,KAAK,CAAC,AasDI,CAAC,ObtDG,AasDmB,EAAE,GbtDhB,AasD2B,EAAE,CbtD1B,IAAI,AasDmC,CbtDlC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE;AKgC5D,IQuBE,KRvBO,CQuBD,EbtDF,KasD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","file":"puzzle-battle.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export type Color = 'white' | 'black';\nexport type Role = 'king' | 'queen' | 'rook' | 'bishop' | 'knight' | 'pawn';\nexport type Key = 'a0' | 'a1' | 'b1' | 'c1' | 'd1' | 'e1' | 'f1' | 'g1' | 'h1' | 'a2' | 'b2' | 'c2' | 'd2' | 'e2' | 'f2' | 'g2' | 'h2' | 'a3' | 'b3' | 'c3' | 'd3' | 'e3' | 'f3' | 'g3' | 'h3' | 'a4' | 'b4' | 'c4' | 'd4' | 'e4' | 'f4' | 'g4' | 'h4' | 'a5' | 'b5' | 'c5' | 'd5' | 'e5' | 'f5' | 'g5' | 'h5' | 'a6' | 'b6' | 'c6' | 'd6' | 'e6' | 'f6' | 'g6' | 'h6' | 'a7' | 'b7' | 'c7' | 'd7' | 'e7' | 'f7' | 'g7' | 'h7' | 'a8' | 'b8' | 'c8' | 'd8' | 'e8' | 'f8' | 'g8' | 'h8';\nexport type File = 'a' | 'b' | 'c' | 'd' | 'e' | 'f' | 'g' | 'h';\nexport type Rank = '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8';\nexport type FEN = string;\nexport type Pos = [number, number];\nexport interface Piece {\n  role: Role;\n  color: Color;\n  promoted?: boolean;\n}\nexport interface Drop {\n  role: Role;\n  key: Key;\n}\nexport type Pieces = Map<Key, Piece>\nexport type PiecesDiff = Map<Key, Piece | undefined>\n\nexport type KeyPair = [Key, Key];\n\nexport type NumberPair = [number, number];\n\nexport type NumberQuad = [number, number, number, number];\n\nexport interface Rect {\n  left: number;\n  top: number;\n  width: number;\n  height: number;\n}\n\nexport type Dests = Map<Key, Key[]>;\n\nexport interface Elements {\n  board: HTMLElement;\n  container: HTMLElement;\n  ghost?: HTMLElement;\n  svg?: SVGElement;\n}\nexport interface Dom {\n  elements: Elements;\n  bounds: Memo<ClientRect>;\n  redraw: () => void;\n  redrawNow: (skipSvg?: boolean) => void;\n  unbind?: Unbind;\n  destroyed?: boolean;\n  relative?: boolean; // don't compute bounds, use relative % to place pieces\n}\nexport interface Exploding {\n  stage: number;\n  keys: readonly Key[];\n}\n\nexport interface MoveMetadata {\n  premove: boolean;\n  ctrlKey?: boolean;\n  holdTime?: number;\n  captured?: Piece;\n  predrop?: boolean;\n}\nexport interface SetPremoveMetadata {\n  ctrlKey?: boolean;\n}\n\nexport type MouchEvent = MouseEvent & TouchEvent;\n\nexport interface KeyedNode extends HTMLElement {\n  cgKey: Key;\n}\nexport interface PieceNode extends KeyedNode {\n  tagName: 'PIECE';\n  cgPiece: string;\n  cgAnimating?: boolean;\n  cgFading?: boolean;\n  cgDragging?: boolean;\n}\nexport interface SquareNode extends KeyedNode {\n  tagName: 'SQUARE';\n}\n\nexport interface Memo<A> {\n  (): A;\n  clear: () => void;\n}\n\nexport interface Timer {\n  start: () => void;\n  cancel: () => void;\n  stop: () => number;\n}\n\nexport type Redraw = () => void;\nexport type Unbind = () => void;\nexport type Milliseconds = number;\nexport type KHz = number;\n\nexport const colors: readonly Color[] = ['white', 'black'];\nexport const files: readonly File[] = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];\nexport const ranks: readonly Rank[] = ['1', '2', '3', '4', '5', '6', '7', '8'];\n","import * as cg from './types';\n\nexport const invRanks: readonly cg.Rank[] = ['8', '7', '6', '5', '4', '3', '2', '1'];\n\nexport const allKeys: readonly cg.Key[] = Array.prototype.concat(...cg.files.map(c => cg.ranks.map(r => c + r)));\n\nexport const pos2key = (pos: cg.Pos): cg.Key => allKeys[8 * pos[0] + pos[1]];\n\nexport const key2pos = (k: cg.Key): cg.Pos => [k.charCodeAt(0) - 97, k.charCodeAt(1) - 49];\n\nexport function memo<A>(f: () => A): cg.Memo<A> {\n  let v: A | undefined;\n  const ret = (): A => {\n    if (v === undefined) v = f();\n    return v;\n  };\n  ret.clear = () => { v = undefined };\n  return ret;\n}\n\nexport const timer = (): cg.Timer => {\n  let startAt: number | undefined;\n  return {\n    start() { startAt = performance.now() },\n    cancel() { startAt = undefined },\n    stop() {\n      if (!startAt) return 0;\n      const time = performance.now() - startAt;\n      startAt = undefined;\n      return time;\n    }\n  };\n}\n\nexport const opposite = (c: cg.Color): cg.Color => c === 'white' ? 'black' : 'white';\n\nexport const distanceSq = (pos1: cg.Pos, pos2: cg.Pos): number => {\n  const dx = pos1[0] - pos2[0],\n  dy = pos1[1] - pos2[1];\n  return dx * dx + dy * dy;\n}\n\nexport const samePiece = (p1: cg.Piece, p2: cg.Piece): boolean =>\n  p1.role === p2.role && p1.color === p2.color;\n\nconst posToTranslateBase = (pos: cg.Pos, asWhite: boolean, xFactor: number, yFactor: number): cg.NumberPair => [\n  (asWhite ? pos[0] : 7 - pos[0]) * xFactor,\n  (asWhite ? 7 - pos[1] : pos[1]) * yFactor\n];\n\nexport const posToTranslateAbs = (bounds: ClientRect): (pos: cg.Pos, asWhite: boolean) => cg.NumberPair => {\n  const xFactor = bounds.width / 8,\n  yFactor = bounds.height / 8;\n  return (pos, asWhite) => posToTranslateBase(pos, asWhite, xFactor, yFactor);\n}\n\nexport const posToTranslateRel = (pos: cg.Pos, asWhite: boolean): cg.NumberPair =>\n  posToTranslateBase(pos, asWhite, 100, 100);\n\nexport const translateAbs = (el: HTMLElement, pos: cg.NumberPair): void => {\n  el.style.transform = `translate(${pos[0]}px,${pos[1]}px)`;\n}\n\nexport const translateRel = (el: HTMLElement, percents: cg.NumberPair): void => {\n  el.style.transform = `translate(${percents[0]}%,${percents[1]}%)`;\n}\n\nexport const setVisible = (el: HTMLElement, v: boolean): void => {\n  el.style.visibility = v ? 'visible' : 'hidden';\n}\n\nexport const eventPosition = (e: cg.MouchEvent): cg.NumberPair | undefined => {\n  if (e.clientX || e.clientX === 0) return [e.clientX, e.clientY];\n  if (e.touches && e.targetTouches[0]) return [e.targetTouches[0].clientX, e.targetTouches[0].clientY]; /* eslint-disable-line */\n  return; // touchend has no position!\n}\n\nexport const isRightButton = (e: MouseEvent): boolean => e.buttons === 2 || e.button === 2;\n\nexport const createEl = (tagName: string, className?: string): HTMLElement => {\n  const el = document.createElement(tagName);\n  if (className) el.className = className;\n  return el;\n}\n","import * as util from './util'\nimport * as cg from './types'\n\ntype Mobility = (x1: number, y1: number, x2: number, y2: number) => boolean;\n\nfunction diff(a: number, b: number): number {\n  return Math.abs(a - b);\n}\n\nfunction pawn(color: cg.Color): Mobility {\n  return (x1, y1, x2, y2) => diff(x1, x2) < 2 && (\n    color === 'white' ? (\n      // allow 2 squares from first two ranks, for horde\n      y2 === y1 + 1 || (y1 <= 1 && y2 === (y1 + 2) && x1 === x2)\n    ) : (\n      y2 === y1 - 1 || (y1 >= 6 && y2 === (y1 - 2) && x1 === x2)\n    )\n  );\n}\n\nconst knight: Mobility = (x1, y1, x2, y2) => {\n  const xd = diff(x1, x2);\n  const yd = diff(y1, y2);\n  return (xd === 1 && yd === 2) || (xd === 2 && yd === 1);\n}\n\nconst bishop: Mobility = (x1, y1, x2, y2) => {\n  return diff(x1, x2) === diff(y1, y2);\n}\n\nconst rook: Mobility = (x1, y1, x2, y2) => {\n  return x1 === x2 || y1 === y2;\n}\n\nconst queen: Mobility = (x1, y1, x2, y2) => {\n  return bishop(x1, y1, x2, y2) || rook(x1, y1, x2, y2);\n}\n\nfunction king(color: cg.Color, rookFiles: number[], canCastle: boolean): Mobility {\n  return (x1, y1, x2, y2)  => (\n    diff(x1, x2) < 2 && diff(y1, y2) < 2\n  ) || (\n    canCastle && y1 === y2 && y1 === (color === 'white' ? 0 : 7) && (\n      (x1 === 4 && ((x2 === 2 && rookFiles.includes(0)) || (x2 === 6 && rookFiles.includes(7)))) ||\n      rookFiles.includes(x2)\n    )\n  );\n}\n\nfunction rookFilesOf(pieces: cg.Pieces, color: cg.Color) {\n  const backrank = color === 'white' ? '1' : '8';\n  const files = [];\n  for (const [key, piece] of pieces) {\n    if (key[1] === backrank && piece.color === color && piece.role === 'rook') {\n      files.push(util.key2pos(key)[0]);\n    }\n  }\n  return files;\n}\n\nconst allPos = util.allKeys.map(util.key2pos);\n\nexport function premove(pieces: cg.Pieces, key: cg.Key, canCastle: boolean): cg.Key[] {\n  const piece = pieces.get(key);\n  if (!piece) return [];\n  const pos = util.key2pos(key),\n    r = piece.role,\n    mobility: Mobility = r === 'pawn' ? pawn(piece.color) : (\n      r === 'knight' ? knight : (\n        r === 'bishop' ? bishop : (\n          r === 'rook' ? rook : (\n            r === 'queen' ? queen : king(piece.color, rookFilesOf(pieces, piece.color), canCastle)\n          ))));\n  return allPos.filter(pos2 =>\n    (pos[0] !== pos2[0] || pos[1] !== pos2[1]) && mobility(pos[0], pos[1], pos2[0], pos2[1])\n  ).map(util.pos2key);\n}\n","import { State } from './state'\nimport { pos2key, key2pos, opposite } from './util'\nimport { premove } from './premove'\nimport * as cg from './types'\n\nexport type Callback = (...args: any[]) => void;\n\nexport function callUserFunction(f: Callback | undefined, ...args: any[]): void {\n  if (f) setTimeout(() => f(...args), 1);\n}\n\nexport function toggleOrientation(state: State): void {\n  state.orientation = opposite(state.orientation);\n  state.animation.current =\n  state.draggable.current =\n  state.selected = undefined;\n}\n\nexport function reset(state: State): void {\n  state.lastMove = undefined;\n  unselect(state);\n  unsetPremove(state);\n  unsetPredrop(state);\n}\n\nexport function setPieces(state: State, pieces: cg.PiecesDiff): void {\n  for (const [key, piece] of pieces) {\n    if (piece) state.pieces.set(key, piece);\n    else state.pieces.delete(key);\n  }\n}\n\nexport function setCheck(state: State, color: cg.Color | boolean): void {\n  state.check = undefined;\n  if (color === true) color = state.turnColor;\n  if (color) for (const [k, p] of state.pieces) {\n    if (p.role === 'king' && p.color === color) {\n      state.check = k;\n    }\n  }\n}\n\nfunction setPremove(state: State, orig: cg.Key, dest: cg.Key, meta: cg.SetPremoveMetadata): void {\n  unsetPredrop(state);\n  state.premovable.current = [orig, dest];\n  callUserFunction(state.premovable.events.set, orig, dest, meta);\n}\n\nexport function unsetPremove(state: State): void {\n  if (state.premovable.current) {\n    state.premovable.current = undefined;\n    callUserFunction(state.premovable.events.unset);\n  }\n}\n\nfunction setPredrop(state: State, role: cg.Role, key: cg.Key): void {\n  unsetPremove(state);\n  state.predroppable.current = { role, key };\n  callUserFunction(state.predroppable.events.set, role, key);\n}\n\nexport function unsetPredrop(state: State): void {\n  const pd = state.predroppable;\n  if (pd.current) {\n    pd.current = undefined;\n    callUserFunction(pd.events.unset);\n  }\n}\n\nfunction tryAutoCastle(state: State, orig: cg.Key, dest: cg.Key): boolean {\n  if (!state.autoCastle) return false;\n\n  const king = state.pieces.get(orig);\n  if (!king || king.role !== 'king') return false;\n\n  const origPos = key2pos(orig);\n  const destPos = key2pos(dest);\n  if ((origPos[1] !== 0 && origPos[1] !== 7) || origPos[1] !== destPos[1]) return false;\n  if (origPos[0] === 4 && !state.pieces.has(dest)) {\n    if (destPos[0] === 6) dest = pos2key([7, destPos[1]]);\n    else if (destPos[0] === 2) dest = pos2key([0, destPos[1]]);\n  }\n  const rook = state.pieces.get(dest);\n  if (!rook || rook.color !== king.color || rook.role !== 'rook') return false;\n\n  state.pieces.delete(orig);\n  state.pieces.delete(dest);\n\n  if (origPos[0] < destPos[0]) {\n    state.pieces.set(pos2key([6, destPos[1]]), king);\n    state.pieces.set(pos2key([5, destPos[1]]), rook);\n  } else {\n    state.pieces.set(pos2key([2, destPos[1]]), king);\n    state.pieces.set(pos2key([3, destPos[1]]), rook);\n  }\n  return true;\n}\n\nexport function baseMove(state: State, orig: cg.Key, dest: cg.Key): cg.Piece | boolean {\n  const origPiece = state.pieces.get(orig), destPiece = state.pieces.get(dest);\n  if (orig === dest || !origPiece) return false;\n  const captured = (destPiece && destPiece.color !== origPiece.color) ? destPiece : undefined;\n  if (dest === state.selected) unselect(state);\n  callUserFunction(state.events.move, orig, dest, captured);\n  if (!tryAutoCastle(state, orig, dest)) {\n    state.pieces.set(dest, origPiece);\n    state.pieces.delete(orig);\n  }\n  state.lastMove = [orig, dest];\n  state.check = undefined;\n  callUserFunction(state.events.change);\n  return captured || true;\n}\n\nexport function baseNewPiece(state: State, piece: cg.Piece, key: cg.Key, force?: boolean): boolean {\n  if (state.pieces.has(key)) {\n    if (force) state.pieces.delete(key);\n    else return false;\n  }\n  callUserFunction(state.events.dropNewPiece, piece, key);\n  state.pieces.set(key, piece);\n  state.lastMove = [key];\n  state.check = undefined;\n  callUserFunction(state.events.change);\n  state.movable.dests = undefined;\n  state.turnColor = opposite(state.turnColor);\n  return true;\n}\n\nfunction baseUserMove(state: State, orig: cg.Key, dest: cg.Key): cg.Piece | boolean {\n  const result = baseMove(state, orig, dest);\n  if (result) {\n    state.movable.dests = undefined;\n    state.turnColor = opposite(state.turnColor);\n    state.animation.current = undefined;\n  }\n  return result;\n}\n\nexport function userMove(state: State, orig: cg.Key, dest: cg.Key): boolean {\n  if (canMove(state, orig, dest)) {\n    const result = baseUserMove(state, orig, dest);\n    if (result) {\n      const holdTime = state.hold.stop();\n      unselect(state);\n      const metadata: cg.MoveMetadata = {\n        premove: false,\n        ctrlKey: state.stats.ctrlKey,\n        holdTime\n      };\n      if (result !== true) metadata.captured = result;\n      callUserFunction(state.movable.events.after, orig, dest, metadata);\n      return true;\n    }\n  } else if (canPremove(state, orig, dest)) {\n    setPremove(state, orig, dest, {\n      ctrlKey: state.stats.ctrlKey\n    });\n    unselect(state);\n    return true;\n  }\n  unselect(state);\n  return false;\n}\n\nexport function dropNewPiece(state: State, orig: cg.Key, dest: cg.Key, force?: boolean): void {\n  const piece = state.pieces.get(orig);\n  if (piece && (canDrop(state, orig, dest) || force)) {\n    state.pieces.delete(orig);\n    baseNewPiece(state, piece, dest, force);\n    callUserFunction(state.movable.events.afterNewPiece, piece.role, dest, {\n      predrop: false\n    });\n  } else if (piece && canPredrop(state, orig, dest)) {\n    setPredrop(state, piece.role, dest);\n  } else {\n    unsetPremove(state);\n    unsetPredrop(state);\n  }\n  state.pieces.delete(orig);\n  unselect(state);\n}\n\nexport function selectSquare(state: State, key: cg.Key, force?: boolean): void {\n  callUserFunction(state.events.select, key);\n  if (state.selected) {\n    if (state.selected === key && !state.draggable.enabled) {\n      unselect(state);\n      state.hold.cancel();\n      return;\n    } else if ((state.selectable.enabled || force) && state.selected !== key) {\n      if (userMove(state, state.selected, key)) {\n        state.stats.dragged = false;\n        return;\n      }\n    }\n  }\n  if (isMovable(state, key) || isPremovable(state, key)) {\n    setSelected(state, key);\n    state.hold.start();\n  }\n}\n\nexport function setSelected(state: State, key: cg.Key): void {\n  state.selected = key;\n  if (isPremovable(state, key)) {\n    state.premovable.dests = premove(state.pieces, key, state.premovable.castle);\n  }\n  else state.premovable.dests = undefined;\n}\n\nexport function unselect(state: State): void {\n  state.selected = undefined;\n  state.premovable.dests = undefined;\n  state.hold.cancel();\n}\n\nfunction isMovable(state: State, orig: cg.Key): boolean {\n  const piece = state.pieces.get(orig);\n  return !!piece && (\n    state.movable.color === 'both' || (\n      state.movable.color === piece.color &&\n        state.turnColor === piece.color\n    ));\n}\n\nexport function canMove(state: State, orig: cg.Key, dest: cg.Key): boolean {\n  return orig !== dest && isMovable(state, orig) && (\n    state.movable.free || !!state.movable.dests?.get(orig)?.includes(dest)\n  );\n}\n\nfunction canDrop(state: State, orig: cg.Key, dest: cg.Key): boolean {\n  const piece = state.pieces.get(orig);\n  return !!piece && (orig === dest || !state.pieces.has(dest)) && (\n    state.movable.color === 'both' || (\n      state.movable.color === piece.color &&\n        state.turnColor === piece.color\n    ));\n}\n\n\nfunction isPremovable(state: State, orig: cg.Key): boolean {\n  const piece = state.pieces.get(orig);\n  return !!piece && state.premovable.enabled &&\n  state.movable.color === piece.color &&\n    state.turnColor !== piece.color;\n}\n\nfunction canPremove(state: State, orig: cg.Key, dest: cg.Key): boolean {\n  return orig !== dest &&\n  isPremovable(state, orig) &&\n  premove(state.pieces, orig, state.premovable.castle).includes(dest);\n}\n\nfunction canPredrop(state: State, orig: cg.Key, dest: cg.Key): boolean {\n  const piece = state.pieces.get(orig);\n  const destPiece = state.pieces.get(dest);\n  return !!piece &&\n  (!destPiece || destPiece.color !== state.movable.color) &&\n  state.predroppable.enabled &&\n  (piece.role !== 'pawn' || (dest[1] !== '1' && dest[1] !== '8')) &&\n  state.movable.color === piece.color &&\n    state.turnColor !== piece.color;\n}\n\nexport function isDraggable(state: State, orig: cg.Key): boolean {\n  const piece = state.pieces.get(orig);\n  return !!piece && state.draggable.enabled && (\n    state.movable.color === 'both' || (\n      state.movable.color === piece.color && (\n        state.turnColor === piece.color || state.premovable.enabled\n      )\n    )\n  );\n}\n\nexport function playPremove(state: State): boolean {\n  const move = state.premovable.current;\n  if (!move) return false;\n  const orig = move[0], dest = move[1];\n  let success = false;\n  if (canMove(state, orig, dest)) {\n    const result = baseUserMove(state, orig, dest);\n    if (result) {\n      const metadata: cg.MoveMetadata = { premove: true };\n      if (result !== true) metadata.captured = result;\n      callUserFunction(state.movable.events.after, orig, dest, metadata);\n      success = true;\n    }\n  }\n  unsetPremove(state);\n  return success;\n}\n\nexport function playPredrop(state: State, validate: (drop: cg.Drop) => boolean): boolean {\n  const drop = state.predroppable.current;\n  let success = false;\n  if (!drop) return false;\n  if (validate(drop)) {\n    const piece = {\n      role: drop.role,\n      color: state.movable.color\n    } as cg.Piece;\n    if (baseNewPiece(state, piece, drop.key)) {\n      callUserFunction(state.movable.events.afterNewPiece, drop.role, drop.key, {\n        predrop: true\n      });\n      success = true;\n    }\n  }\n  unsetPredrop(state);\n  return success;\n}\n\nexport function cancelMove(state: State): void {\n  unsetPremove(state);\n  unsetPredrop(state);\n  unselect(state);\n}\n\nexport function stop(state: State): void {\n  state.movable.color =\n  state.movable.dests =\n  state.animation.current = undefined;\n  cancelMove(state);\n}\n\nexport function getKeyAtDomPos(pos: cg.NumberPair, asWhite: boolean, bounds: ClientRect): cg.Key | undefined {\n  let file = Math.floor(8 * (pos[0] - bounds.left) / bounds.width);\n  if (!asWhite) file = 7 - file;\n  let rank = 7 - Math.floor(8 * (pos[1] - bounds.top) / bounds.height);\n  if (!asWhite) rank = 7 - rank;\n  return (file >= 0 && file < 8 && rank >= 0 && rank < 8) ? pos2key([file, rank]) : undefined;\n}\n\nexport function whitePov(s: State): boolean {\n  return s.orientation === 'white';\n}\n","import { pos2key, invRanks } from './util'\nimport * as cg from './types'\n\nexport const initial: cg.FEN = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR';\n\nconst roles: { [letter: string]: cg.Role } = { p: 'pawn', r: 'rook', n: 'knight', b: 'bishop', q: 'queen', k: 'king' };\n\nconst letters = { pawn: 'p', rook: 'r', knight: 'n', bishop: 'b', queen: 'q', king: 'k' };\n\nexport function read(fen: cg.FEN): cg.Pieces {\n  if (fen === 'start') fen = initial;\n  const pieces: cg.Pieces = new Map();\n  let row = 7, col = 0;\n  for (const c of fen) {\n    switch (c) {\n      case ' ': return pieces;\n      case '/':\n        --row;\n        if (row < 0) return pieces;\n        col = 0;\n        break;\n      case '~':\n        const piece = pieces.get(pos2key([col, row]));\n        if (piece) piece.promoted = true;\n        break;\n      default:\n        const nb = c.charCodeAt(0);\n        if (nb < 57) col += nb - 48;\n        else {\n          const role = c.toLowerCase();\n          pieces.set(pos2key([col, row]), {\n            role: roles[role],\n            color: c === role ? 'black' : 'white',\n          });\n          ++col;\n        }\n    }\n  }\n  return pieces;\n}\n\nexport function write(pieces: cg.Pieces): cg.FEN {\n  return invRanks.map(y => cg.files.map(x => {\n      const piece = pieces.get(x + y as cg.Key);\n      if (piece) {\n        const letter = letters[piece.role];\n        return piece.color === 'white' ? letter.toUpperCase() : letter;\n      } else return '1';\n    }).join('')\n  ).join('/').replace(/1{2,}/g, s => s.length.toString());\n}\n","import { State } from './state'\nimport { setCheck, setSelected } from './board'\nimport { read as fenRead } from './fen'\nimport { DrawShape, DrawBrush } from './draw'\nimport * as cg from './types'\n\nexport interface Config {\n  fen?: cg.FEN; // chess position in Forsyth notation\n  orientation?: cg.Color; // board orientation. white | black\n  turnColor?: cg.Color; // turn to play. white | black\n  check?: cg.Color | boolean; // true for current color, false to unset\n  lastMove?: cg.Key[]; // squares part of the last move [\"c3\", \"c4\"]\n  selected?: cg.Key; // square currently selected \"a1\"\n  coordinates?: boolean; // include coords attributes\n  autoCastle?: boolean; // immediately complete the castle by moving the rook after king move\n  viewOnly?: boolean; // don't bind events: the user will never be able to move pieces around\n  disableContextMenu?: boolean; // because who needs a context menu on a chessboard\n  resizable?: boolean; // listens to chessground.resize on document.body to clear bounds cache\n  addPieceZIndex?: boolean; // adds z-index values to pieces (for 3D)\n  // pieceKey: boolean; // add a data-key attribute to piece elements\n  highlight?: {\n    lastMove?: boolean; // add last-move class to squares\n    check?: boolean; // add check class to squares\n  };\n  animation?: {\n    enabled?: boolean;\n    duration?: number;\n  };\n  movable?: {\n    free?: boolean; // all moves are valid - board editor\n    color?: cg.Color | 'both'; // color that can move. white | black | both | undefined\n    dests?: cg.Dests; // valid moves. {\"a2\" [\"a3\" \"a4\"] \"b1\" [\"a3\" \"c3\"]}\n    showDests?: boolean; // whether to add the move-dest class on squares\n    events?: {\n      after?: (orig: cg.Key, dest: cg.Key, metadata: cg.MoveMetadata) => void; // called after the move has been played\n      afterNewPiece?: (role: cg.Role, key: cg.Key, metadata: cg.MoveMetadata) => void; // called after a new piece is dropped on the board\n    };\n    rookCastle?: boolean; // castle by moving the king to the rook\n  };\n  premovable?: {\n    enabled?: boolean; // allow premoves for color that can not move\n    showDests?: boolean; // whether to add the premove-dest class on squares\n    castle?: boolean; // whether to allow king castle premoves\n    dests?: cg.Key[]; // premove destinations for the current selection\n    events?: {\n      set?: (orig: cg.Key, dest: cg.Key, metadata?: cg.SetPremoveMetadata) => void; // called after the premove has been set\n      unset?: () => void;  // called after the premove has been unset\n    };\n  };\n  predroppable?: {\n    enabled?: boolean; // allow predrops for color that can not move\n    events?: {\n      set?: (role: cg.Role, key: cg.Key) => void; // called after the predrop has been set\n      unset?: () => void; // called after the predrop has been unset\n    };\n  };\n  draggable?: {\n    enabled?: boolean; // allow moves & premoves to use drag'n drop\n    distance?: number; // minimum distance to initiate a drag; in pixels\n    autoDistance?: boolean; // lets chessground set distance to zero when user drags pieces\n    showGhost?: boolean; // show ghost of piece being dragged\n    deleteOnDropOff?: boolean; // delete a piece when it is dropped off the board\n  };\n  selectable?: {\n    // disable to enforce dragging over click-click move\n    enabled?: boolean;\n  };\n  events?: {\n    change?: () => void; // called after the situation changes on the board\n    // called after a piece has been moved.\n    // capturedPiece is undefined or like {color: 'white'; 'role': 'queen'}\n    move?: (orig: cg.Key, dest: cg.Key, capturedPiece?: cg.Piece) => void;\n    dropNewPiece?: (piece: cg.Piece, key: cg.Key) => void;\n    select?: (key: cg.Key) => void; // called when a square is selected\n    insert?: (elements: cg.Elements) => void; // when the board DOM has been (re)inserted\n  };\n  drawable?: {\n    enabled?: boolean; // can draw\n    visible?: boolean; // can view\n    eraseOnClick?: boolean;\n    shapes?: DrawShape[];\n    autoShapes?: DrawShape[];\n    brushes?: DrawBrush[];\n    pieces?: {\n      baseUrl?: string;\n    };\n    onChange?: (shapes: DrawShape[]) => void; // called after drawable shapes change\n  };\n}\n\nexport function configure(state: State, config: Config): void {\n\n  // don't merge destinations. Just override.\n  if (config.movable?.dests) state.movable.dests = undefined;\n\n  merge(state, config);\n\n  // if a fen was provided, replace the pieces\n  if (config.fen) {\n    state.pieces = fenRead(config.fen);\n    state.drawable.shapes = [];\n  }\n\n  // apply config values that could be undefined yet meaningful\n  if (config.hasOwnProperty('check')) setCheck(state, config.check || false);\n  if (config.hasOwnProperty('lastMove') && !config.lastMove) state.lastMove = undefined;\n  // in case of ZH drop last move, there's a single square.\n  // if the previous last move had two squares,\n  // the merge algorithm will incorrectly keep the second square.\n  else if (config.lastMove) state.lastMove = config.lastMove;\n\n  // fix move/premove dests\n  if (state.selected) setSelected(state, state.selected);\n\n  // no need for such short animations\n  if (!state.animation.duration || state.animation.duration < 100) state.animation.enabled = false;\n\n  if (!state.movable.rookCastle && state.movable.dests) {\n    const rank = state.movable.color === 'white' ? '1' : '8',\n    kingStartPos = 'e' + rank as cg.Key,\n    dests = state.movable.dests.get(kingStartPos),\n    king = state.pieces.get(kingStartPos);\n    if (!dests || !king || king.role !== 'king') return;\n    state.movable.dests.set(kingStartPos, dests.filter(d =>\n      !((d === 'a' + rank) && dests.includes('c' + rank as cg.Key)) &&\n        !((d === 'h' + rank) && dests.includes('g' + rank as cg.Key))\n    ));\n  }\n}\n\nfunction merge(base: any, extend: any): void {\n  for (const key in extend) {\n    if (isObject(base[key]) && isObject(extend[key])) merge(base[key], extend[key]);\n    else base[key] = extend[key];\n  }\n}\n\nfunction isObject(o: unknown): boolean {\n  return typeof o === 'object';\n}\n","import { State } from './state'\nimport * as util from './util'\nimport * as cg from './types'\n\nexport type Mutation<A> = (state: State) => A;\n\n// 0,1 animation goal\n// 2,3 animation current status\nexport type AnimVector = cg.NumberQuad;\n\nexport type AnimVectors = Map<cg.Key, AnimVector>;\n\nexport type AnimFadings = Map<cg.Key, cg.Piece>;\n\nexport interface AnimPlan {\n  anims: AnimVectors;\n  fadings: AnimFadings;\n}\n\nexport interface AnimCurrent {\n  start: DOMHighResTimeStamp;\n  frequency: cg.KHz;\n  plan: AnimPlan;\n}\n\nexport function anim<A>(mutation: Mutation<A>, state: State): A {\n  return state.animation.enabled ? animate(mutation, state) : render(mutation, state);\n}\n\nexport function render<A>(mutation: Mutation<A>, state: State): A {\n  const result = mutation(state);\n  state.dom.redraw();\n  return result;\n}\n\ninterface AnimPiece {\n  key: cg.Key;\n  pos: cg.Pos;\n  piece: cg.Piece;\n}\ntype AnimPieces = Map<cg.Key, AnimPiece>;\n\nfunction makePiece(key: cg.Key, piece: cg.Piece): AnimPiece {\n  return {\n    key: key,\n    pos: util.key2pos(key),\n    piece: piece\n  };\n}\n\nfunction closer(piece: AnimPiece, pieces: AnimPiece[]): AnimPiece | undefined {\n  return pieces.sort((p1, p2) => {\n    return util.distanceSq(piece.pos, p1.pos) - util.distanceSq(piece.pos, p2.pos);\n  })[0];\n}\n\nfunction computePlan(prevPieces: cg.Pieces, current: State): AnimPlan {\n  const anims: AnimVectors = new Map(),\n  animedOrigs: cg.Key[] = [],\n  fadings: AnimFadings = new Map(),\n  missings: AnimPiece[] = [],\n  news: AnimPiece[] = [],\n  prePieces: AnimPieces = new Map();\n  let curP: cg.Piece | undefined, preP: AnimPiece | undefined, vector: cg.NumberPair;\n  for (const [k, p] of prevPieces) {\n    prePieces.set(k, makePiece(k, p));\n  }\n  for (const key of util.allKeys) {\n    curP = current.pieces.get(key);\n    preP = prePieces.get(key);\n    if (curP) {\n      if (preP) {\n        if (!util.samePiece(curP, preP.piece)) {\n          missings.push(preP);\n          news.push(makePiece(key, curP));\n        }\n      } else news.push(makePiece(key, curP));\n    } else if (preP) missings.push(preP);\n  }\n  for (const newP of news) {\n    preP = closer(newP, missings.filter(p => util.samePiece(newP.piece, p.piece)));\n    if (preP) {\n      vector = [preP.pos[0] - newP.pos[0], preP.pos[1] - newP.pos[1]];\n      anims.set(newP.key, vector.concat(vector) as AnimVector);\n      animedOrigs.push(preP.key);\n    }\n  }\n  for (const p of missings) {\n    if (!animedOrigs.includes(p.key)) fadings.set(p.key, p.piece);\n  }\n\n  return {\n    anims: anims,\n    fadings: fadings\n  };\n}\n\nfunction step(state: State, now: DOMHighResTimeStamp): void {\n  const cur = state.animation.current;\n  if (cur === undefined) { // animation was canceled :(\n    if (!state.dom.destroyed) state.dom.redrawNow();\n    return;\n  }\n  const rest = 1 - (now - cur.start) * cur.frequency;\n  if (rest <= 0) {\n    state.animation.current = undefined;\n    state.dom.redrawNow();\n  } else {\n    const ease = easing(rest);\n    for (const cfg of cur.plan.anims.values()) {\n      cfg[2] = cfg[0] * ease;\n      cfg[3] = cfg[1] * ease;\n    }\n    state.dom.redrawNow(true); // optimisation: don't render SVG changes during animations\n    requestAnimationFrame((now = performance.now()) => step(state, now));\n  }\n}\n\nfunction animate<A>(mutation: Mutation<A>, state: State): A {\n  // clone state before mutating it\n  const prevPieces: cg.Pieces = new Map(state.pieces);\n\n  const result = mutation(state);\n  const plan = computePlan(prevPieces, state);\n  if (plan.anims.size || plan.fadings.size) {\n    const alreadyRunning = state.animation.current && state.animation.current.start;\n    state.animation.current = {\n      start: performance.now(),\n      frequency: 1 / state.animation.duration,\n      plan: plan\n    };\n    if (!alreadyRunning) step(state, performance.now());\n  } else {\n    // don't animate, just render right away\n    state.dom.redraw();\n  }\n  return result;\n}\n\n// https://gist.github.com/gre/1650294\nfunction easing(t: number): number {\n  return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n}\n","import { State } from './state'\nimport { unselect, cancelMove, getKeyAtDomPos, whitePov } from './board'\nimport { eventPosition, isRightButton } from './util'\nimport * as cg from './types'\n\nexport interface DrawShape {\n  orig: cg.Key;\n  dest?: cg.Key;\n  brush: string;\n  modifiers?: DrawModifiers;\n  piece?: DrawShapePiece;\n}\n\nexport interface DrawShapePiece {\n  role: cg.Role;\n  color: cg.Color;\n  scale?: number;\n}\n\nexport interface DrawBrush {\n  key: string;\n  color: string;\n  opacity: number;\n  lineWidth: number;\n}\n\nexport interface DrawBrushes {\n  [name: string]: DrawBrush;\n}\n\nexport interface DrawModifiers {\n  lineWidth?: number;\n}\n\nexport interface Drawable {\n  enabled: boolean; // can draw\n  visible: boolean; // can view\n  eraseOnClick: boolean;\n  onChange?: (shapes: DrawShape[]) => void;\n  shapes: DrawShape[]; // user shapes\n  autoShapes: DrawShape[]; // computer shapes\n  current?: DrawCurrent;\n  brushes: DrawBrushes;\n  // drawable SVG pieces; used for crazyhouse drop\n  pieces: {\n    baseUrl: string;\n  };\n  prevSvgHash: string;\n}\n\nexport interface DrawCurrent {\n  orig: cg.Key; // orig key of drawing\n  dest?: cg.Key; // shape dest, or undefined for circle\n  mouseSq?: cg.Key; // square being moused over\n  pos: cg.NumberPair; // relative current position\n  brush: string; // brush name for shape\n}\n\nconst brushes = ['green', 'red', 'blue', 'yellow'];\n\nexport function start(state: State, e: cg.MouchEvent): void {\n  // support one finger touch only\n  if (e.touches && e.touches.length > 1) return; /* eslint-disable-line */\n  e.stopPropagation();\n  e.preventDefault();\n  e.ctrlKey ? unselect(state) : cancelMove(state);\n  const pos = eventPosition(e)!,\n  orig = getKeyAtDomPos(pos, whitePov(state), state.dom.bounds());\n  if (!orig) return;\n  state.drawable.current = {\n    orig,\n    pos,\n    brush: eventBrush(e)\n  };\n  processDraw(state);\n}\n\nexport function processDraw(state: State): void {\n  requestAnimationFrame(() => {\n    const cur = state.drawable.current;\n    if (cur) {\n      const mouseSq = getKeyAtDomPos(cur.pos, whitePov(state), state.dom.bounds());\n      if (mouseSq !== cur.mouseSq) {\n        cur.mouseSq = mouseSq;\n        cur.dest = mouseSq !== cur.orig ? mouseSq : undefined;\n        state.dom.redrawNow();\n      }\n      processDraw(state);\n    }\n  });\n}\n\nexport function move(state: State, e: cg.MouchEvent): void {\n  if (state.drawable.current) state.drawable.current.pos = eventPosition(e)!;\n}\n\nexport function end(state: State): void {\n  const cur = state.drawable.current;\n  if (cur) {\n    if (cur.mouseSq) addShape(state.drawable, cur);\n    cancel(state);\n  }\n}\n\nexport function cancel(state: State): void {\n  if (state.drawable.current) {\n    state.drawable.current = undefined;\n    state.dom.redraw();\n  }\n}\n\nexport function clear(state: State): void {\n  if (state.drawable.shapes.length) {\n    state.drawable.shapes = [];\n    state.dom.redraw();\n    onChange(state.drawable);\n  }\n}\n\nfunction eventBrush(e: cg.MouchEvent): string {\n  const modA = (e.shiftKey || e.ctrlKey) && isRightButton(e);\n  const modB = e.altKey || e.metaKey || e.getModifierState('AltGraph');\n  return brushes[(modA ? 1 : 0) + (modB ? 2 : 0)];\n}\n\nfunction addShape(drawable: Drawable, cur: DrawCurrent): void {\n  const sameShape = (s: DrawShape) => s.orig === cur.orig && s.dest === cur.dest;\n  const similar = drawable.shapes.find(sameShape);\n  if (similar) drawable.shapes = drawable.shapes.filter(s => !sameShape(s));\n  if (!similar || similar.brush !== cur.brush) drawable.shapes.push(cur);\n  onChange(drawable);\n}\n\nfunction onChange(drawable: Drawable): void {\n  if (drawable.onChange) drawable.onChange(drawable.shapes);\n}\n","import { State } from './state'\nimport * as board from './board'\nimport * as util from './util'\nimport { clear as drawClear } from './draw'\nimport * as cg from './types'\nimport { anim } from './anim'\n\nexport interface DragCurrent {\n  orig: cg.Key; // orig key of dragging piece\n  piece: cg.Piece;\n  origPos: cg.NumberPair; // first event position\n  pos: cg.NumberPair; // latest event position\n  started: boolean; // whether the drag has started; as per the distance setting\n  element: cg.PieceNode | (() => cg.PieceNode | undefined);\n  newPiece?: boolean; // it it a new piece from outside the board\n  force?: boolean; // can the new piece replace an existing one (editor)\n  previouslySelected?: cg.Key;\n  originTarget: EventTarget | null;\n}\n\nexport function start(s: State, e: cg.MouchEvent): void {\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  if (e.button !== undefined && e.button !== 0) return; // only touch or left click\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  if (e.touches && e.touches.length > 1) return; // support one finger touch only\n  const bounds = s.dom.bounds(),\n  position = util.eventPosition(e)!,\n  orig = board.getKeyAtDomPos(position, board.whitePov(s), bounds);\n  if (!orig) return;\n  const piece = s.pieces.get(orig);\n  const previouslySelected = s.selected;\n  if (!previouslySelected && s.drawable.enabled && (\n    s.drawable.eraseOnClick || (!piece || piece.color !== s.turnColor)\n  )) drawClear(s);\n  // Prevent touch scroll and create no corresponding mouse event, if there\n  // is an intent to interact with the board. If no color is movable\n  // (and the board is not for viewing only), touches are likely intended to\n  // select squares.\n  if (e.cancelable !== false &&\n      (!e.touches || !s.movable.color || piece || previouslySelected || pieceCloseTo(s, position))) /* eslint-disable-line */\n        e.preventDefault();\n  const hadPremove = !!s.premovable.current;\n  const hadPredrop = !!s.predroppable.current;\n  s.stats.ctrlKey = e.ctrlKey;\n  if (s.selected && board.canMove(s, s.selected, orig)) {\n    anim(state => board.selectSquare(state, orig), s);\n  } else {\n    board.selectSquare(s, orig);\n  }\n  const stillSelected = s.selected === orig;\n  const element = pieceElementByKey(s, orig);\n  if (piece && element && stillSelected && board.isDraggable(s, orig)) {\n    s.draggable.current = {\n      orig,\n      piece,\n      origPos: position,\n      pos: position,\n      started: s.draggable.autoDistance && s.stats.dragged,\n      element,\n      previouslySelected,\n      originTarget: e.target\n    };\n    element.cgDragging = true;\n    element.classList.add('dragging');\n    // place ghost\n    const ghost = s.dom.elements.ghost;\n    if (ghost) {\n      ghost.className = `ghost ${piece.color} ${piece.role}`;\n      util.translateAbs(ghost, util.posToTranslateAbs(bounds)(util.key2pos(orig), board.whitePov(s)));\n      util.setVisible(ghost, true);\n    }\n    processDrag(s);\n  } else {\n    if (hadPremove) board.unsetPremove(s);\n    if (hadPredrop) board.unsetPredrop(s);\n  }\n  s.dom.redraw();\n}\n\nfunction pieceCloseTo(s: State, pos: cg.NumberPair): boolean {\n  const asWhite = board.whitePov(s),\n  bounds = s.dom.bounds(),\n  radiusSq = Math.pow(bounds.width / 8, 2);\n  for (const key in s.pieces) {\n    const center = computeSquareCenter(key as cg.Key, asWhite, bounds);\n    if (util.distanceSq(center, pos) <= radiusSq) return true;\n  }\n  return false;\n}\n\nexport function dragNewPiece(s: State, piece: cg.Piece, e: cg.MouchEvent, force?: boolean): void {\n\n  const key: cg.Key = 'a0';\n  s.pieces.set(key, piece);\n  s.dom.redraw();\n\n  const position = util.eventPosition(e)!;\n\n  s.draggable.current = {\n    orig: key,\n    piece,\n    origPos: position,\n    pos: position,\n    started: true,\n    element: () => pieceElementByKey(s, key),\n    originTarget: e.target,\n    newPiece: true,\n    force: !!force\n  };\n  processDrag(s);\n}\n\nfunction processDrag(s: State): void {\n  requestAnimationFrame(() => {\n    const cur = s.draggable.current;\n    if (!cur) return;\n    // cancel animations while dragging\n    if (s.animation.current?.plan.anims.has(cur.orig)) s.animation.current = undefined;\n    // if moving piece is gone, cancel\n    const origPiece = s.pieces.get(cur.orig);\n    if (!origPiece || !util.samePiece(origPiece, cur.piece)) cancel(s);\n    else {\n      if (!cur.started && util.distanceSq(cur.pos, cur.origPos) >= Math.pow(s.draggable.distance, 2)) cur.started = true;\n      if (cur.started) {\n\n        // support lazy elements\n        if (typeof cur.element === 'function') {\n          const found = cur.element();\n          if (!found) return;\n          found.cgDragging = true;\n          found.classList.add('dragging');\n          cur.element = found;\n        }\n\n        const bounds = s.dom.bounds();\n        util.translateAbs(cur.element, [\n          cur.pos[0] - bounds.left - bounds.width / 16,\n          cur.pos[1] - bounds.top - bounds.height / 16\n        ]);\n      }\n    }\n    processDrag(s);\n  });\n}\n\nexport function move(s: State, e: cg.MouchEvent): void {\n  // support one finger touch only\n  if (s.draggable.current && (!e.touches || e.touches.length < 2)) { /* eslint-disable-line */\n    s.draggable.current.pos = util.eventPosition(e)!;\n  }\n}\n\nexport function end(s: State, e: cg.MouchEvent): void {\n  const cur = s.draggable.current;\n  if (!cur) return;\n  // create no corresponding mouse event\n  if (e.type === 'touchend' && e.cancelable !== false) e.preventDefault();\n  // comparing with the origin target is an easy way to test that the end event\n  // has the same touch origin\n  if (e.type === 'touchend' && cur.originTarget !== e.target && !cur.newPiece) {\n    s.draggable.current = undefined;\n    return;\n  }\n  board.unsetPremove(s);\n  board.unsetPredrop(s);\n  // touchend has no position; so use the last touchmove position instead\n  const eventPos = util.eventPosition(e) || cur.pos;\n  const dest = board.getKeyAtDomPos(eventPos, board.whitePov(s), s.dom.bounds());\n  if (dest && cur.started && cur.orig !== dest) {\n    if (cur.newPiece) board.dropNewPiece(s, cur.orig, dest, cur.force);\n    else {\n      s.stats.ctrlKey = e.ctrlKey;\n      if (board.userMove(s, cur.orig, dest)) s.stats.dragged = true;\n    }\n  } else if (cur.newPiece) {\n    s.pieces.delete(cur.orig);\n  } else if (s.draggable.deleteOnDropOff && !dest) {\n    s.pieces.delete(cur.orig);\n    board.callUserFunction(s.events.change);\n  }\n  if (cur.orig === cur.previouslySelected && (cur.orig === dest || !dest))\n    board.unselect(s);\n  else if (!s.selectable.enabled) board.unselect(s);\n\n  removeDragElements(s);\n\n  s.draggable.current = undefined;\n  s.dom.redraw();\n}\n\nexport function cancel(s: State): void {\n  const cur = s.draggable.current;\n  if (cur) {\n    if (cur.newPiece) s.pieces.delete(cur.orig);\n    s.draggable.current = undefined;\n    board.unselect(s);\n    removeDragElements(s);\n    s.dom.redraw();\n  }\n}\n\nfunction removeDragElements(s: State): void {\n  const e = s.dom.elements;\n  if (e.ghost) util.setVisible(e.ghost, false);\n}\n\nfunction computeSquareCenter(key: cg.Key, asWhite: boolean, bounds: ClientRect): cg.NumberPair {\n  const pos = util.key2pos(key);\n  if (!asWhite) {\n    pos[0] = 7 - pos[0];\n    pos[1] = 7 - pos[1];\n  }\n  return [\n    bounds.left + bounds.width * pos[0] / 8 + bounds.width / 16,\n    bounds.top + bounds.height * (7 - pos[1]) / 8 + bounds.height / 16\n  ];\n}\n\nfunction pieceElementByKey(s: State, key: cg.Key): cg.PieceNode | undefined {\n  let el = s.dom.elements.board.firstChild;\n  while (el) {\n    if ((el as cg.KeyedNode).cgKey === key && (el as cg.KeyedNode).tagName === 'PIECE') return el as cg.PieceNode;\n    el = el.nextSibling;\n  }\n  return;\n}\n","import { State } from './state'\nimport { Key } from './types'\n\nexport function explosion(state: State, keys: Key[]): void {\n  state.exploding = { stage: 1, keys };\n  state.dom.redraw();\n  setTimeout(() => {\n    setStage(state, 2);\n    setTimeout(() => setStage(state, undefined), 120);\n  }, 120);\n}\n\nfunction setStage(state: State, stage: number | undefined): void {\n  if (state.exploding) {\n    if (stage) state.exploding.stage = stage;\n    else state.exploding = undefined;\n    state.dom.redraw();\n  }\n}\n","import { State } from './state'\nimport * as board from './board'\nimport { write as fenWrite } from './fen'\nimport { Config, configure } from './config'\nimport { anim, render } from './anim'\nimport { cancel as dragCancel, dragNewPiece } from './drag'\nimport { DrawShape } from './draw'\nimport { explosion } from './explosion'\nimport * as cg from './types'\n\nexport interface Api {\n\n  // reconfigure the instance. Accepts all config options, except for viewOnly & drawable.visible.\n  // board will be animated accordingly, if animations are enabled.\n  set(config: Config): void;\n\n  // read chessground state; write at your own risks.\n  state: State;\n\n  // get the position as a FEN string (only contains pieces, no flags)\n  // e.g. rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR\n  getFen(): cg.FEN;\n\n  // change the view angle\n  toggleOrientation(): void;\n\n  // perform a move programmatically\n  move(orig: cg.Key, dest: cg.Key): void;\n\n  // add and/or remove arbitrary pieces on the board\n  setPieces(pieces: cg.PiecesDiff): void;\n\n  // click a square programmatically\n  selectSquare(key: cg.Key | null, force?: boolean): void;\n\n  // put a new piece on the board\n  newPiece(piece: cg.Piece, key: cg.Key): void;\n\n  // play the current premove, if any; returns true if premove was played\n  playPremove(): boolean;\n\n  // cancel the current premove, if any\n  cancelPremove(): void;\n\n  // play the current predrop, if any; returns true if premove was played\n  playPredrop(validate: (drop: cg.Drop) => boolean): boolean;\n\n  // cancel the current predrop, if any\n  cancelPredrop(): void;\n\n  // cancel the current move being made\n  cancelMove(): void;\n\n  // cancel current move and prevent further ones\n  stop(): void;\n\n  // make squares explode (atomic chess)\n  explode(keys: cg.Key[]): void;\n\n  // programmatically draw user shapes\n  setShapes(shapes: DrawShape[]): void;\n\n  // programmatically draw auto shapes\n  setAutoShapes(shapes: DrawShape[]): void;\n\n  // square name at this DOM position (like \"e4\")\n  getKeyAtDomPos(pos: cg.NumberPair): cg.Key | undefined;\n\n  // only useful when CSS changes the board width/height ratio (for 3D)\n  redrawAll: cg.Redraw;\n\n  // for crazyhouse and board editors\n  dragNewPiece(piece: cg.Piece, event: cg.MouchEvent, force?: boolean): void;\n\n  // unbinds all events\n  // (important for document-wide events like scroll and mousemove)\n  destroy: cg.Unbind;\n}\n\n// see API types and documentations in dts/api.d.ts\nexport function start(state: State, redrawAll: cg.Redraw): Api {\n\n  function toggleOrientation(): void {\n    board.toggleOrientation(state);\n    redrawAll();\n  }\n\n  return {\n\n    set(config): void {\n      if (config.orientation && config.orientation !== state.orientation) toggleOrientation();\n      (config.fen ? anim : render)(state => configure(state, config), state);\n    },\n\n    state,\n\n    getFen: () => fenWrite(state.pieces),\n\n    toggleOrientation,\n\n    setPieces(pieces): void {\n      anim(state => board.setPieces(state, pieces), state);\n    },\n\n    selectSquare(key, force): void {\n      if (key) anim(state => board.selectSquare(state, key, force), state);\n      else if (state.selected) {\n        board.unselect(state);\n        state.dom.redraw();\n      }\n    },\n\n    move(orig, dest): void {\n      anim(state => board.baseMove(state, orig, dest), state);\n    },\n\n    newPiece(piece, key): void {\n      anim(state => board.baseNewPiece(state, piece, key), state);\n    },\n\n    playPremove(): boolean {\n      if (state.premovable.current) {\n        if (anim(board.playPremove, state)) return true;\n        // if the premove couldn't be played, redraw to clear it up\n        state.dom.redraw();\n      }\n      return false;\n    },\n\n    playPredrop(validate): boolean {\n      if (state.predroppable.current) {\n        const result = board.playPredrop(state, validate);\n        state.dom.redraw();\n        return result;\n      }\n      return false;\n    },\n\n    cancelPremove(): void {\n      render(board.unsetPremove, state);\n    },\n\n    cancelPredrop(): void {\n      render(board.unsetPredrop, state);\n    },\n\n    cancelMove(): void {\n      render(state => { board.cancelMove(state); dragCancel(state); }, state);\n    },\n\n    stop(): void {\n      render(state => { board.stop(state); dragCancel(state); }, state);\n    },\n\n    explode(keys: cg.Key[]): void {\n      explosion(state, keys);\n    },\n\n    setAutoShapes(shapes: DrawShape[]): void {\n      render(state => state.drawable.autoShapes = shapes, state);\n    },\n\n    setShapes(shapes: DrawShape[]): void {\n      render(state => state.drawable.shapes = shapes, state);\n    },\n\n    getKeyAtDomPos(pos): cg.Key | undefined {\n      return board.getKeyAtDomPos(pos, board.whitePov(state), state.dom.bounds());\n    },\n\n    redrawAll,\n\n    dragNewPiece(piece, event, force): void {\n      dragNewPiece(state, piece, event, force)\n    },\n\n    destroy(): void {\n      board.stop(state);\n      state.dom.unbind && state.dom.unbind();\n      state.dom.destroyed = true;\n    }\n  };\n}\n","import * as fen from './fen'\nimport { AnimCurrent } from './anim'\nimport { DragCurrent } from './drag'\nimport { Drawable } from './draw'\nimport { timer } from './util'\nimport * as cg from './types';\n\nexport interface State {\n  pieces: cg.Pieces;\n  orientation: cg.Color; // board orientation. white | black\n  turnColor: cg.Color; // turn to play. white | black\n  check?: cg.Key; // square currently in check \"a2\"\n  lastMove?: cg.Key[]; // squares part of the last move [\"c3\"; \"c4\"]\n  selected?: cg.Key; // square currently selected \"a1\"\n  coordinates: boolean; // include coords attributes\n  autoCastle: boolean; // immediately complete the castle by moving the rook after king move\n  viewOnly: boolean; // don't bind events: the user will never be able to move pieces around\n  disableContextMenu: boolean; // because who needs a context menu on a chessboard\n  resizable: boolean; // listens to chessground.resize on document.body to clear bounds cache\n  addPieceZIndex: boolean; // adds z-index values to pieces (for 3D)\n  pieceKey: boolean; // add a data-key attribute to piece elements\n  highlight: {\n    lastMove: boolean; // add last-move class to squares\n    check: boolean; // add check class to squares\n  };\n  animation: {\n    enabled: boolean;\n    duration: number;\n    current?: AnimCurrent;\n  };\n  movable: {\n    free: boolean; // all moves are valid - board editor\n    color?: cg.Color | 'both'; // color that can move. white | black | both\n    dests?: cg.Dests; // valid moves. {\"a2\" [\"a3\" \"a4\"] \"b1\" [\"a3\" \"c3\"]}\n    showDests: boolean; // whether to add the move-dest class on squares\n    events: {\n      after?: (orig: cg.Key, dest: cg.Key, metadata: cg.MoveMetadata) => void; // called after the move has been played\n      afterNewPiece?: (role: cg.Role, key: cg.Key, metadata: cg.MoveMetadata) => void; // called after a new piece is dropped on the board\n    };\n    rookCastle: boolean; // castle by moving the king to the rook\n  };\n  premovable: {\n    enabled: boolean; // allow premoves for color that can not move\n    showDests: boolean; // whether to add the premove-dest class on squares\n    castle: boolean; // whether to allow king castle premoves\n    dests?: cg.Key[]; // premove destinations for the current selection\n    current?: cg.KeyPair; // keys of the current saved premove [\"e2\" \"e4\"]\n    events: {\n      set?: (orig: cg.Key, dest: cg.Key, metadata?: cg.SetPremoveMetadata) => void; // called after the premove has been set\n      unset?: () => void;  // called after the premove has been unset\n    };\n  };\n  predroppable: {\n    enabled: boolean; // allow predrops for color that can not move\n    current?: { // current saved predrop {role: 'knight'; key: 'e4'}\n      role: cg.Role;\n      key: cg.Key;\n    };\n    events: {\n      set?: (role: cg.Role, key: cg.Key) => void; // called after the predrop has been set\n      unset?: () => void; // called after the predrop has been unset\n    };\n  };\n  draggable: {\n    enabled: boolean; // allow moves & premoves to use drag'n drop\n    distance: number; // minimum distance to initiate a drag; in pixels\n    autoDistance: boolean; // lets chessground set distance to zero when user drags pieces\n    showGhost: boolean; // show ghost of piece being dragged\n    deleteOnDropOff: boolean; // delete a piece when it is dropped off the board\n    current?: DragCurrent;\n  };\n  dropmode: {\n    active: boolean;\n    piece?: cg.Piece;\n  };\n  selectable: {\n    // disable to enforce dragging over click-click move\n    enabled: boolean;\n  };\n  stats: {\n    // was last piece dragged or clicked?\n    // needs default to false for touch\n    dragged: boolean;\n    ctrlKey?: boolean;\n  };\n  events: {\n    change?: () => void; // called after the situation changes on the board\n    // called after a piece has been moved.\n    // capturedPiece is undefined or like {color: 'white'; 'role': 'queen'}\n    move?: (orig: cg.Key, dest: cg.Key, capturedPiece?: cg.Piece) => void;\n    dropNewPiece?: (piece: cg.Piece, key: cg.Key) => void;\n    select?: (key: cg.Key) => void; // called when a square is selected\n    insert?: (elements: cg.Elements) => void; // when the board DOM has been (re)inserted\n  };\n  drawable: Drawable;\n  exploding?: cg.Exploding;\n  dom: cg.Dom;\n  hold: cg.Timer;\n}\n\nexport function defaults(): Partial<State> {\n  return {\n    pieces: fen.read(fen.initial),\n    orientation: 'white',\n    turnColor: 'white',\n    coordinates: true,\n    autoCastle: true,\n    viewOnly: false,\n    disableContextMenu: false,\n    resizable: true,\n    addPieceZIndex: false,\n    pieceKey: false,\n    highlight: {\n      lastMove: true,\n      check: true\n    },\n    animation: {\n      enabled: true,\n      duration: 200\n    },\n    movable: {\n      free: true,\n      color: 'both',\n      showDests: true,\n      events: {},\n      rookCastle: true\n    },\n    premovable: {\n      enabled: true,\n      showDests: true,\n      castle: true,\n      events: {}\n    },\n    predroppable: {\n      enabled: false,\n      events: {}\n    },\n    draggable: {\n      enabled: true,\n      distance: 3,\n      autoDistance: true,\n      showGhost: true,\n      deleteOnDropOff: false\n    },\n    dropmode: {\n      active: false\n    },\n    selectable: {\n      enabled: true\n    },\n    stats: {\n      // on touchscreen, default to \"tap-tap\" moves\n      // instead of drag\n      dragged: !('ontouchstart' in window)\n    },\n    events: {},\n    drawable: {\n      enabled: true, // can draw\n      visible: true, // can view\n      eraseOnClick: true,\n      shapes: [],\n      autoShapes: [],\n      brushes: {\n        green: { key: 'g', color: '#15781B', opacity: 1, lineWidth: 10 },\n        red: { key: 'r', color: '#882020', opacity: 1, lineWidth: 10 },\n        blue: { key: 'b', color: '#003088', opacity: 1, lineWidth: 10 },\n        yellow: { key: 'y', color: '#e68f00', opacity: 1, lineWidth: 10 },\n        paleBlue: { key: 'pb', color: '#003088', opacity: 0.4, lineWidth: 15 },\n        paleGreen: { key: 'pg', color: '#15781B', opacity: 0.4, lineWidth: 15 },\n        paleRed: { key: 'pr', color: '#882020', opacity: 0.4, lineWidth: 15 },\n        paleGrey: { key: 'pgr', color: '#4a4a4a', opacity: 0.35, lineWidth: 15 }\n      },\n      pieces: {\n        baseUrl: 'https://lichess1.org/assets/piece/cburnett/'\n      },\n      prevSvgHash: ''\n    },\n    hold: timer()\n  };\n}\n","import { State } from './state'\nimport { key2pos } from './util'\nimport { Drawable, DrawShape, DrawShapePiece, DrawBrush, DrawBrushes, DrawModifiers } from './draw'\nimport * as cg from './types'\n\nexport function createElement(tagName: string): SVGElement {\n  return document.createElementNS('http://www.w3.org/2000/svg', tagName);\n}\n\ninterface Shape {\n  shape: DrawShape;\n  current: boolean;\n  hash: Hash;\n}\n\ntype CustomBrushes = Map<string, DrawBrush>; // by hash\n\ntype ArrowDests = Map<cg.Key, number>; // how many arrows land on a square\n\ntype Hash = string;\n\nexport function renderSvg(state: State, root: SVGElement): void {\n\n  const d = state.drawable,\n  curD = d.current,\n  cur = curD && curD.mouseSq ? curD as DrawShape : undefined,\n  arrowDests: ArrowDests = new Map(),\n  bounds = state.dom.bounds();\n\n  for (const s of d.shapes.concat(d.autoShapes).concat(cur ? [cur] : [])) {\n    if (s.dest) arrowDests.set(s.dest, (arrowDests.get(s.dest) || 0) + 1);\n  }\n\n  const shapes: Shape[] = d.shapes.concat(d.autoShapes).map((s: DrawShape) => {\n    return {\n      shape: s,\n      current: false,\n      hash: shapeHash(s, arrowDests, false, bounds)\n    };\n  });\n  if (cur) shapes.push({\n    shape: cur,\n    current: true,\n    hash: shapeHash(cur, arrowDests, true, bounds)\n  });\n\n  const fullHash = shapes.map(sc => sc.hash).join(';');\n  if (fullHash === state.drawable.prevSvgHash) return;\n  state.drawable.prevSvgHash = fullHash;\n\n  const defsEl = root.firstChild as SVGElement;\n\n  syncDefs(d, shapes, defsEl);\n  syncShapes(state, shapes, d.brushes, arrowDests, root, defsEl);\n}\n\n// append only. Don't try to update/remove.\nfunction syncDefs(d: Drawable, shapes: Shape[], defsEl: SVGElement) {\n  const brushes: CustomBrushes = new Map();\n  let brush: DrawBrush;\n  for (const s of shapes) {\n    if (s.shape.dest) {\n      brush = d.brushes[s.shape.brush];\n      if (s.shape.modifiers) brush = makeCustomBrush(brush, s.shape.modifiers);\n      brushes.set(brush.key, brush);\n    }\n  }\n  const keysInDom = new Set();\n  let el: SVGElement | undefined = defsEl.firstChild as SVGElement;\n  while (el) {\n    keysInDom.add(el.getAttribute('cgKey'));\n    el = el.nextSibling as SVGElement | undefined;\n  }\n  for (const [key, brush] of brushes.entries()) {\n    if (!keysInDom.has(key)) defsEl.appendChild(renderMarker(brush));\n  }\n}\n\n// append and remove only. No updates.\nfunction syncShapes(state: State, shapes: Shape[], brushes: DrawBrushes, arrowDests: ArrowDests, root: SVGElement, defsEl: SVGElement): void {\n  const bounds = state.dom.bounds(),\n  hashesInDom = new Map(), // by hash\n  toRemove: SVGElement[] = [];\n  for (const sc of shapes) hashesInDom.set(sc.hash, false);\n  let el: SVGElement | undefined = defsEl.nextSibling as SVGElement, elHash: Hash;\n  while (el) {\n    elHash = el.getAttribute('cgHash') as Hash;\n    // found a shape element that's here to stay\n    if (hashesInDom.has(elHash)) hashesInDom.set(elHash, true);\n    // or remove it\n    else toRemove.push(el);\n    el = el.nextSibling as SVGElement | undefined;\n  }\n  // remove old shapes\n  for (const el of toRemove) root.removeChild(el);\n  // insert shapes that are not yet in dom\n  for (const sc of shapes) {\n    if (!hashesInDom.get(sc.hash)) root.appendChild(renderShape(state, sc, brushes, arrowDests, bounds));\n  }\n}\n\nfunction shapeHash({orig, dest, brush, piece, modifiers}: DrawShape, arrowDests: ArrowDests, current: boolean, bounds: ClientRect): Hash {\n  return [bounds.width, bounds.height, current, orig, dest, brush, dest && (arrowDests.get(dest) || 0) > 1,\n    piece && pieceHash(piece),\n    modifiers && modifiersHash(modifiers)\n  ].filter(x => x).join(',');\n}\n\nfunction pieceHash(piece: DrawShapePiece): Hash {\n  return [piece.color, piece.role, piece.scale].filter(x => x).join(',');\n}\n\nfunction modifiersHash(m: DrawModifiers): Hash {\n  return '' + (m.lineWidth || '');\n}\n\nfunction renderShape(state: State, {shape, current, hash}: Shape, brushes: DrawBrushes, arrowDests: ArrowDests, bounds: ClientRect): SVGElement {\n  let el: SVGElement;\n  if (shape.piece) el = renderPiece(\n    state.drawable.pieces.baseUrl,\n    orient(key2pos(shape.orig), state.orientation),\n    shape.piece,\n    bounds);\n  else {\n    const orig = orient(key2pos(shape.orig), state.orientation);\n    if (shape.dest) {\n      let brush: DrawBrush = brushes[shape.brush];\n      if (shape.modifiers) brush = makeCustomBrush(brush, shape.modifiers);\n      el = renderArrow(\n        brush,\n        orig,\n        orient(key2pos(shape.dest), state.orientation),\n        current,\n        (arrowDests.get(shape.dest) || 0) > 1,\n        bounds);\n    }\n    else el = renderCircle(brushes[shape.brush], orig, current, bounds);\n  }\n  el.setAttribute('cgHash', hash);\n  return el;\n}\n\nfunction renderCircle(brush: DrawBrush, pos: cg.Pos, current: boolean, bounds: ClientRect): SVGElement {\n  const o = pos2px(pos, bounds),\n  widths = circleWidth(bounds),\n  radius = (bounds.width + bounds.height) / 32;\n  return setAttributes(createElement('circle'), {\n    stroke: brush.color,\n    'stroke-width': widths[current ? 0 : 1],\n    fill: 'none',\n    opacity: opacity(brush, current),\n    cx: o[0],\n    cy: o[1],\n    r: radius - widths[1] / 2\n  });\n}\n\nfunction renderArrow(brush: DrawBrush, orig: cg.Pos, dest: cg.Pos, current: boolean, shorten: boolean, bounds: ClientRect): SVGElement {\n  const m = arrowMargin(bounds, shorten && !current),\n  a = pos2px(orig, bounds),\n  b = pos2px(dest, bounds),\n  dx = b[0] - a[0],\n  dy = b[1] - a[1],\n  angle = Math.atan2(dy, dx),\n  xo = Math.cos(angle) * m,\n  yo = Math.sin(angle) * m;\n  return setAttributes(createElement('line'), {\n    stroke: brush.color,\n    'stroke-width': lineWidth(brush, current, bounds),\n    'stroke-linecap': 'round',\n    'marker-end': 'url(#arrowhead-' + brush.key + ')',\n    opacity: opacity(brush, current),\n    x1: a[0],\n    y1: a[1],\n    x2: b[0] - xo,\n    y2: b[1] - yo\n  });\n}\n\nfunction renderPiece(baseUrl: string, pos: cg.Pos, piece: DrawShapePiece, bounds: ClientRect): SVGElement {\n  const o = pos2px(pos, bounds),\n  size = bounds.width / 8 * (piece.scale || 1),\n  name = piece.color[0] + (piece.role === 'knight' ? 'n' : piece.role[0]).toUpperCase();\n  return setAttributes(createElement('image'), {\n    className: `${piece.role} ${piece.color}`,\n    x: o[0] - size / 2,\n    y: o[1] - size / 2,\n    width: size,\n    height: size,\n    href: baseUrl + name + '.svg'\n  });\n}\n\nfunction renderMarker(brush: DrawBrush): SVGElement {\n  const marker = setAttributes(createElement('marker'), {\n    id: 'arrowhead-' + brush.key,\n    orient: 'auto',\n    markerWidth: 4,\n    markerHeight: 8,\n    refX: 2.05,\n    refY: 2.01\n  });\n  marker.appendChild(setAttributes(createElement('path'), {\n    d: 'M0,0 V4 L3,2 Z',\n    fill: brush.color\n  }));\n  marker.setAttribute('cgKey', brush.key);\n  return marker;\n}\n\nfunction setAttributes(el: SVGElement, attrs: { [key: string]: any }): SVGElement {\n  for (const key in attrs) el.setAttribute(key, attrs[key]);\n  return el;\n}\n\nfunction orient(pos: cg.Pos, color: cg.Color): cg.Pos {\n  return color === 'white' ? pos : [7 - pos[0], 7 - pos[1]];\n}\n\nfunction makeCustomBrush(base: DrawBrush, modifiers: DrawModifiers): DrawBrush {\n  return {\n    color: base.color,\n    opacity: Math.round(base.opacity * 10) / 10,\n    lineWidth: Math.round(modifiers.lineWidth || base.lineWidth),\n    key: [base.key, modifiers.lineWidth].filter(x => x).join(''),\n  };\n}\n\nfunction circleWidth(bounds: ClientRect): [number, number] {\n  const base = bounds.width / 512;\n  return [3 * base, 4 * base];\n}\n\nfunction lineWidth(brush: DrawBrush, current: boolean, bounds: ClientRect): number {\n  return (brush.lineWidth || 10) * (current ? 0.85 : 1) / 512 * bounds.width;\n}\n\nfunction opacity(brush: DrawBrush, current: boolean): number {\n  return (brush.opacity || 1) * (current ? 0.9 : 1);\n}\n\nfunction arrowMargin(bounds: ClientRect, shorten: boolean): number {\n  return (shorten ? 20 : 10) / 512 * bounds.width;\n}\n\nfunction pos2px(pos: cg.Pos, bounds: ClientRect): cg.NumberPair {\n  return [(pos[0] + 0.5) * bounds.width / 8, (7.5 - pos[1]) * bounds.height / 8];\n}\n","import { State } from './state'\nimport { setVisible, createEl } from './util'\nimport { colors, files, ranks } from './types'\nimport { createElement as createSVG } from './svg'\nimport { Elements } from './types'\n\nexport function renderWrap(element: HTMLElement, s: State, relative: boolean): Elements {\n\n  // .cg-wrap (element passed to Chessground)\n  //   cg-helper (12.5%)\n  //     cg-container (800%)\n  //       cg-board\n  //       svg\n  //       coords.ranks\n  //       coords.files\n  //       piece.ghost\n\n  element.innerHTML = '';\n\n  // ensure the cg-wrap class is set\n  // so bounds calculation can use the CSS width/height values\n  // add that class yourself to the element before calling chessground\n  // for a slight performance improvement! (avoids recomputing style)\n  element.classList.add('cg-wrap');\n\n  for (const c of colors) element.classList.toggle('orientation-' + c, s.orientation === c);\n  element.classList.toggle('manipulable', !s.viewOnly);\n\n  const helper = createEl('cg-helper');\n  element.appendChild(helper);\n  const container = createEl('cg-container');\n  helper.appendChild(container);\n\n  const board = createEl('cg-board');\n  container.appendChild(board);\n\n  let svg: SVGElement | undefined;\n  if (s.drawable.visible && !relative) {\n    svg = createSVG('svg');\n    svg.appendChild(createSVG('defs'));\n    container.appendChild(svg);\n  }\n\n  if (s.coordinates) {\n    const orientClass = s.orientation === 'black' ? ' black' : '';\n    container.appendChild(renderCoords(ranks, 'ranks' + orientClass));\n    container.appendChild(renderCoords(files, 'files' + orientClass));\n  }\n\n  let ghost: HTMLElement | undefined;\n  if (s.draggable.showGhost && !relative) {\n    ghost = createEl('piece', 'ghost');\n    setVisible(ghost, false);\n    container.appendChild(ghost);\n  }\n\n  return {\n    board,\n    container,\n    ghost,\n    svg\n  };\n}\n\nfunction renderCoords(elems: readonly string[], className: string): HTMLElement {\n  const el = createEl('coords', className);\n  let f: HTMLElement;\n  for (const elem of elems) {\n    f = createEl('coord');\n    f.textContent = elem;\n    el.appendChild(f);\n  }\n  return el;\n}\n","import { State } from './state'\nimport * as cg from './types'\nimport * as board from './board'\nimport * as util from './util'\nimport { cancel as dragCancel } from './drag'\n\nexport function setDropMode(s: State, piece?: cg.Piece): void {\n  s.dropmode = {\n    active: true,\n    piece\n  };\n  dragCancel(s);\n}\n\nexport function cancelDropMode(s: State): void {\n  s.dropmode = {\n    active: false\n  };\n}\n\nexport function drop(s: State, e: cg.MouchEvent): void {\n  if (!s.dropmode.active) return;\n\n  board.unsetPremove(s);\n  board.unsetPredrop(s);\n\n  const piece = s.dropmode.piece;\n\n  if (piece) {\n    s.pieces.set('a0', piece);\n    const position = util.eventPosition(e);\n    const dest = position && board.getKeyAtDomPos(\n      position, board.whitePov(s), s.dom.bounds());\n    if (dest) board.dropNewPiece(s, 'a0', dest);\n  }\n  s.dom.redraw();\n}\n","import { State } from './state'\nimport * as drag from './drag'\nimport * as draw from './draw'\nimport { drop } from './drop'\nimport { isRightButton } from './util'\nimport * as cg from './types'\n\ntype MouchBind = (e: cg.MouchEvent) => void;\ntype StateMouchBind = (d: State, e: cg.MouchEvent) => void;\n\nexport function bindBoard(s: State, boundsUpdated: () => void): void {\n\n  const boardEl = s.dom.elements.board;\n\n  if (!s.dom.relative && s.resizable && 'ResizeObserver' in window) {\n    const observer = new (window as any)['ResizeObserver'](boundsUpdated);\n    observer.observe(boardEl);\n  }\n\n  if (s.viewOnly) return;\n\n  // Cannot be passive, because we prevent touch scrolling and dragging of\n  // selected elements.\n  const onStart = startDragOrDraw(s);\n  boardEl.addEventListener('touchstart', onStart as EventListener, { passive: false });\n  boardEl.addEventListener('mousedown', onStart as EventListener, { passive: false });\n\n  if (s.disableContextMenu || s.drawable.enabled) {\n    boardEl.addEventListener('contextmenu', e => e.preventDefault());\n  }\n}\n\n// returns the unbind function\nexport function bindDocument(s: State, boundsUpdated: () => void): cg.Unbind {\n\n  const unbinds: cg.Unbind[] = [];\n\n  // Old versions of Edge and Safari do not support ResizeObserver. Send\n  // chessground.resize if a user action has changed the bounds of the board.\n  if (!s.dom.relative && s.resizable && !('ResizeObserver' in window)) {\n    unbinds.push(unbindable(document.body, 'chessground.resize', boundsUpdated));\n  }\n\n  if (!s.viewOnly) {\n\n    const onmove: MouchBind = dragOrDraw(s, drag.move, draw.move);\n    const onend: MouchBind = dragOrDraw(s, drag.end, draw.end);\n\n    for (const ev of ['touchmove', 'mousemove']) unbinds.push(unbindable(document, ev, onmove));\n    for (const ev of ['touchend', 'mouseup']) unbinds.push(unbindable(document, ev, onend));\n\n    const onScroll = () => s.dom.bounds.clear();\n    unbinds.push(unbindable(document, 'scroll', onScroll, { capture: true, passive: true }));\n    unbinds.push(unbindable(window, 'resize', onScroll, { passive: true }));\n  }\n\n  return () => unbinds.forEach(f => f());\n}\n\nfunction unbindable(el: EventTarget, eventName: string, callback: MouchBind, options?: any): cg.Unbind {\n  el.addEventListener(eventName, callback as EventListener, options);\n  return () => el.removeEventListener(eventName, callback as EventListener, options);\n}\n\nfunction startDragOrDraw(s: State): MouchBind {\n  return e => {\n    if (s.draggable.current) drag.cancel(s);\n    else if (s.drawable.current) draw.cancel(s);\n    else if (e.shiftKey || isRightButton(e)) { if (s.drawable.enabled) draw.start(s, e); }\n    else if (!s.viewOnly) {\n      if (s.dropmode.active) drop(s, e);\n      else drag.start(s, e);\n    }\n  };\n}\n\nfunction dragOrDraw(s: State, withDrag: StateMouchBind, withDraw: StateMouchBind): MouchBind {\n  return e => {\n    if (s.drawable.current) { if (s.drawable.enabled) withDraw(s, e); }\n    else if (!s.viewOnly) withDrag(s, e);\n  };\n}\n","import { State } from './state'\nimport { key2pos, createEl } from './util'\nimport { whitePov } from './board'\nimport * as util from './util'\nimport { AnimCurrent, AnimVectors, AnimVector, AnimFadings } from './anim'\nimport { DragCurrent } from './drag'\nimport * as cg from './types'\n\ntype PieceName = string; // `$color $role`\n\ntype SquareClasses = Map<cg.Key, string>;\n\n// ported from https://github.com/veloce/lichobile/blob/master/src/js/chessground/view.js\n// in case of bugs, blame @veloce\nexport function render(s: State): void {\n  const asWhite: boolean = whitePov(s),\n  posToTranslate = s.dom.relative ? util.posToTranslateRel : util.posToTranslateAbs(s.dom.bounds()),\n  translate = s.dom.relative ? util.translateRel : util.translateAbs,\n  boardEl: HTMLElement = s.dom.elements.board,\n  pieces: cg.Pieces = s.pieces,\n  curAnim: AnimCurrent | undefined = s.animation.current,\n  anims: AnimVectors = curAnim ? curAnim.plan.anims : new Map(),\n  fadings: AnimFadings = curAnim ? curAnim.plan.fadings : new Map(),\n  curDrag: DragCurrent | undefined = s.draggable.current,\n  squares: SquareClasses = computeSquareClasses(s),\n  samePieces: Set<cg.Key> = new Set(),\n  sameSquares: Set<cg.Key> = new Set(),\n  movedPieces: Map<PieceName, cg.PieceNode[]> = new Map(),\n  movedSquares: Map<string, cg.SquareNode[]> = new Map(); // by class name\n  let k: cg.Key,\n  el: cg.PieceNode | cg.SquareNode | undefined,\n  pieceAtKey: cg.Piece | undefined,\n  elPieceName: PieceName,\n  anim: AnimVector | undefined,\n  fading: cg.Piece | undefined,\n  pMvdset: cg.PieceNode[] | undefined,\n  pMvd: cg.PieceNode | undefined,\n  sMvdset: cg.SquareNode[] | undefined,\n  sMvd: cg.SquareNode | undefined;\n\n  // walk over all board dom elements, apply animations and flag moved pieces\n  el = boardEl.firstChild as cg.PieceNode | cg.SquareNode | undefined;\n  while (el) {\n    k = el.cgKey;\n    if (isPieceNode(el)) {\n      pieceAtKey = pieces.get(k);\n      anim = anims.get(k);\n      fading = fadings.get(k);\n      elPieceName = el.cgPiece;\n      // if piece not being dragged anymore, remove dragging style\n      if (el.cgDragging && (!curDrag || curDrag.orig !== k)) {\n        el.classList.remove('dragging');\n        translate(el, posToTranslate(key2pos(k), asWhite));\n        el.cgDragging = false;\n      }\n      // remove fading class if it still remains\n      if (!fading && el.cgFading) {\n        el.cgFading = false;\n        el.classList.remove('fading');\n      }\n      // there is now a piece at this dom key\n      if (pieceAtKey) {\n        // continue animation if already animating and same piece\n        // (otherwise it could animate a captured piece)\n        if (anim && el.cgAnimating && elPieceName === pieceNameOf(pieceAtKey)) {\n          const pos = key2pos(k);\n          pos[0] += anim[2];\n          pos[1] += anim[3];\n          el.classList.add('anim');\n          translate(el, posToTranslate(pos, asWhite));\n        } else if (el.cgAnimating) {\n          el.cgAnimating = false;\n          el.classList.remove('anim');\n          translate(el, posToTranslate(key2pos(k), asWhite));\n          if (s.addPieceZIndex) el.style.zIndex = posZIndex(key2pos(k), asWhite);\n        }\n        // same piece: flag as same\n        if (elPieceName === pieceNameOf(pieceAtKey) && (!fading || !el.cgFading)) {\n          samePieces.add(k);\n        }\n        // different piece: flag as moved unless it is a fading piece\n        else {\n          if (fading && elPieceName === pieceNameOf(fading)) {\n            el.classList.add('fading');\n            el.cgFading = true;\n          } else {\n            appendValue(movedPieces, elPieceName, el);\n          }\n        }\n      }\n      // no piece: flag as moved\n      else {\n        appendValue(movedPieces, elPieceName, el);\n      }\n    }\n    else if (isSquareNode(el)) {\n      const cn = el.className;\n      if (squares.get(k) === cn) sameSquares.add(k);\n      else appendValue(movedSquares, cn, el);\n    }\n    el = el.nextSibling as cg.PieceNode | cg.SquareNode | undefined;\n  }\n\n  // walk over all squares in current set, apply dom changes to moved squares\n  // or append new squares\n  for (const [sk, className] of squares) {\n    if (!sameSquares.has(sk)) {\n      sMvdset = movedSquares.get(className);\n      sMvd = sMvdset && sMvdset.pop();\n      const translation = posToTranslate(key2pos(sk), asWhite);\n      if (sMvd) {\n        sMvd.cgKey = sk;\n        translate(sMvd, translation);\n      }\n      else {\n        const squareNode = createEl('square', className) as cg.SquareNode;\n        squareNode.cgKey = sk;\n        translate(squareNode, translation);\n        boardEl.insertBefore(squareNode, boardEl.firstChild);\n      }\n    }\n  }\n\n  // walk over all pieces in current set, apply dom changes to moved pieces\n  // or append new pieces\n  for (const [k, p] of pieces) {\n    anim = anims.get(k);\n    if (!samePieces.has(k)) {\n      pMvdset = movedPieces.get(pieceNameOf(p));\n      pMvd = pMvdset && pMvdset.pop();\n      // a same piece was moved\n      if (pMvd) {\n        // apply dom changes\n        pMvd.cgKey = k;\n        if (pMvd.cgFading) {\n          pMvd.classList.remove('fading');\n          pMvd.cgFading = false;\n        }\n        const pos = key2pos(k);\n        if (s.addPieceZIndex) pMvd.style.zIndex = posZIndex(pos, asWhite);\n        if (anim) {\n          pMvd.cgAnimating = true;\n          pMvd.classList.add('anim');\n          pos[0] += anim[2];\n          pos[1] += anim[3];\n        }\n        translate(pMvd, posToTranslate(pos, asWhite));\n      }\n      // no piece in moved obj: insert the new piece\n      // assumes the new piece is not being dragged\n      else {\n\n        const pieceName = pieceNameOf(p),\n        pieceNode = createEl('piece', pieceName) as cg.PieceNode,\n        pos = key2pos(k);\n\n        pieceNode.cgPiece = pieceName;\n        pieceNode.cgKey = k;\n        if (anim) {\n          pieceNode.cgAnimating = true;\n          pos[0] += anim[2];\n          pos[1] += anim[3];\n        }\n        translate(pieceNode, posToTranslate(pos, asWhite));\n\n        if (s.addPieceZIndex) pieceNode.style.zIndex = posZIndex(pos, asWhite);\n\n        boardEl.appendChild(pieceNode);\n      }\n    }\n  }\n\n  // remove any element that remains in the moved sets\n  for (const nodes of movedPieces.values()) removeNodes(s, nodes);\n  for (const nodes of movedSquares.values()) removeNodes(s, nodes);\n}\n\nexport function updateBounds(s: State): void {\n  if (s.dom.relative) return;\n  const asWhite: boolean = whitePov(s),\n  posToTranslate = util.posToTranslateAbs(s.dom.bounds());\n  let el = s.dom.elements.board.firstChild as cg.PieceNode | cg.SquareNode | undefined;\n  while (el) {\n    if ((isPieceNode(el) && !el.cgAnimating) || isSquareNode(el)) {\n      util.translateAbs(el, posToTranslate(key2pos(el.cgKey), asWhite));\n    }\n    el = el.nextSibling as cg.PieceNode | cg.SquareNode | undefined;\n  }\n}\n\nfunction isPieceNode(el: cg.PieceNode | cg.SquareNode): el is cg.PieceNode {\n  return el.tagName === 'PIECE';\n}\nfunction isSquareNode(el: cg.PieceNode | cg.SquareNode): el is cg.SquareNode {\n  return el.tagName === 'SQUARE';\n}\n\nfunction removeNodes(s: State, nodes: HTMLElement[]): void {\n  for (const node of nodes) s.dom.elements.board.removeChild(node);\n}\n\nfunction posZIndex(pos: cg.Pos, asWhite: boolean): string {\n  let z = 2 + pos[1] * 8 + (7 - pos[0]);\n  if (asWhite) z = 67 - z;\n  return z + '';\n}\n\nfunction pieceNameOf(piece: cg.Piece): string {\n  return `${piece.color} ${piece.role}`;\n}\n\nfunction computeSquareClasses(s: State): SquareClasses {\n  const squares: SquareClasses = new Map();\n  if (s.lastMove && s.highlight.lastMove) for (const k of s.lastMove) {\n    addSquare(squares, k, 'last-move');\n  }\n  if (s.check && s.highlight.check) addSquare(squares, s.check, 'check');\n  if (s.selected) {\n    addSquare(squares, s.selected, 'selected');\n    if (s.movable.showDests) {\n      const dests = s.movable.dests?.get(s.selected);\n      if (dests) for (const k of dests) {\n        addSquare(squares, k, 'move-dest' + (s.pieces.has(k) ? ' oc' : ''));\n      }\n      const pDests = s.premovable.dests;\n      if (pDests) for (const k of pDests) {\n        addSquare(squares, k, 'premove-dest' + (s.pieces.has(k) ? ' oc' : ''));\n      }\n    }\n  }\n  const premove = s.premovable.current;\n  if (premove) for (const k of premove) addSquare(squares, k, 'current-premove');\n  else if (s.predroppable.current) addSquare(squares, s.predroppable.current.key, 'current-premove');\n\n  const o = s.exploding;\n  if (o) for (const k of o.keys) addSquare(squares, k, 'exploding' + o.stage);\n\n  return squares;\n}\n\nfunction addSquare(squares: SquareClasses, key: cg.Key, klass: string): void {\n  const classes = squares.get(key);\n  if (classes) squares.set(key, `${classes} ${klass}`);\n  else squares.set(key, klass)\n}\n\nfunction appendValue<K, V>(map: Map<K, V[]>, key: K, value: V): void {\n  const arr = map.get(key);\n  if (arr) arr.push(value);\n  else map.set(key, [value]);\n}\n","import { Api, start } from './api'\nimport { Config, configure } from './config'\nimport { State, defaults } from './state'\n\nimport { renderWrap } from './wrap';\nimport * as events from './events'\nimport { render, updateBounds } from './render';\nimport * as svg from './svg';\nimport * as util from './util';\n\nexport function Chessground(element: HTMLElement, config?: Config): Api {\n\n  const state = defaults() as State;\n\n  configure(state, config || {});\n\n  function redrawAll(): void {\n    const prevUnbind = state.dom && state.dom.unbind; /* eslint-disable-line */\n    // compute bounds from existing board element if possible\n    // this allows non-square boards from CSS to be handled (for 3D)\n    const relative = state.viewOnly && !state.drawable.visible,\n    elements = renderWrap(element, state, relative),\n    bounds = util.memo(() => elements.board.getBoundingClientRect()),\n    redrawNow = (skipSvg?: boolean): void => {\n      render(state);\n      if (!skipSvg && elements.svg) svg.renderSvg(state, elements.svg);\n    },\n    boundsUpdated = (): void => {\n      bounds.clear();\n      updateBounds(state);\n      if (elements.svg) svg.renderSvg(state, elements.svg);\n    };\n    state.dom = {\n      elements,\n      bounds,\n      redraw: debounceRedraw(redrawNow),\n      redrawNow,\n      unbind: prevUnbind,\n      relative\n    };\n    state.drawable.prevSvgHash = '';\n    redrawNow(false);\n    events.bindBoard(state, boundsUpdated);\n    if (!prevUnbind) state.dom.unbind = events.bindDocument(state, boundsUpdated);\n    state.events.insert && state.events.insert(elements);\n  }\n  redrawAll();\n\n  return start(state, redrawAll);\n}\n\nfunction debounceRedraw(redrawNow: (skipSvg?: boolean) => void): () => void {\n  let redrawing = false;\n  return () => {\n    if (redrawing) return;\n    redrawing = true;\n    requestAnimationFrame(() => {\n      redrawNow();\n      redrawing = false;\n    });\n  };\n}\n","export function processData(data){\n    console.log(\"Data recieved\", data);\n    const dataArr = data.split(\":\");\n    const command = dataArr[0];\n    const board = document.getElementById(\"board\");\n    switch (command) {\n      case \"mousepos\":\n        const coords = dataArr[1].split(\",\");\n        const [x, y] = coords;\n        const cursor = document.getElementById(\"cursor\");\n        cursor.style.left = `${\n          parseInt(board.getBoundingClientRect().x) + parseInt(x)\n        }px`;\n        cursor.style.top = `${\n          parseInt(board.getBoundingClientRect().y) + parseInt(y)\n        }px`;\n        break;\n    }\n\n}\n","import { processData } from \"./protocol\";\n\nvar lastPeerId = null;\nvar peer = null; // Own peer object\nvar peerId = null;\nvar conn = null;\nvar status = document.getElementById(\"status\");\n\n/**\n * Create the Peer object for our end of the connection.\n *\n * Sets up callbacks that handle any events related to our\n * peer object.\n */\nexport function initialize() {\n  // Create own peer object with connection to shared PeerJS server\n  peer = new Peer(null, {\n    debug: 2,\n  });\n\n  peer.on(\"open\", function (id) {\n    // Workaround for peer.reconnect deleting previous id\n    if (peer.id === null) {\n      console.log(\"Received null id from peer open\");\n      peer.id = lastPeerId;\n    } else {\n      lastPeerId = peer.id;\n    }\n\n    console.log(\"ID: \" + peer.id);\n    window.history.pushState(\n      { path: `${location.pathname}/${peer.id}` },\n      \"\",\n      location + peer.id\n    );\n    status.innerHTML = \"Awaiting connection...\";\n  });\n\n  peer.on(\"connection\", function (c) {\n    conn = c;\n    console.log(\"Connected to: \" + conn.peer);\n    status.innerHTML = \"Connected\";\n    ready();\n  });\n  peer.on(\"disconnected\", function () {\n    status.innerHTML = \"Connection lost. Please reconnect\";\n    console.log(\"Connection lost. Please reconnect\");\n\n    // Workaround for peer.reconnect deleting previous id\n    peer.id = lastPeerId;\n    peer._lastServerId = lastPeerId;\n    peer.reconnect();\n  });\n  peer.on(\"close\", function () {\n    conn = null;\n    status.innerHTML = \"Connection destroyed. Please refresh\";\n    console.log(\"Connection destroyed\");\n  });\n  peer.on(\"error\", function (err) {\n    console.log(err);\n  });\n}\n\n/**\n * Triggered once a connection has been achieved.\n * Defines callbacks to handle incoming data and connection events.\n */\nfunction ready() {\n  document.getElementById(\"board\").addEventListener(\"mousemove\", (e) => {\n    conn.send(`mousepos:${e.offsetX},${e.offsetY}`);\n  });\n  conn.on(\"data\", (data) => {\n    processData(data);\n  });\n  conn.on(\"close\", function () {\n    status.innerHTML = \"Connection reset<br>Awaiting connection...\";\n    conn = null;\n  });\n}\n","import { processData } from \"./protocol\";\n\nvar lastPeerId = null;\nvar peer = null; // own peer object\nvar conn = null;\nvar status = document.getElementById(\"status\");\n\n/**\n * Create the Peer object for our end of the connection.\n *\n * Sets up callbacks that handle any events related to our\n * peer object.\n */\nexport function initialize() {\n  // Create own peer object with connection to shared PeerJS server\n  peer = new Peer(null, {\n    debug: 2,\n  });\n\n  peer.on(\"open\", function (id) {\n    // Workaround for peer.reconnect deleting previous id\n    if (peer.id === null) {\n      console.log(\"Received null id from peer open\");\n      peer.id = lastPeerId;\n    } else {\n      lastPeerId = peer.id;\n    }\n\n    console.log(\"ID: \" + peer.id);\n  });\n  peer.on(\"connection\", function (c) {\n    // Disallow incoming connections\n    c.on(\"open\", function () {\n      c.send(\"guest does not accept incoming connections\");\n      setTimeout(function () {\n        c.close();\n      }, 500);\n    });\n  });\n  peer.on(\"disconnected\", function () {\n    status.innerHTML = \"Connection lost. Please reconnect\";\n    console.log(\"Connection lost. Please reconnect\");\n\n    // Workaround for peer.reconnect deleting previous id\n    peer.id = lastPeerId;\n    peer._lastServerId = lastPeerId;\n    peer.reconnect();\n  });\n  peer.on(\"close\", function () {\n    conn = null;\n    status.innerHTML = \"Connection destroyed. Please refresh\";\n    console.log(\"Connection destroyed\");\n  });\n  peer.on(\"error\", function (err) {\n    console.log(err);\n  });\n  var connectButton = document.getElementById(\"connect-button\");\n  connectButton.addEventListener(\"click\", () => join());\n}\n\n/**\n * Create the connection between the two Peers.\n *\n * Sets up callbacks that handle any events related to the\n * connection and data received on it.\n */\nexport function join(id) {\n  // Close old connection\n  if (conn) {\n    conn.close();\n  }\n  console.log(id);\n  var recvIdInput = document.getElementById(\"receiver-id\");\n\n  // Create connection to destination peer specified in the input field\n  conn = peer.connect(id || recvIdInput.value, {\n    reliable: true,\n  });\n\n  conn.on(\"open\", function () {\n    status.innerHTML = \"Connected to: \" + conn.peer;\n    console.log(\"Connected to: \" + conn.peer);\n    document.getElementById(\"board\").addEventListener(\"mousemove\", (e) => {\n      conn.send(`mousepos:${e.offsetX},${e.offsetY}`);\n    });\n  });\n\n  conn.on(\"data\", processData);\n  conn.on(\"close\", function () {\n    status.innerHTML = \"Connection closed\";\n  });\n}\n","var binaryFeatures = {};\r\nbinaryFeatures.useBlobBuilder = (function () {\r\n  try {\r\n    new Blob([]);\r\n    return false;\r\n  } catch (e) {\r\n    return true;\r\n  }\r\n})();\r\n\r\nbinaryFeatures.useArrayBufferView = !binaryFeatures.useBlobBuilder && (function () {\r\n  try {\r\n    return (new Blob([new Uint8Array([])])).size === 0;\r\n  } catch (e) {\r\n    return true;\r\n  }\r\n})();\r\n\r\nmodule.exports.binaryFeatures = binaryFeatures;\r\nvar BlobBuilder = module.exports.BlobBuilder;\r\nif (typeof window !== 'undefined') {\r\n  BlobBuilder = module.exports.BlobBuilder = window.WebKitBlobBuilder ||\r\n    window.MozBlobBuilder || window.MSBlobBuilder || window.BlobBuilder;\r\n}\r\n\r\nfunction BufferBuilder () {\r\n  this._pieces = [];\r\n  this._parts = [];\r\n}\r\n\r\nBufferBuilder.prototype.append = function (data) {\r\n  if (typeof data === 'number') {\r\n    this._pieces.push(data);\r\n  } else {\r\n    this.flush();\r\n    this._parts.push(data);\r\n  }\r\n};\r\n\r\nBufferBuilder.prototype.flush = function () {\r\n  if (this._pieces.length > 0) {\r\n    var buf = new Uint8Array(this._pieces);\r\n    if (!binaryFeatures.useArrayBufferView) {\r\n      buf = buf.buffer;\r\n    }\r\n    this._parts.push(buf);\r\n    this._pieces = [];\r\n  }\r\n};\r\n\r\nBufferBuilder.prototype.getBuffer = function () {\r\n  this.flush();\r\n  if (binaryFeatures.useBlobBuilder) {\r\n    var builder = new BlobBuilder();\r\n    for (var i = 0, ii = this._parts.length; i < ii; i++) {\r\n      builder.append(this._parts[i]);\r\n    }\r\n    return builder.getBlob();\r\n  } else {\r\n    return new Blob(this._parts);\r\n  }\r\n};\r\n\r\nmodule.exports.BufferBuilder = BufferBuilder;\r\n","var BufferBuilder = require('./bufferbuilder').BufferBuilder;\r\nvar binaryFeatures = require('./bufferbuilder').binaryFeatures;\r\n\r\nvar BinaryPack = {\r\n  unpack: function (data) {\r\n    var unpacker = new Unpacker(data);\r\n    return unpacker.unpack();\r\n  },\r\n  pack: function (data) {\r\n    var packer = new Packer();\r\n    packer.pack(data);\r\n    var buffer = packer.getBuffer();\r\n    return buffer;\r\n  }\r\n};\r\n\r\nmodule.exports = BinaryPack;\r\n\r\nfunction Unpacker (data) {\r\n  // Data is ArrayBuffer\r\n  this.index = 0;\r\n  this.dataBuffer = data;\r\n  this.dataView = new Uint8Array(this.dataBuffer);\r\n  this.length = this.dataBuffer.byteLength;\r\n}\r\n\r\nUnpacker.prototype.unpack = function () {\r\n  var type = this.unpack_uint8();\r\n  if (type < 0x80) {\r\n    return type;\r\n  } else if ((type ^ 0xe0) < 0x20) {\r\n    return (type ^ 0xe0) - 0x20;\r\n  }\r\n\r\n  var size;\r\n  if ((size = type ^ 0xa0) <= 0x0f) {\r\n    return this.unpack_raw(size);\r\n  } else if ((size = type ^ 0xb0) <= 0x0f) {\r\n    return this.unpack_string(size);\r\n  } else if ((size = type ^ 0x90) <= 0x0f) {\r\n    return this.unpack_array(size);\r\n  } else if ((size = type ^ 0x80) <= 0x0f) {\r\n    return this.unpack_map(size);\r\n  }\r\n\r\n  switch (type) {\r\n    case 0xc0:\r\n      return null;\r\n    case 0xc1:\r\n      return undefined;\r\n    case 0xc2:\r\n      return false;\r\n    case 0xc3:\r\n      return true;\r\n    case 0xca:\r\n      return this.unpack_float();\r\n    case 0xcb:\r\n      return this.unpack_double();\r\n    case 0xcc:\r\n      return this.unpack_uint8();\r\n    case 0xcd:\r\n      return this.unpack_uint16();\r\n    case 0xce:\r\n      return this.unpack_uint32();\r\n    case 0xcf:\r\n      return this.unpack_uint64();\r\n    case 0xd0:\r\n      return this.unpack_int8();\r\n    case 0xd1:\r\n      return this.unpack_int16();\r\n    case 0xd2:\r\n      return this.unpack_int32();\r\n    case 0xd3:\r\n      return this.unpack_int64();\r\n    case 0xd4:\r\n      return undefined;\r\n    case 0xd5:\r\n      return undefined;\r\n    case 0xd6:\r\n      return undefined;\r\n    case 0xd7:\r\n      return undefined;\r\n    case 0xd8:\r\n      size = this.unpack_uint16();\r\n      return this.unpack_string(size);\r\n    case 0xd9:\r\n      size = this.unpack_uint32();\r\n      return this.unpack_string(size);\r\n    case 0xda:\r\n      size = this.unpack_uint16();\r\n      return this.unpack_raw(size);\r\n    case 0xdb:\r\n      size = this.unpack_uint32();\r\n      return this.unpack_raw(size);\r\n    case 0xdc:\r\n      size = this.unpack_uint16();\r\n      return this.unpack_array(size);\r\n    case 0xdd:\r\n      size = this.unpack_uint32();\r\n      return this.unpack_array(size);\r\n    case 0xde:\r\n      size = this.unpack_uint16();\r\n      return this.unpack_map(size);\r\n    case 0xdf:\r\n      size = this.unpack_uint32();\r\n      return this.unpack_map(size);\r\n  }\r\n};\r\n\r\nUnpacker.prototype.unpack_uint8 = function () {\r\n  var byte = this.dataView[this.index] & 0xff;\r\n  this.index++;\r\n  return byte;\r\n};\r\n\r\nUnpacker.prototype.unpack_uint16 = function () {\r\n  var bytes = this.read(2);\r\n  var uint16 =\r\n    ((bytes[0] & 0xff) * 256) + (bytes[1] & 0xff);\r\n  this.index += 2;\r\n  return uint16;\r\n};\r\n\r\nUnpacker.prototype.unpack_uint32 = function () {\r\n  var bytes = this.read(4);\r\n  var uint32 =\r\n    ((bytes[0] * 256 +\r\n      bytes[1]) * 256 +\r\n      bytes[2]) * 256 +\r\n    bytes[3];\r\n  this.index += 4;\r\n  return uint32;\r\n};\r\n\r\nUnpacker.prototype.unpack_uint64 = function () {\r\n  var bytes = this.read(8);\r\n  var uint64 =\r\n    ((((((bytes[0] * 256 +\r\n      bytes[1]) * 256 +\r\n      bytes[2]) * 256 +\r\n      bytes[3]) * 256 +\r\n      bytes[4]) * 256 +\r\n      bytes[5]) * 256 +\r\n      bytes[6]) * 256 +\r\n    bytes[7];\r\n  this.index += 8;\r\n  return uint64;\r\n};\r\n\r\nUnpacker.prototype.unpack_int8 = function () {\r\n  var uint8 = this.unpack_uint8();\r\n  return (uint8 < 0x80) ? uint8 : uint8 - (1 << 8);\r\n};\r\n\r\nUnpacker.prototype.unpack_int16 = function () {\r\n  var uint16 = this.unpack_uint16();\r\n  return (uint16 < 0x8000) ? uint16 : uint16 - (1 << 16);\r\n};\r\n\r\nUnpacker.prototype.unpack_int32 = function () {\r\n  var uint32 = this.unpack_uint32();\r\n  return (uint32 < Math.pow(2, 31)) ? uint32\r\n    : uint32 - Math.pow(2, 32);\r\n};\r\n\r\nUnpacker.prototype.unpack_int64 = function () {\r\n  var uint64 = this.unpack_uint64();\r\n  return (uint64 < Math.pow(2, 63)) ? uint64\r\n    : uint64 - Math.pow(2, 64);\r\n};\r\n\r\nUnpacker.prototype.unpack_raw = function (size) {\r\n  if (this.length < this.index + size) {\r\n    throw new Error('BinaryPackFailure: index is out of range' +\r\n      ' ' + this.index + ' ' + size + ' ' + this.length);\r\n  }\r\n  var buf = this.dataBuffer.slice(this.index, this.index + size);\r\n  this.index += size;\r\n\r\n  // buf = util.bufferToString(buf);\r\n\r\n  return buf;\r\n};\r\n\r\nUnpacker.prototype.unpack_string = function (size) {\r\n  var bytes = this.read(size);\r\n  var i = 0;\r\n  var str = '';\r\n  var c;\r\n  var code;\r\n\r\n  while (i < size) {\r\n    c = bytes[i];\r\n    if (c < 128) {\r\n      str += String.fromCharCode(c);\r\n      i++;\r\n    } else if ((c ^ 0xc0) < 32) {\r\n      code = ((c ^ 0xc0) << 6) | (bytes[i + 1] & 63);\r\n      str += String.fromCharCode(code);\r\n      i += 2;\r\n    } else {\r\n      code = ((c & 15) << 12) | ((bytes[i + 1] & 63) << 6) |\r\n        (bytes[i + 2] & 63);\r\n      str += String.fromCharCode(code);\r\n      i += 3;\r\n    }\r\n  }\r\n\r\n  this.index += size;\r\n  return str;\r\n};\r\n\r\nUnpacker.prototype.unpack_array = function (size) {\r\n  var objects = new Array(size);\r\n  for (var i = 0; i < size; i++) {\r\n    objects[i] = this.unpack();\r\n  }\r\n  return objects;\r\n};\r\n\r\nUnpacker.prototype.unpack_map = function (size) {\r\n  var map = {};\r\n  for (var i = 0; i < size; i++) {\r\n    var key = this.unpack();\r\n    var value = this.unpack();\r\n    map[key] = value;\r\n  }\r\n  return map;\r\n};\r\n\r\nUnpacker.prototype.unpack_float = function () {\r\n  var uint32 = this.unpack_uint32();\r\n  var sign = uint32 >> 31;\r\n  var exp = ((uint32 >> 23) & 0xff) - 127;\r\n  var fraction = (uint32 & 0x7fffff) | 0x800000;\r\n  return (sign === 0 ? 1 : -1) *\r\n    fraction * Math.pow(2, exp - 23);\r\n};\r\n\r\nUnpacker.prototype.unpack_double = function () {\r\n  var h32 = this.unpack_uint32();\r\n  var l32 = this.unpack_uint32();\r\n  var sign = h32 >> 31;\r\n  var exp = ((h32 >> 20) & 0x7ff) - 1023;\r\n  var hfrac = (h32 & 0xfffff) | 0x100000;\r\n  var frac = hfrac * Math.pow(2, exp - 20) +\r\n    l32 * Math.pow(2, exp - 52);\r\n  return (sign === 0 ? 1 : -1) * frac;\r\n};\r\n\r\nUnpacker.prototype.read = function (length) {\r\n  var j = this.index;\r\n  if (j + length <= this.length) {\r\n    return this.dataView.subarray(j, j + length);\r\n  } else {\r\n    throw new Error('BinaryPackFailure: read index out of range');\r\n  }\r\n};\r\n\r\nfunction Packer () {\r\n  this.bufferBuilder = new BufferBuilder();\r\n}\r\n\r\nPacker.prototype.getBuffer = function () {\r\n  return this.bufferBuilder.getBuffer();\r\n};\r\n\r\nPacker.prototype.pack = function (value) {\r\n  var type = typeof (value);\r\n  if (type === 'string') {\r\n    this.pack_string(value);\r\n  } else if (type === 'number') {\r\n    if (Math.floor(value) === value) {\r\n      this.pack_integer(value);\r\n    } else {\r\n      this.pack_double(value);\r\n    }\r\n  } else if (type === 'boolean') {\r\n    if (value === true) {\r\n      this.bufferBuilder.append(0xc3);\r\n    } else if (value === false) {\r\n      this.bufferBuilder.append(0xc2);\r\n    }\r\n  } else if (type === 'undefined') {\r\n    this.bufferBuilder.append(0xc0);\r\n  } else if (type === 'object') {\r\n    if (value === null) {\r\n      this.bufferBuilder.append(0xc0);\r\n    } else {\r\n      var constructor = value.constructor;\r\n      if (constructor == Array) {\r\n        this.pack_array(value);\r\n      } else if (constructor == Blob || constructor == File || value instanceof Blob || value instanceof File) {\r\n        this.pack_bin(value);\r\n      } else if (constructor == ArrayBuffer) {\r\n        if (binaryFeatures.useArrayBufferView) {\r\n          this.pack_bin(new Uint8Array(value));\r\n        } else {\r\n          this.pack_bin(value);\r\n        }\r\n      } else if ('BYTES_PER_ELEMENT' in value) {\r\n        if (binaryFeatures.useArrayBufferView) {\r\n          this.pack_bin(new Uint8Array(value.buffer));\r\n        } else {\r\n          this.pack_bin(value.buffer);\r\n        }\r\n      } else if ((constructor == Object) || (constructor.toString().startsWith('class'))) {\r\n        this.pack_object(value);\r\n      } else if (constructor == Date) {\r\n        this.pack_string(value.toString());\r\n      } else if (typeof value.toBinaryPack === 'function') {\r\n        this.bufferBuilder.append(value.toBinaryPack());\r\n      } else {\r\n        throw new Error('Type \"' + constructor.toString() + '\" not yet supported');\r\n      }\r\n    }\r\n  } else {\r\n    throw new Error('Type \"' + type + '\" not yet supported');\r\n  }\r\n  this.bufferBuilder.flush();\r\n};\r\n\r\nPacker.prototype.pack_bin = function (blob) {\r\n  var length = blob.length || blob.byteLength || blob.size;\r\n  if (length <= 0x0f) {\r\n    this.pack_uint8(0xa0 + length);\r\n  } else if (length <= 0xffff) {\r\n    this.bufferBuilder.append(0xda);\r\n    this.pack_uint16(length);\r\n  } else if (length <= 0xffffffff) {\r\n    this.bufferBuilder.append(0xdb);\r\n    this.pack_uint32(length);\r\n  } else {\r\n    throw new Error('Invalid length');\r\n  }\r\n  this.bufferBuilder.append(blob);\r\n};\r\n\r\nPacker.prototype.pack_string = function (str) {\r\n  var length = utf8Length(str);\r\n\r\n  if (length <= 0x0f) {\r\n    this.pack_uint8(0xb0 + length);\r\n  } else if (length <= 0xffff) {\r\n    this.bufferBuilder.append(0xd8);\r\n    this.pack_uint16(length);\r\n  } else if (length <= 0xffffffff) {\r\n    this.bufferBuilder.append(0xd9);\r\n    this.pack_uint32(length);\r\n  } else {\r\n    throw new Error('Invalid length');\r\n  }\r\n  this.bufferBuilder.append(str);\r\n};\r\n\r\nPacker.prototype.pack_array = function (ary) {\r\n  var length = ary.length;\r\n  if (length <= 0x0f) {\r\n    this.pack_uint8(0x90 + length);\r\n  } else if (length <= 0xffff) {\r\n    this.bufferBuilder.append(0xdc);\r\n    this.pack_uint16(length);\r\n  } else if (length <= 0xffffffff) {\r\n    this.bufferBuilder.append(0xdd);\r\n    this.pack_uint32(length);\r\n  } else {\r\n    throw new Error('Invalid length');\r\n  }\r\n  for (var i = 0; i < length; i++) {\r\n    this.pack(ary[i]);\r\n  }\r\n};\r\n\r\nPacker.prototype.pack_integer = function (num) {\r\n  if (num >= -0x20 && num <= 0x7f) {\r\n    this.bufferBuilder.append(num & 0xff);\r\n  } else if (num >= 0x00 && num <= 0xff) {\r\n    this.bufferBuilder.append(0xcc);\r\n    this.pack_uint8(num);\r\n  } else if (num >= -0x80 && num <= 0x7f) {\r\n    this.bufferBuilder.append(0xd0);\r\n    this.pack_int8(num);\r\n  } else if (num >= 0x0000 && num <= 0xffff) {\r\n    this.bufferBuilder.append(0xcd);\r\n    this.pack_uint16(num);\r\n  } else if (num >= -0x8000 && num <= 0x7fff) {\r\n    this.bufferBuilder.append(0xd1);\r\n    this.pack_int16(num);\r\n  } else if (num >= 0x00000000 && num <= 0xffffffff) {\r\n    this.bufferBuilder.append(0xce);\r\n    this.pack_uint32(num);\r\n  } else if (num >= -0x80000000 && num <= 0x7fffffff) {\r\n    this.bufferBuilder.append(0xd2);\r\n    this.pack_int32(num);\r\n  } else if (num >= -0x8000000000000000 && num <= 0x7FFFFFFFFFFFFFFF) {\r\n    this.bufferBuilder.append(0xd3);\r\n    this.pack_int64(num);\r\n  } else if (num >= 0x0000000000000000 && num <= 0xFFFFFFFFFFFFFFFF) {\r\n    this.bufferBuilder.append(0xcf);\r\n    this.pack_uint64(num);\r\n  } else {\r\n    throw new Error('Invalid integer');\r\n  }\r\n};\r\n\r\nPacker.prototype.pack_double = function (num) {\r\n  var sign = 0;\r\n  if (num < 0) {\r\n    sign = 1;\r\n    num = -num;\r\n  }\r\n  var exp = Math.floor(Math.log(num) / Math.LN2);\r\n  var frac0 = num / Math.pow(2, exp) - 1;\r\n  var frac1 = Math.floor(frac0 * Math.pow(2, 52));\r\n  var b32 = Math.pow(2, 32);\r\n  var h32 = (sign << 31) | ((exp + 1023) << 20) |\r\n    (frac1 / b32) & 0x0fffff;\r\n  var l32 = frac1 % b32;\r\n  this.bufferBuilder.append(0xcb);\r\n  this.pack_int32(h32);\r\n  this.pack_int32(l32);\r\n};\r\n\r\nPacker.prototype.pack_object = function (obj) {\r\n  var keys = Object.keys(obj);\r\n  var length = keys.length;\r\n  if (length <= 0x0f) {\r\n    this.pack_uint8(0x80 + length);\r\n  } else if (length <= 0xffff) {\r\n    this.bufferBuilder.append(0xde);\r\n    this.pack_uint16(length);\r\n  } else if (length <= 0xffffffff) {\r\n    this.bufferBuilder.append(0xdf);\r\n    this.pack_uint32(length);\r\n  } else {\r\n    throw new Error('Invalid length');\r\n  }\r\n  for (var prop in obj) {\r\n    if (obj.hasOwnProperty(prop)) {\r\n      this.pack(prop);\r\n      this.pack(obj[prop]);\r\n    }\r\n  }\r\n};\r\n\r\nPacker.prototype.pack_uint8 = function (num) {\r\n  this.bufferBuilder.append(num);\r\n};\r\n\r\nPacker.prototype.pack_uint16 = function (num) {\r\n  this.bufferBuilder.append(num >> 8);\r\n  this.bufferBuilder.append(num & 0xff);\r\n};\r\n\r\nPacker.prototype.pack_uint32 = function (num) {\r\n  var n = num & 0xffffffff;\r\n  this.bufferBuilder.append((n & 0xff000000) >>> 24);\r\n  this.bufferBuilder.append((n & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((n & 0x0000ff00) >>> 8);\r\n  this.bufferBuilder.append((n & 0x000000ff));\r\n};\r\n\r\nPacker.prototype.pack_uint64 = function (num) {\r\n  var high = num / Math.pow(2, 32);\r\n  var low = num % Math.pow(2, 32);\r\n  this.bufferBuilder.append((high & 0xff000000) >>> 24);\r\n  this.bufferBuilder.append((high & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((high & 0x0000ff00) >>> 8);\r\n  this.bufferBuilder.append((high & 0x000000ff));\r\n  this.bufferBuilder.append((low & 0xff000000) >>> 24);\r\n  this.bufferBuilder.append((low & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((low & 0x0000ff00) >>> 8);\r\n  this.bufferBuilder.append((low & 0x000000ff));\r\n};\r\n\r\nPacker.prototype.pack_int8 = function (num) {\r\n  this.bufferBuilder.append(num & 0xff);\r\n};\r\n\r\nPacker.prototype.pack_int16 = function (num) {\r\n  this.bufferBuilder.append((num & 0xff00) >> 8);\r\n  this.bufferBuilder.append(num & 0xff);\r\n};\r\n\r\nPacker.prototype.pack_int32 = function (num) {\r\n  this.bufferBuilder.append((num >>> 24) & 0xff);\r\n  this.bufferBuilder.append((num & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((num & 0x0000ff00) >>> 8);\r\n  this.bufferBuilder.append((num & 0x000000ff));\r\n};\r\n\r\nPacker.prototype.pack_int64 = function (num) {\r\n  var high = Math.floor(num / Math.pow(2, 32));\r\n  var low = num % Math.pow(2, 32);\r\n  this.bufferBuilder.append((high & 0xff000000) >>> 24);\r\n  this.bufferBuilder.append((high & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((high & 0x0000ff00) >>> 8);\r\n  this.bufferBuilder.append((high & 0x000000ff));\r\n  this.bufferBuilder.append((low & 0xff000000) >>> 24);\r\n  this.bufferBuilder.append((low & 0x00ff0000) >>> 16);\r\n  this.bufferBuilder.append((low & 0x0000ff00) >>> 8);\r\n  this.bufferBuilder.append((low & 0x000000ff));\r\n};\r\n\r\nfunction _utf8Replace (m) {\r\n  var code = m.charCodeAt(0);\r\n\r\n  if (code <= 0x7ff) return '00';\r\n  if (code <= 0xffff) return '000';\r\n  if (code <= 0x1fffff) return '0000';\r\n  if (code <= 0x3ffffff) return '00000';\r\n  return '000000';\r\n}\r\n\r\nfunction utf8Length (str) {\r\n  if (str.length > 600) {\r\n    // Blob method faster for large strings\r\n    return (new Blob([str])).size;\r\n  } else {\r\n    return str.replace(/[^\\u0000-\\u007F]/g, _utf8Replace).length;\r\n  }\r\n}\r\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nlet logDisabled_ = true;\nlet deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nexport function extractVersion(uastring, expr, pos) {\n  const match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\nexport function wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  const nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    const wrappedCallback = (e) => {\n      const modifiedEvent = wrapper(e);\n      if (modifiedEvent) {\n        cb(modifiedEvent);\n      }\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  const nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    const unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get() {\n      return this['_on' + eventNameToWrap];\n    },\n    set(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\nexport function disableLog(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  logDisabled_ = bool;\n  return (bool) ? 'adapter.js logging disabled' :\n      'adapter.js logging enabled';\n}\n\n/**\n * Disable or enable deprecation warnings\n * @param {!boolean} bool set to true to disable warnings.\n */\nexport function disableWarnings(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  deprecationWarnings_ = !bool;\n  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\n\nexport function log() {\n  if (typeof window === 'object') {\n    if (logDisabled_) {\n      return;\n    }\n    if (typeof console !== 'undefined' && typeof console.log === 'function') {\n      console.log.apply(console, arguments);\n    }\n  }\n}\n\n/**\n * Shows a deprecation warning suggesting the modern and spec-compatible API.\n */\nexport function deprecated(oldMethod, newMethod) {\n  if (!deprecationWarnings_) {\n    return;\n  }\n  console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n      ' instead.');\n}\n\n/**\n * Browser detector.\n *\n * @return {object} result containing browser and version\n *     properties.\n */\nexport function detectBrowser(window) {\n  const {navigator} = window;\n\n  // Returned result object.\n  const result = {browser: null, version: null};\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator) {\n    result.browser = 'Not a browser.';\n    return result;\n  }\n\n  if (navigator.mozGetUserMedia) { // Firefox.\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent,\n        /Firefox\\/(\\d+)\\./, 1);\n  } else if (navigator.webkitGetUserMedia ||\n      (window.isSecureContext === false && window.webkitRTCPeerConnection &&\n       !window.RTCIceGatherer)) {\n    // Chrome, Chromium, Webview, Opera.\n    // Version matches Chrome/WebRTC version.\n    // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n    // more complicated fallback to webkitRTCPeerConnection.\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent,\n        /Chrom(e|ium)\\/(\\d+)\\./, 2);\n  } else if (navigator.mediaDevices &&\n      navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n    result.browser = 'edge';\n    result.version = extractVersion(navigator.userAgent,\n        /Edge\\/(\\d+).(\\d+)$/, 2);\n  } else if (window.RTCPeerConnection &&\n      navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent,\n        /AppleWebKit\\/(\\d+)\\./, 1);\n    result.supportsUnifiedPlan = window.RTCRtpTransceiver &&\n        'currentDirection' in window.RTCRtpTransceiver.prototype;\n  } else { // Default fallthrough: not supported.\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  return result;\n}\n\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Remove all empty objects and undefined values\n * from a nested object -- an enhanced and vanilla version\n * of Lodash's `compact`.\n */\nexport function compactObject(data) {\n  if (!isObject(data)) {\n    return data;\n  }\n\n  return Object.keys(data).reduce(function(accumulator, key) {\n    const isObj = isObject(data[key]);\n    const value = isObj ? compactObject(data[key]) : data[key];\n    const isEmptyObject = isObj && !Object.keys(value).length;\n    if (value === undefined || isEmptyObject) {\n      return accumulator;\n    }\n    return Object.assign(accumulator, {[key]: value});\n  }, {});\n}\n\n/* iterates the stats graph recursively. */\nexport function walkStats(stats, base, resultSet) {\n  if (!base || resultSet.has(base.id)) {\n    return;\n  }\n  resultSet.set(base.id, base);\n  Object.keys(base).forEach(name => {\n    if (name.endsWith('Id')) {\n      walkStats(stats, stats.get(base[name]), resultSet);\n    } else if (name.endsWith('Ids')) {\n      base[name].forEach(id => {\n        walkStats(stats, stats.get(id), resultSet);\n      });\n    }\n  });\n}\n\n/* filter getStats for a sender/receiver track. */\nexport function filterStats(result, track, outbound) {\n  const streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n  const filteredResult = new Map();\n  if (track === null) {\n    return filteredResult;\n  }\n  const trackStats = [];\n  result.forEach(value => {\n    if (value.type === 'track' &&\n        value.trackIdentifier === track.id) {\n      trackStats.push(value);\n    }\n  });\n  trackStats.forEach(trackStat => {\n    result.forEach(stats => {\n      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n        walkStats(result, stats, filteredResult);\n      }\n    });\n  });\n  return filteredResult;\n}\n\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\nimport * as utils from '../utils.js';\nconst logging = utils.log;\n\nexport function shimGetUserMedia(window) {\n  const navigator = window && window.navigator;\n\n  if (!navigator.mediaDevices) {\n    return;\n  }\n\n  const browserDetails = utils.detectBrowser(window);\n\n  const constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    const cc = {};\n    Object.keys(c).forEach(key => {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      const r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      const oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        let oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(mix => {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  const shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      const remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      let face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      const getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        let matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(devices => {\n            devices = devices.filter(d => d.kind === 'videoinput');\n            let dev = devices.find(d => matches.some(match =>\n              d.label.toLowerCase().includes(match)));\n            if (!dev && devices.length && matches.includes('back')) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  const shimError_ = function(e) {\n    if (browserDetails.version >= 64) {\n      return e;\n    }\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        PermissionDismissedError: 'NotAllowedError',\n        InvalidStateError: 'NotAllowedError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n        MediaDeviceKillSwitchOn: 'NotAllowedError',\n        TabCaptureError: 'AbortError',\n        ScreenCaptureError: 'AbortError',\n        DeviceCaptureError: 'AbortError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint || e.constraintName,\n      toString() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  const getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, c => {\n      navigator.webkitGetUserMedia(c, onSuccess, e => {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n  navigator.getUserMedia = getUserMedia_.bind(navigator);\n\n  // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n  // function which returns a Promise, it does not accept spec-style\n  // constraints.\n  if (navigator.mediaDevices.getUserMedia) {\n    const origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, c => origGetUserMedia(c).then(stream => {\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(track => {\n            track.stop();\n          });\n          throw new DOMException('', 'NotFoundError');\n        }\n        return stream;\n      }, e => Promise.reject(shimError_(e))));\n    };\n  }\n}\n","/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\nexport function shimGetDisplayMedia(window, getSourceId) {\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  // getSourceId is a function that returns a promise resolving with\n  // the sourceId of the screen/window/tab to be shared.\n  if (typeof getSourceId !== 'function') {\n    console.error('shimGetDisplayMedia: getSourceId argument is not ' +\n        'a function');\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    function getDisplayMedia(constraints) {\n      return getSourceId(constraints)\n        .then(sourceId => {\n          const widthSpecified = constraints.video && constraints.video.width;\n          const heightSpecified = constraints.video &&\n            constraints.video.height;\n          const frameRateSpecified = constraints.video &&\n            constraints.video.frameRate;\n          constraints.video = {\n            mandatory: {\n              chromeMediaSource: 'desktop',\n              chromeMediaSourceId: sourceId,\n              maxFrameRate: frameRateSpecified || 3\n            }\n          };\n          if (widthSpecified) {\n            constraints.video.mandatory.maxWidth = widthSpecified;\n          }\n          if (heightSpecified) {\n            constraints.video.mandatory.maxHeight = heightSpecified;\n          }\n          return window.navigator.mediaDevices.getUserMedia(constraints);\n        });\n    };\n}\n","\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nimport * as utils from '../utils.js';\n\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimMediaStream(window) {\n  window.MediaStream = window.MediaStream || window.webkitMediaStream;\n}\n\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n      window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n      get() {\n        return this._ontrack;\n      },\n      set(f) {\n        if (this._ontrack) {\n          this.removeEventListener('track', this._ontrack);\n        }\n        this.addEventListener('track', this._ontrack = f);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    const origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        if (!this._ontrackpoly) {\n          this._ontrackpoly = (e) => {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', te => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === te.track.id);\n              } else {\n                receiver = {track: te.track};\n              }\n\n              const event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(track => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === track.id);\n              } else {\n                receiver = {track};\n              }\n              const event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n          };\n          this.addEventListener('addstream', this._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(this, arguments);\n      };\n  } else {\n    // even if RTCRtpTransceiver is in window, it is only used and\n    // emitted in unified-plan. Unfortunately this means we need\n    // to unconditionally wrap the event.\n    utils.wrapPeerConnectionEvent(window, 'track', e => {\n      if (!e.transceiver) {\n        Object.defineProperty(e, 'transceiver',\n          {value: {receiver: e.receiver}});\n      }\n      return e;\n    });\n  }\n}\n\nexport function shimGetSendersWithDtmf(window) {\n  // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n  if (typeof window === 'object' && window.RTCPeerConnection &&\n      !('getSenders' in window.RTCPeerConnection.prototype) &&\n      'createDTMFSender' in window.RTCPeerConnection.prototype) {\n    const shimSenderWithDtmf = function(pc, track) {\n      return {\n        track,\n        get dtmf() {\n          if (this._dtmf === undefined) {\n            if (track.kind === 'audio') {\n              this._dtmf = pc.createDTMFSender(track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        },\n        _pc: pc\n      };\n    };\n\n    // augment addTrack when getSenders is not available.\n    if (!window.RTCPeerConnection.prototype.getSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        this._senders = this._senders || [];\n        return this._senders.slice(); // return a copy of the internal state.\n      };\n      const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addTrack =\n        function addTrack(track, stream) {\n          let sender = origAddTrack.apply(this, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(this, track);\n            this._senders.push(sender);\n          }\n          return sender;\n        };\n\n      const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n      window.RTCPeerConnection.prototype.removeTrack =\n        function removeTrack(sender) {\n          origRemoveTrack.apply(this, arguments);\n          const idx = this._senders.indexOf(sender);\n          if (idx !== -1) {\n            this._senders.splice(idx, 1);\n          }\n        };\n    }\n    const origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      this._senders = this._senders || [];\n      origAddStream.apply(this, [stream]);\n      stream.getTracks().forEach(track => {\n        this._senders.push(shimSenderWithDtmf(this, track));\n      });\n    };\n\n    const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        this._senders = this._senders || [];\n        origRemoveStream.apply(this, [stream]);\n\n        stream.getTracks().forEach(track => {\n          const sender = this._senders.find(s => s.track === track);\n          if (sender) { // remove sender\n            this._senders.splice(this._senders.indexOf(sender), 1);\n          }\n        });\n      };\n  } else if (typeof window === 'object' && window.RTCPeerConnection &&\n             'getSenders' in window.RTCPeerConnection.prototype &&\n             'createDTMFSender' in window.RTCPeerConnection.prototype &&\n             window.RTCRtpSender &&\n             !('dtmf' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = this._pc.createDTMFSender(this.track);\n          } else {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n}\n\nexport function shimGetStats(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  const origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n\n    // If selector is a function then we are in the old style stats so just\n    // pass back the original getStats format to avoid breaking old users.\n    if (arguments.length > 0 && typeof selector === 'function') {\n      return origGetStats.apply(this, arguments);\n    }\n\n    // When spec-style getStats is supported, return those when called with\n    // either no arguments or the selector argument is null.\n    if (origGetStats.length === 0 && (arguments.length === 0 ||\n        typeof selector !== 'function')) {\n      return origGetStats.apply(this, []);\n    }\n\n    const fixChromeStats_ = function(response) {\n      const standardReport = {};\n      const reports = response.result();\n      reports.forEach(report => {\n        const standardStats = {\n          id: report.id,\n          timestamp: report.timestamp,\n          type: {\n            localcandidate: 'local-candidate',\n            remotecandidate: 'remote-candidate'\n          }[report.type] || report.type\n        };\n        report.names().forEach(name => {\n          standardStats[name] = report.stat(name);\n        });\n        standardReport[standardStats.id] = standardStats;\n      });\n\n      return standardReport;\n    };\n\n    // shim getStats with maplike support\n    const makeMapStats = function(stats) {\n      return new Map(Object.keys(stats).map(key => [key, stats[key]]));\n    };\n\n    if (arguments.length >= 2) {\n      const successCallbackWrapper_ = function(response) {\n        onSucc(makeMapStats(fixChromeStats_(response)));\n      };\n\n      return origGetStats.apply(this, [successCallbackWrapper_,\n        selector]);\n    }\n\n    // promise-support\n    return new Promise((resolve, reject) => {\n      origGetStats.apply(this, [\n        function(response) {\n          resolve(makeMapStats(fixChromeStats_(response)));\n        }, reject]);\n    }).then(onSucc, onErr);\n  };\n}\n\nexport function shimSenderReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender && window.RTCRtpReceiver)) {\n    return;\n  }\n\n  // shim sender stats.\n  if (!('getStats' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    if (origGetSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        const senders = origGetSenders.apply(this, []);\n        senders.forEach(sender => sender._pc = this);\n        return senders;\n      };\n    }\n\n    const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    if (origAddTrack) {\n      window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n        const sender = origAddTrack.apply(this, arguments);\n        sender._pc = this;\n        return sender;\n      };\n    }\n    window.RTCRtpSender.prototype.getStats = function getStats() {\n      const sender = this;\n      return this._pc.getStats().then(result =>\n        /* Note: this will include stats of all senders that\n         *   send a track with the same id as sender.track as\n         *   it is not possible to identify the RTCRtpSender.\n         */\n        utils.filterStats(result, sender.track, true));\n    };\n  }\n\n  // shim receiver stats.\n  if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n    const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n    if (origGetReceivers) {\n      window.RTCPeerConnection.prototype.getReceivers =\n        function getReceivers() {\n          const receivers = origGetReceivers.apply(this, []);\n          receivers.forEach(receiver => receiver._pc = this);\n          return receivers;\n        };\n    }\n    utils.wrapPeerConnectionEvent(window, 'track', e => {\n      e.receiver._pc = e.srcElement;\n      return e;\n    });\n    window.RTCRtpReceiver.prototype.getStats = function getStats() {\n      const receiver = this;\n      return this._pc.getStats().then(result =>\n        utils.filterStats(result, receiver.track, false));\n    };\n  }\n\n  if (!('getStats' in window.RTCRtpSender.prototype &&\n      'getStats' in window.RTCRtpReceiver.prototype)) {\n    return;\n  }\n\n  // shim RTCPeerConnection.getStats(track).\n  const origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    if (arguments.length > 0 &&\n        arguments[0] instanceof window.MediaStreamTrack) {\n      const track = arguments[0];\n      let sender;\n      let receiver;\n      let err;\n      this.getSenders().forEach(s => {\n        if (s.track === track) {\n          if (sender) {\n            err = true;\n          } else {\n            sender = s;\n          }\n        }\n      });\n      this.getReceivers().forEach(r => {\n        if (r.track === track) {\n          if (receiver) {\n            err = true;\n          } else {\n            receiver = r;\n          }\n        }\n        return r.track === track;\n      });\n      if (err || (sender && receiver)) {\n        return Promise.reject(new DOMException(\n          'There are more than one sender or receiver for the track.',\n          'InvalidAccessError'));\n      } else if (sender) {\n        return sender.getStats();\n      } else if (receiver) {\n        return receiver.getStats();\n      }\n      return Promise.reject(new DOMException(\n        'There is no sender or receiver for the track.',\n        'InvalidAccessError'));\n    }\n    return origGetStats.apply(this, arguments);\n  };\n}\n\nexport function shimAddTrackRemoveTrackWithNative(window) {\n  // shim addTrack/removeTrack with native variants in order to make\n  // the interactions with legacy getLocalStreams behave as in other browsers.\n  // Keeps a mapping stream.id => [stream, rtpsenders...]\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams)\n        .map(streamId => this._shimmedLocalStreams[streamId][0]);\n    };\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      const sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n    });\n    const existingSenders = this.getSenders();\n    origAddStream.apply(this, arguments);\n    const newSenders = this.getSenders()\n      .filter(newSender => existingSenders.indexOf(newSender) === -1);\n    this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n  const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(streamId => {\n          const idx = this._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            this._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (this._shimmedLocalStreams[streamId].length === 1) {\n            delete this._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n}\n\nexport function shimAddTrackRemoveTrack(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const browserDetails = utils.detectBrowser(window);\n  // shim addTrack and removeTrack.\n  if (window.RTCPeerConnection.prototype.addTrack &&\n      browserDetails.version >= 65) {\n    return shimAddTrackRemoveTrackWithNative(window);\n  }\n\n  // also shim pc.getLocalStreams when addTrack is shimmed\n  // to return the original streams.\n  const origGetLocalStreams = window.RTCPeerConnection.prototype\n      .getLocalStreams;\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      const nativeStreams = origGetLocalStreams.apply(this);\n      this._reverseStreams = this._reverseStreams || {};\n      return nativeStreams.map(stream => this._reverseStreams[stream.id]);\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n    });\n    // Add identity mapping for consistency with addTrack.\n    // Unless this is being used with a stream from addTrack.\n    if (!this._reverseStreams[stream.id]) {\n      const newStream = new window.MediaStream(stream.getTracks());\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      stream = newStream;\n    }\n    origAddStream.apply(this, [stream]);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n\n      origRemoveStream.apply(this, [(this._streams[stream.id] || stream)]);\n      delete this._reverseStreams[(this._streams[stream.id] ?\n          this._streams[stream.id].id : stream.id)];\n      delete this._streams[stream.id];\n    };\n\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      const streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(t => t === track)) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n      const oldStream = this._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(() => {\n          this.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        const newStream = new window.MediaStream([track]);\n        this._streams[stream.id] = newStream;\n        this._reverseStreams[newStream.id] = stream;\n        this.addStream(newStream);\n      }\n      return this.getSenders().find(s => s.track === track);\n    };\n\n  // replace the internal stream id with the external one and\n  // vice versa.\n  function replaceInternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n          externalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  function replaceExternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n          internalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  ['createOffer', 'createAnswer'].forEach(function(method) {\n    const nativeMethod = window.RTCPeerConnection.prototype[method];\n    const methodObj = {[method]() {\n      const args = arguments;\n      const isLegacyCall = arguments.length &&\n          typeof arguments[0] === 'function';\n      if (isLegacyCall) {\n        return nativeMethod.apply(this, [\n          (description) => {\n            const desc = replaceInternalStreamId(this, description);\n            args[0].apply(null, [desc]);\n          },\n          (err) => {\n            if (args[1]) {\n              args[1].apply(null, err);\n            }\n          }, arguments[2]\n        ]);\n      }\n      return nativeMethod.apply(this, arguments)\n      .then(description => replaceInternalStreamId(this, description));\n    }};\n    window.RTCPeerConnection.prototype[method] = methodObj[method];\n  });\n\n  const origSetLocalDescription =\n      window.RTCPeerConnection.prototype.setLocalDescription;\n  window.RTCPeerConnection.prototype.setLocalDescription =\n    function setLocalDescription() {\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(this, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(this, arguments[0]);\n      return origSetLocalDescription.apply(this, arguments);\n    };\n\n  // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n  const origLocalDescription = Object.getOwnPropertyDescriptor(\n      window.RTCPeerConnection.prototype, 'localDescription');\n  Object.defineProperty(window.RTCPeerConnection.prototype,\n      'localDescription', {\n        get() {\n          const description = origLocalDescription.get.apply(this);\n          if (description.type === '') {\n            return description;\n          }\n          return replaceInternalStreamId(this, description);\n        }\n      });\n\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      const isLocal = sender._pc === this;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      this._streams = this._streams || {};\n      let stream;\n      Object.keys(this._streams).forEach(streamid => {\n        const hasTrack = this._streams[streamid].getTracks()\n          .find(track => sender.track === track);\n        if (hasTrack) {\n          stream = this._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          this.removeStream(this._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        this.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n}\n\nexport function shimPeerConnection(window) {\n  const browserDetails = utils.detectBrowser(window);\n\n  if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.webkitRTCPeerConnection;\n  }\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n  if (browserDetails.version < 53) {\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          const nativeMethod = window.RTCPeerConnection.prototype[method];\n          const methodObj = {[method]() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          }};\n          window.RTCPeerConnection.prototype[method] = methodObj[method];\n        });\n  }\n\n  // support for addIceCandidate(null or undefined)\n  const nativeAddIceCandidate =\n      window.RTCPeerConnection.prototype.addIceCandidate;\n  window.RTCPeerConnection.prototype.addIceCandidate =\n    function addIceCandidate() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n      // in older versions. Native support planned for Chrome M77.\n      if (browserDetails.version < 78 &&\n        arguments[0] && arguments[0].candidate === '') {\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n}\n\nexport function fixNegotiationNeeded(window) {\n  utils.wrapPeerConnectionEvent(window, 'negotiationneeded', e => {\n    const pc = e.target;\n    if (pc.signalingState !== 'stable') {\n      return;\n    }\n    return e;\n  });\n}\n","/*\n *  Copyright (c) 2018 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nexport function filterIceServers(iceServers, edgeVersion) {\n  let hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(server => {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n      }\n      const isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(url => {\n        // filter STUN unconditionally.\n        if (url.indexOf('stun:') === 0) {\n          return false;\n        }\n\n        const validTurn = url.startsWith('turn') &&\n            !url.startsWith('turn:[') &&\n            url.includes('transport=udp');\n        if (validTurn && !hasTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return validTurn && !hasTurn;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n  });\n}\n","/* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// returns the session description.\nSDPUtils.getDescription = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// returns the individual media sections.\nSDPUtils.getMediaSections = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    address: parts[4], // address is an alias for ip.\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.address || candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress);\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort);\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.usernameFragment || candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.usernameFragment || candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n};\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  // legacy alias, got renamed back to channels in ORTC.\n  parsed.numChannels = parsed.channels;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  var channels = codec.channels || codec.numChannels || 1;\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n        ? '/' + headerExtension.direction\n        : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      if (codec.parameters[param]) {\n        params.push(param + '=' + codec.parameters[param]);\n      } else {\n        params.push(param);\n      }\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\nSDPUtils.parseSsrcGroup = function(line) {\n  var parts = line.substr(13).split(' ');\n  return {\n    semantics: parts.shift(),\n    ssrcs: parts.map(function(ssrc) {\n      return parseInt(ssrc, 10);\n    })\n  };\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n};\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n      mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n        mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  if (caps.headerExtensions) {\n    caps.headerExtensions.forEach(function(extension) {\n      sdp += SDPUtils.writeExtmap(extension);\n    });\n  }\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(function(line) {\n      return SDPUtils.parseSsrcMedia(line);\n    })\n    .filter(function(parts) {\n      return parts.attribute === 'cname';\n    });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n    .map(function(line) {\n      var parts = line.substr(17).split(' ');\n      return parts.map(function(part) {\n        return parseInt(part, 10);\n      });\n    });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10)\n      };\n      if (primarySsrc && secondarySsrc) {\n        encParam.rtx = {ssrc: secondarySsrc};\n      }\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: primarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  // Gets the first SSRC. Note tha with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(function(line) {\n      return SDPUtils.parseSsrcMedia(line);\n    })\n    .filter(function(obj) {\n      return obj.attribute === 'cname';\n    })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(function(line) {\n      return SDPUtils.parseSsrcMedia(line);\n    })\n    .filter(function(msidParts) {\n      return msidParts.attribute === 'msid';\n    });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// SCTP\n// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back\n// to draft-ietf-mmusic-sctp-sdp-05\nSDPUtils.parseSctpDescription = function(mediaSection) {\n  var mline = SDPUtils.parseMLine(mediaSection);\n  var maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');\n  var maxMessageSize;\n  if (maxSizeLine.length > 0) {\n    maxMessageSize = parseInt(maxSizeLine[0].substr(19), 10);\n  }\n  if (isNaN(maxMessageSize)) {\n    maxMessageSize = 65536;\n  }\n  var sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');\n  if (sctpPort.length > 0) {\n    return {\n      port: parseInt(sctpPort[0].substr(12), 10),\n      protocol: mline.fmt,\n      maxMessageSize: maxMessageSize\n    };\n  }\n  var sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');\n  if (sctpMapLines.length > 0) {\n    var parts = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:')[0]\n      .substr(10)\n      .split(' ');\n    return {\n      port: parseInt(parts[0], 10),\n      protocol: parts[1],\n      maxMessageSize: maxMessageSize\n    };\n  }\n};\n\n// SCTP\n// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers\n// support by now receiving in this format, unless we originally parsed\n// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line\n// protocol of DTLS/SCTP -- without UDP/ or TCP/)\nSDPUtils.writeSctpDescription = function(media, sctp) {\n  var output = [];\n  if (media.protocol !== 'DTLS/SCTP') {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctp-port:' + sctp.port + '\\r\\n'\n    ];\n  } else {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\\r\\n'\n    ];\n  }\n  if (sctp.maxMessageSize !== undefined) {\n    output.push('a=max-message-size:' + sctp.maxMessageSize + '\\r\\n');\n  }\n  return output.join('');\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n// sessUser is optional and defaults to 'thisisadapterortc'\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer, sessUser) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  var user = sessUser || 'thisisadapterortc';\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=' + user + ' ' + sessionId + ' ' + version +\n        ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n    transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n    transceiver.dtlsTransport.getLocalParameters(),\n    type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var parts = lines[0].substr(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' ')\n  };\n};\n\nSDPUtils.parseOLine = function(mediaSection) {\n  var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  var parts = line.substr(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5]\n  };\n};\n\n// a very naive interpretation of a valid SDP.\nSDPUtils.isValidSDP = function(blob) {\n  if (typeof blob !== 'string' || blob.length === 0) {\n    return false;\n  }\n  var lines = SDPUtils.splitLines(blob);\n  for (var i = 0; i < lines.length; i++) {\n    if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {\n      return false;\n    }\n    // TODO: check the modifier a bit more.\n  }\n  return true;\n};\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\nfunction fixStatsType(stat) {\n  return {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  }[stat.type] || stat.type;\n}\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    var trackId = transceiver.rtpSender._initialTrackId ||\n        transceiver.rtpSender.track.id;\n    transceiver.rtpSender._initialTrackId = trackId;\n    // spec.\n    var msid = 'msid:' + (stream ? stream.id : '-') + ' ' +\n        trackId + '\\r\\n';\n    sdp += 'a=' + msid;\n    // for Chrome. Legacy should no longer be required.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n\n    // RTX\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all fieldѕ are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\n\nfunction makeError(name, description) {\n  var e = new Error(description);\n  e.name = name;\n  // legacy error codes from https://heycam.github.io/webidl/#idl-DOMException-error-names\n  e.code = {\n    NotSupportedError: 9,\n    InvalidStateError: 11,\n    InvalidAccessError: 15,\n    TypeError: undefined,\n    OperationError: undefined\n  }[name];\n  return e;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  // https://w3c.github.io/mediacapture-main/#mediastream\n  // Helper function to add the track to the stream and\n  // dispatch the event ourselves.\n  function addTrackToStreamAndFireEvent(track, stream) {\n    stream.addTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('addtrack',\n        {track: track}));\n  }\n\n  function removeTrackFromStreamAndFireEvent(track, stream) {\n    stream.removeTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('removetrack',\n        {track: track}));\n  }\n\n  function fireAddTrack(pc, track, receiver, streams) {\n    var trackEvent = new Event('track');\n    trackEvent.track = track;\n    trackEvent.receiver = receiver;\n    trackEvent.transceiver = {receiver: receiver};\n    trackEvent.streams = streams;\n    window.setTimeout(function() {\n      pc._dispatchEvent('track', trackEvent);\n    });\n  }\n\n  var RTCPeerConnection = function(config) {\n    var pc = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          pc[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this._localDescription = null;\n    this._remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.connectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      throw(makeError('NotSupportedError',\n          'rtcpMuxPolicy \\'negotiate\\' is not supported'));\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers.push(new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        }));\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n\n    this._isClosed = false;\n  };\n\n  Object.defineProperty(RTCPeerConnection.prototype, 'localDescription', {\n    configurable: true,\n    get: function() {\n      return this._localDescription;\n    }\n  });\n  Object.defineProperty(RTCPeerConnection.prototype, 'remoteDescription', {\n    configurable: true,\n    get: function() {\n      return this._remoteDescription;\n    }\n  });\n\n  // set up event handlers on prototype\n  RTCPeerConnection.prototype.onicecandidate = null;\n  RTCPeerConnection.prototype.onaddstream = null;\n  RTCPeerConnection.prototype.ontrack = null;\n  RTCPeerConnection.prototype.onremovestream = null;\n  RTCPeerConnection.prototype.onsignalingstatechange = null;\n  RTCPeerConnection.prototype.oniceconnectionstatechange = null;\n  RTCPeerConnection.prototype.onconnectionstatechange = null;\n  RTCPeerConnection.prototype.onicegatheringstatechange = null;\n  RTCPeerConnection.prototype.onnegotiationneeded = null;\n  RTCPeerConnection.prototype.ondatachannel = null;\n\n  RTCPeerConnection.prototype._dispatchEvent = function(name, event) {\n    if (this._isClosed) {\n      return;\n    }\n    this.dispatchEvent(event);\n    if (typeof this['on' + name] === 'function') {\n      this['on' + name](event);\n    }\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this._dispatchEvent('icegatheringstatechange', event);\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (which is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind, doNotAdd) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      associatedRemoteMediaStreams: [],\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    if (!doNotAdd) {\n      this.transceivers.push(transceiver);\n    }\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call addTrack on a closed peerconnection.');\n    }\n\n    var alreadyExists = this.transceivers.find(function(s) {\n      return s.track === track;\n    });\n\n    if (alreadyExists) {\n      throw makeError('InvalidAccessError', 'Track already exists.');\n    }\n\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var pc = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        pc.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        pc.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeTrack = function(sender) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call removeTrack on a closed peerconnection.');\n    }\n\n    if (!(sender instanceof window.RTCRtpSender)) {\n      throw new TypeError('Argument 1 of RTCPeerConnection.removeTrack ' +\n          'does not implement interface RTCRtpSender.');\n    }\n\n    var transceiver = this.transceivers.find(function(t) {\n      return t.rtpSender === sender;\n    });\n\n    if (!transceiver) {\n      throw makeError('InvalidAccessError',\n          'Sender was not created by this connection.');\n    }\n    var stream = transceiver.stream;\n\n    transceiver.rtpSender.stop();\n    transceiver.rtpSender = null;\n    transceiver.track = null;\n    transceiver.stream = null;\n\n    // remove the stream from the set of local streams\n    var localStreams = this.transceivers.map(function(t) {\n      return t.stream;\n    });\n    if (localStreams.indexOf(stream) === -1 &&\n        this.localStreams.indexOf(stream) > -1) {\n      this.localStreams.splice(this.localStreams.indexOf(stream), 1);\n    }\n\n    this._maybeFireNegotiationNeeded();\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var pc = this;\n    stream.getTracks().forEach(function(track) {\n      var sender = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (sender) {\n        pc.removeTrack(sender);\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var pc = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (pc.transceivers[sdpMLineIndex].bufferedCandidateEvents !== null) {\n        pc.transceivers[sdpMLineIndex].bufferedCandidateEvents.push(event);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var pc = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var bufferedCandidateEvents =\n      this.transceivers[sdpMLineIndex].bufferedCandidateEvents;\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (pc.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // ѕdpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete‥\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        // also the usernameFragment. TODO: update SDP to take both variants.\n        cand.ufrag = iceGatherer.getLocalParameters().usernameFragment;\n\n        var serializedCandidate = SDPUtils.writeCandidate(cand);\n        event.candidate = Object.assign(event.candidate,\n            SDPUtils.parseCandidate(serializedCandidate));\n\n        event.candidate.candidate = serializedCandidate;\n        event.candidate.toJSON = function() {\n          return {\n            candidate: event.candidate.candidate,\n            sdpMid: event.candidate.sdpMid,\n            sdpMLineIndex: event.candidate.sdpMLineIndex,\n            usernameFragment: event.candidate.usernameFragment\n          };\n        };\n      }\n\n      // update local description.\n      var sections = SDPUtils.getMediaSections(pc._localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      pc._localDescription.sdp =\n          SDPUtils.getDescription(pc._localDescription.sdp) +\n          sections.join('');\n      var complete = pc.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (pc.iceGatheringState !== 'gathering') {\n        pc.iceGatheringState = 'gathering';\n        pc._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        pc._dispatchEvent('icecandidate', event);\n      }\n      if (complete) {\n        pc._dispatchEvent('icecandidate', new Event('icecandidate'));\n        pc.iceGatheringState = 'complete';\n        pc._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      bufferedCandidateEvents.forEach(function(e) {\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var pc = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      pc._updateIceConnectionState();\n      pc._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      pc._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      pc._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      if (transceiver.recvEncodingParameters.length) {\n        params.encodings = transceiver.recvEncodingParameters;\n      } else {\n        params.encodings = [{}];\n      }\n      params.rtcp = {\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.rtcpParameters.cname) {\n        params.rtcp.cname = transceiver.rtcpParameters.cname;\n      }\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set local ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        pc.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        pc._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(pc._remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n\n        if (!rejected && !transceiver.rejected) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!pc.usingBundle || sdpMLineIndex === 0) {\n            pc._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          pc._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    pc._localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-local-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set remote ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var streams = {};\n    pc.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    pc.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      pc.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      pc.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if (rejected || (kind === 'application' && (protocol === 'DTLS/SCTP' ||\n          protocol === 'UDP/DTLS/SCTP'))) {\n        // TODO: this is dangerous in the case where a non-rejected m-line\n        //     becomes rejected.\n        pc.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          kind: kind,\n          protocol: protocol,\n          rejected: true\n        };\n        return;\n      }\n\n      if (!rejected && pc.transceivers[sdpMLineIndex] &&\n          pc.transceivers[sdpMLineIndex].rejected) {\n        // recycle a rejected transceiver.\n        pc.transceivers[sdpMLineIndex] = pc._createTransceiver(kind, true);\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          pc.transceivers[sdpMLineIndex]) {\n        pc._disposeIceAndDtlsTransports(sdpMLineIndex);\n        pc.transceivers[sdpMLineIndex].iceGatherer =\n            pc.transceivers[0].iceGatherer;\n        pc.transceivers[sdpMLineIndex].iceTransport =\n            pc.transceivers[0].iceTransport;\n        pc.transceivers[sdpMLineIndex].dtlsTransport =\n            pc.transceivers[0].dtlsTransport;\n        if (pc.transceivers[sdpMLineIndex].rtpSender) {\n          pc.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n        if (pc.transceivers[sdpMLineIndex].rtpReceiver) {\n          pc.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex] ||\n            pc._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid && remoteMsid.stream === '-') {\n              // no-op. a stream id of '-' means: no associated stream.\n            } else if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            if (stream) {\n              addTrackToStreamAndFireEvent(track, stream);\n              transceiver.associatedRemoteMediaStreams.push(stream);\n            }\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track) {\n          transceiver.associatedRemoteMediaStreams.forEach(function(s) {\n            var nativeTrack = s.getTracks().find(function(t) {\n              return t.id === transceiver.rtpReceiver.track.id;\n            });\n            if (nativeTrack) {\n              removeTrackFromStreamAndFireEvent(nativeTrack, s);\n            }\n          });\n          transceiver.associatedRemoteMediaStreams = [];\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        pc._transceive(pc.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        pc.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        pc.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        pc.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        // If the offer contained RTX but the answer did not,\n        // remove RTX from sendEncodingParameters.\n        var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n        var hasRtx = commonCapabilities.codecs.filter(function(c) {\n          return c.name.toLowerCase() === 'rtx';\n        }).length;\n        if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n          delete transceiver.sendEncodingParameters[0].rtx;\n        }\n\n        pc._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams[remoteMsid.stream]);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams.default);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (pc._dtlsRole === undefined) {\n      pc._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    pc._remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-remote-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (pc.remoteStreams.indexOf(stream) === -1) {\n          pc.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            pc._dispatchEvent('addstream', event);\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          fireAddTrack(pc, track, receiver, [stream]);\n        });\n      }\n    });\n    receiverList.forEach(function(item) {\n      if (item[2]) {\n        return;\n      }\n      fireAddTrack(pc, item[0], item[1], []);\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(pc && pc.transceivers)) {\n        return;\n      }\n      pc.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._isClosed = true;\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this._dispatchEvent('signalingstatechange', event);\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var pc = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (pc.needNegotiation) {\n        pc.needNegotiation = false;\n        var event = new Event('negotiationneeded');\n        pc._dispatchEvent('negotiationneeded', event);\n      }\n    }, 0);\n  };\n\n  // Update the ice connection state.\n  RTCPeerConnection.prototype._updateIceConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.iceTransport && !transceiver.rejected) {\n        states[transceiver.iceTransport.state]++;\n      }\n    });\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.checking > 0) {\n      newState = 'checking';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    } else if (states.completed > 0) {\n      newState = 'completed';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this._dispatchEvent('iceconnectionstatechange', event);\n    }\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.iceTransport && transceiver.dtlsTransport &&\n          !transceiver.rejected) {\n        states[transceiver.iceTransport.state]++;\n        states[transceiver.dtlsTransport.state]++;\n      }\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.connectionState) {\n      this.connectionState = newState;\n      var event = new Event('connectionstatechange');\n      this._dispatchEvent('connectionstatechange', event);\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createOffer after close'));\n    }\n\n    var numAudioTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    var offerOptions = arguments[0];\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    pc.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        pc._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        pc._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = transceiver.mid || SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n            pc.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n\n        // for subsequent offers, we might have to re-use the payload\n        // type of the last offer.\n        if (transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.codecs) {\n          transceiver.remoteCapabilities.codecs.forEach(function(remoteCodec) {\n            if (codec.name.toLowerCase() === remoteCodec.name.toLowerCase() &&\n                codec.clockRate === remoteCodec.clockRate) {\n              codec.preferredPayloadType = remoteCodec.payloadType;\n            }\n          });\n        }\n      });\n      localCapabilities.headerExtensions.forEach(function(hdrExt) {\n        var remoteExtensions = transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.headerExtensions || [];\n        remoteExtensions.forEach(function(rHdrExt) {\n          if (hdrExt.uri === rHdrExt.uri) {\n            hdrExt.id = rHdrExt.id;\n          }\n        });\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (pc._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, pc._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && pc.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !pc.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer after close'));\n    }\n\n    if (!(pc.signalingState === 'have-remote-offer' ||\n        pc.signalingState === 'have-local-pranswer')) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer in signalingState ' + pc.signalingState));\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    if (pc.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    var mediaSectionsInOffer = SDPUtils.getMediaSections(\n        pc._remoteDescription.sdp).length;\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.rejected) {\n        if (transceiver.kind === 'application') {\n          if (transceiver.protocol === 'DTLS/SCTP') { // legacy fmt\n            sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n';\n          } else {\n            sdp += 'm=application 0 ' + transceiver.protocol +\n                ' webrtc-datachannel\\r\\n';\n          }\n        } else if (transceiver.kind === 'audio') {\n          sdp += 'm=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\n' +\n              'a=rtpmap:0 PCMU/8000\\r\\n';\n        } else if (transceiver.kind === 'video') {\n          sdp += 'm=video 0 UDP/TLS/RTP/SAVPF 120\\r\\n' +\n              'a=rtpmap:120 VP8/90000\\r\\n';\n        }\n        sdp += 'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=inactive\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, pc._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var pc = this;\n    var sections;\n    if (candidate && !(candidate.sdpMLineIndex !== undefined ||\n        candidate.sdpMid)) {\n      return Promise.reject(new TypeError('sdpMLineIndex or sdpMid required'));\n    }\n\n    // TODO: needs to go into ops queue.\n    return new Promise(function(resolve, reject) {\n      if (!pc._remoteDescription) {\n        return reject(makeError('InvalidStateError',\n            'Can not add ICE candidate without a remote description'));\n      } else if (!candidate || candidate.candidate === '') {\n        for (var j = 0; j < pc.transceivers.length; j++) {\n          if (pc.transceivers[j].rejected) {\n            continue;\n          }\n          pc.transceivers[j].iceTransport.addRemoteCandidate({});\n          sections = SDPUtils.getMediaSections(pc._remoteDescription.sdp);\n          sections[j] += 'a=end-of-candidates\\r\\n';\n          pc._remoteDescription.sdp =\n              SDPUtils.getDescription(pc._remoteDescription.sdp) +\n              sections.join('');\n          if (pc.usingBundle) {\n            break;\n          }\n        }\n      } else {\n        var sdpMLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < pc.transceivers.length; i++) {\n            if (pc.transceivers[i].mid === candidate.sdpMid) {\n              sdpMLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        if (transceiver) {\n          if (transceiver.rejected) {\n            return resolve();\n          }\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return resolve();\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component && cand.component !== 1) {\n            return resolve();\n          }\n          // when using bundle, avoid adding candidates to the wrong\n          // ice transport. And avoid adding candidates added in the SDP.\n          if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n              transceiver.iceTransport !== pc.transceivers[0].iceTransport)) {\n            if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n              return reject(makeError('OperationError',\n                  'Can not add ICE candidate'));\n            }\n          }\n\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.getMediaSections(pc._remoteDescription.sdp);\n          sections[sdpMLineIndex] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          pc._remoteDescription.sdp =\n              SDPUtils.getDescription(pc._remoteDescription.sdp) +\n              sections.join('');\n        } else {\n          return reject(makeError('OperationError',\n              'Can not add ICE candidate'));\n        }\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function(selector) {\n    if (selector && selector instanceof window.MediaStreamTrack) {\n      var senderOrReceiver = null;\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.rtpSender &&\n            transceiver.rtpSender.track === selector) {\n          senderOrReceiver = transceiver.rtpSender;\n        } else if (transceiver.rtpReceiver &&\n            transceiver.rtpReceiver.track === selector) {\n          senderOrReceiver = transceiver.rtpReceiver;\n        }\n      });\n      if (!senderOrReceiver) {\n        throw makeError('InvalidAccessError', 'Invalid selector.');\n      }\n      return senderOrReceiver.getStats();\n    }\n\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    return Promise.all(promises).then(function(allStats) {\n      var results = new Map();\n      allStats.forEach(function(stats) {\n        stats.forEach(function(stat) {\n          results.set(stat.id, stat);\n        });\n      });\n      return results;\n    });\n  };\n\n  // fix low-level stat names and return Map instead of object.\n  var ortcObjects = ['RTCRtpSender', 'RTCRtpReceiver', 'RTCIceGatherer',\n    'RTCIceTransport', 'RTCDtlsTransport'];\n  ortcObjects.forEach(function(ortcObjectName) {\n    var obj = window[ortcObjectName];\n    if (obj && obj.prototype && obj.prototype.getStats) {\n      var nativeGetstats = obj.prototype.getStats;\n      obj.prototype.getStats = function() {\n        return nativeGetstats.apply(this)\n        .then(function(nativeStats) {\n          var mapStats = new Map();\n          Object.keys(nativeStats).forEach(function(id) {\n            nativeStats[id].type = fixStatsType(nativeStats[id]);\n            mapStats.set(id, nativeStats[id]);\n          });\n          return mapStats;\n        });\n      };\n    }\n  });\n\n  // legacy callback shims. Should be moved to adapter.js some days.\n  var methods = ['createOffer', 'createAnswer'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[0] === 'function' ||\n          typeof args[1] === 'function') { // legacy\n        return nativeMethod.apply(this, [arguments[2]])\n        .then(function(description) {\n          if (typeof args[0] === 'function') {\n            args[0].apply(null, [description]);\n          }\n        }, function(error) {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  methods = ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function' ||\n          typeof args[2] === 'function') { // legacy\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        }, function(error) {\n          if (typeof args[2] === 'function') {\n            args[2].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  // getStats is special. It doesn't have a spec legacy method yet we support\n  // getStats(something, cb) without error callbacks.\n  ['getStats'].forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function') {\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  return RTCPeerConnection;\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nexport function shimGetUserMedia(window) {\n  const navigator = window && window.navigator;\n\n  const shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  const origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(e => Promise.reject(shimError_(e)));\n  };\n}\n","/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nexport function shimGetDisplayMedia(window) {\n  if (!('getDisplayMedia' in window.navigator)) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    window.navigator.getDisplayMedia.bind(window.navigator);\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\nimport {filterIceServers} from './filtericeservers';\nimport shimRTCPeerConnection from 'rtcpeerconnection-shim';\n\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimPeerConnection(window) {\n  const browserDetails = utils.detectBrowser(window);\n\n  if (window.RTCIceGatherer) {\n    if (!window.RTCIceCandidate) {\n      window.RTCIceCandidate = function RTCIceCandidate(args) {\n        return args;\n      };\n    }\n    if (!window.RTCSessionDescription) {\n      window.RTCSessionDescription = function RTCSessionDescription(args) {\n        return args;\n      };\n    }\n    // this adds an additional event listener to MediaStrackTrack that signals\n    // when a tracks enabled property was changed. Workaround for a bug in\n    // addStream, see below. No longer required in 15025+\n    if (browserDetails.version < 15025) {\n      const origMSTEnabled = Object.getOwnPropertyDescriptor(\n          window.MediaStreamTrack.prototype, 'enabled');\n      Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n        set(value) {\n          origMSTEnabled.set.call(this, value);\n          const ev = new Event('enabled');\n          ev.enabled = value;\n          this.dispatchEvent(ev);\n        }\n      });\n    }\n  }\n\n  // ORTC defines the DTMF sender a bit different.\n  // https://github.com/w3c/ortc/issues/714\n  if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = new window.RTCDtmfSender(this);\n          } else if (this.track.kind === 'video') {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n  // Edge currently only implements the RTCDtmfSender, not the\n  // RTCDTMFSender alias. See http://draft.ortc.org/#rtcdtmfsender2*\n  if (window.RTCDtmfSender && !window.RTCDTMFSender) {\n    window.RTCDTMFSender = window.RTCDtmfSender;\n  }\n\n  const RTCPeerConnectionShim = shimRTCPeerConnection(window,\n      browserDetails.version);\n  window.RTCPeerConnection = function RTCPeerConnection(config) {\n    if (config && config.iceServers) {\n      config.iceServers = filterIceServers(config.iceServers,\n        browserDetails.version);\n      utils.log('ICE servers after filtering:', config.iceServers);\n    }\n    return new RTCPeerConnectionShim(config);\n  };\n  window.RTCPeerConnection.prototype = RTCPeerConnectionShim.prototype;\n}\n\nexport function shimReplaceTrack(window) {\n  // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n  if (window.RTCRtpSender &&\n      !('replaceTrack' in window.RTCRtpSender.prototype)) {\n    window.RTCRtpSender.prototype.replaceTrack =\n        window.RTCRtpSender.prototype.setTrack;\n  }\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\n\nexport function shimGetUserMedia(window) {\n  const browserDetails = utils.detectBrowser(window);\n  const navigator = window && window.navigator;\n  const MediaStreamTrack = window && window.MediaStreamTrack;\n\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    const remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    const nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      const nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        const obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      const nativeApplyConstraints =\n        MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}\n","/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nexport function shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    function getDisplayMedia(constraints) {\n      if (!(constraints && constraints.video)) {\n        const err = new DOMException('getDisplayMedia without video ' +\n            'constraints is undefined');\n        err.name = 'NotFoundError';\n        // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n        err.code = 8;\n        return Promise.reject(err);\n      }\n      if (constraints.video === true) {\n        constraints.video = {mediaSource: preferredMediaSource};\n      } else {\n        constraints.video.mediaSource = preferredMediaSource;\n      }\n      return window.navigator.mediaDevices.getUserMedia(constraints);\n    };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      ('receiver' in window.RTCTrackEvent.prototype) &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nexport function shimPeerConnection(window) {\n  const browserDetails = utils.detectBrowser(window);\n\n  if (typeof window !== 'object' ||\n      !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n    return; // probably media.peerconnection.enabled=false in about:config\n  }\n  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n  }\n\n  if (browserDetails.version < 53) {\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          const nativeMethod = window.RTCPeerConnection.prototype[method];\n          const methodObj = {[method]() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          }};\n          window.RTCPeerConnection.prototype[method] = methodObj[method];\n        });\n  }\n\n  // support for addIceCandidate(null or undefined)\n  // as well as ignoring {sdpMid, candidate: \"\"}\n  if (browserDetails.version < 68) {\n    const nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate =\n    function addIceCandidate() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n      // in older versions.\n      if (arguments[0] && arguments[0].candidate === '') {\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n\n  const modernStatsTypes = {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  };\n\n  const nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n    return nativeGetStats.apply(this, [selector || null])\n      .then(stats => {\n        if (browserDetails.version < 53 && !onSucc) {\n          // Shim only promise getStats with spec-hyphens in type names\n          // Leave callback version alone; misc old uses of forEach before Map\n          try {\n            stats.forEach(stat => {\n              stat.type = modernStatsTypes[stat.type] || stat.type;\n            });\n          } catch (e) {\n            if (e.name !== 'TypeError') {\n              throw e;\n            }\n            // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n            stats.forEach((stat, i) => {\n              stats.set(i, Object.assign({}, stat, {\n                type: modernStatsTypes[stat.type] || stat.type\n              }));\n            });\n          }\n        }\n        return stats;\n      })\n      .then(onSucc, onErr);\n  };\n}\n\nexport function shimSenderGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n    return;\n  }\n  const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n  if (origGetSenders) {\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n  }\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  if (origAddTrack) {\n    window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n      const sender = origAddTrack.apply(this, arguments);\n      sender._pc = this;\n      return sender;\n    };\n  }\n  window.RTCRtpSender.prototype.getStats = function getStats() {\n    return this.track ? this._pc.getStats(this.track) :\n        Promise.resolve(new Map());\n  };\n}\n\nexport function shimReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n    return;\n  }\n  const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n  if (origGetReceivers) {\n    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n      const receivers = origGetReceivers.apply(this, []);\n      receivers.forEach(receiver => receiver._pc = this);\n      return receivers;\n    };\n  }\n  utils.wrapPeerConnectionEvent(window, 'track', e => {\n    e.receiver._pc = e.srcElement;\n    return e;\n  });\n  window.RTCRtpReceiver.prototype.getStats = function getStats() {\n    return this._pc.getStats(this.track);\n  };\n}\n\nexport function shimRemoveStream(window) {\n  if (!window.RTCPeerConnection ||\n      'removeStream' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(sender => {\n        if (sender.track && stream.getTracks().includes(sender.track)) {\n          this.removeTrack(sender);\n        }\n      });\n    };\n}\n\nexport function shimRTCDataChannel(window) {\n  // rename DataChannel to RTCDataChannel (native fix in FF60):\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n  if (window.DataChannel && !window.RTCDataChannel) {\n    window.RTCDataChannel = window.DataChannel;\n  }\n}\n\nexport function shimAddTransceiver(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n  if (origAddTransceiver) {\n    window.RTCPeerConnection.prototype.addTransceiver =\n      function addTransceiver() {\n        this.setParametersPromises = [];\n        const initParameters = arguments[1];\n        const shouldPerformCheck = initParameters &&\n                                  'sendEncodings' in initParameters;\n        if (shouldPerformCheck) {\n          // If sendEncodings params are provided, validate grammar\n          initParameters.sendEncodings.forEach((encodingParam) => {\n            if ('rid' in encodingParam) {\n              const ridRegex = /^[a-z0-9]{0,16}$/i;\n              if (!ridRegex.test(encodingParam.rid)) {\n                throw new TypeError('Invalid RID value provided.');\n              }\n            }\n            if ('scaleResolutionDownBy' in encodingParam) {\n              if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n                throw new RangeError('scale_resolution_down_by must be >= 1.0');\n              }\n            }\n            if ('maxFramerate' in encodingParam) {\n              if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n                throw new RangeError('max_framerate must be >= 0.0');\n              }\n            }\n          });\n        }\n        const transceiver = origAddTransceiver.apply(this, arguments);\n        if (shouldPerformCheck) {\n          // Check if the init options were applied. If not we do this in an\n          // asynchronous way and save the promise reference in a global object.\n          // This is an ugly hack, but at the same time is way more robust than\n          // checking the sender parameters before and after the createOffer\n          // Also note that after the createoffer we are not 100% sure that\n          // the params were asynchronously applied so we might miss the\n          // opportunity to recreate offer.\n          const {sender} = transceiver;\n          const params = sender.getParameters();\n          if (!('encodings' in params)) {\n            params.encodings = initParameters.sendEncodings;\n            this.setParametersPromises.push(\n              sender.setParameters(params)\n              .catch(() => {})\n            );\n          }\n        }\n        return transceiver;\n      };\n  }\n}\n\nexport function shimCreateOffer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n      .then(() => {\n        return origCreateOffer.apply(this, arguments);\n      })\n      .finally(() => {\n        this.setParametersPromises = [];\n      });\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\n\nexport function shimCreateAnswer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n      .then(() => {\n        return origCreateAnswer.apply(this, arguments);\n      })\n      .finally(() => {\n        this.setParametersPromises = [];\n      });\n    }\n    return origCreateAnswer.apply(this, arguments);\n  };\n}","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nimport * as utils from '../utils';\n\nexport function shimLocalStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getLocalStreams =\n      function getLocalStreams() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n  }\n  if (!('addStream' in window.RTCPeerConnection.prototype)) {\n    const _addTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      if (!this._localStreams.includes(stream)) {\n        this._localStreams.push(stream);\n      }\n      // Try to emulate Chrome's behaviour of adding in audio-video order.\n      // Safari orders by track id.\n      stream.getAudioTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n      stream.getVideoTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n    };\n\n    window.RTCPeerConnection.prototype.addTrack =\n      function addTrack(track) {\n        const stream = arguments[1];\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (!this._localStreams.includes(stream)) {\n            this._localStreams.push(stream);\n          }\n        }\n        return _addTrack.apply(this, arguments);\n      };\n  }\n  if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        const index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        const tracks = stream.getTracks();\n        this.getSenders().forEach(sender => {\n          if (tracks.includes(sender.track)) {\n            this.removeTrack(sender);\n          }\n        });\n      };\n  }\n}\n\nexport function shimRemoteStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getRemoteStreams =\n      function getRemoteStreams() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n  }\n  if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n      get() {\n        return this._onaddstream;\n      },\n      set(f) {\n        if (this._onaddstream) {\n          this.removeEventListener('addstream', this._onaddstream);\n          this.removeEventListener('track', this._onaddstreampoly);\n        }\n        this.addEventListener('addstream', this._onaddstream = f);\n        this.addEventListener('track', this._onaddstreampoly = (e) => {\n          e.streams.forEach(stream => {\n            if (!this._remoteStreams) {\n              this._remoteStreams = [];\n            }\n            if (this._remoteStreams.includes(stream)) {\n              return;\n            }\n            this._remoteStreams.push(stream);\n            const event = new Event('addstream');\n            event.stream = stream;\n            this.dispatchEvent(event);\n          });\n        });\n      }\n    });\n    const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        const pc = this;\n        if (!this._onaddstreampoly) {\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(stream => {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              const event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n  }\n}\n\nexport function shimCallbacksAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  const prototype = window.RTCPeerConnection.prototype;\n  const origCreateOffer = prototype.createOffer;\n  const origCreateAnswer = prototype.createAnswer;\n  const setLocalDescription = prototype.setLocalDescription;\n  const setRemoteDescription = prototype.setRemoteDescription;\n  const addIceCandidate = prototype.addIceCandidate;\n\n  prototype.createOffer =\n    function createOffer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  prototype.createAnswer =\n    function createAnswer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  let withCallback = function(description, successCallback, failureCallback) {\n    const promise = setLocalDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setLocalDescription = withCallback;\n\n  withCallback = function(description, successCallback, failureCallback) {\n    const promise = setRemoteDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setRemoteDescription = withCallback;\n\n  withCallback = function(candidate, successCallback, failureCallback) {\n    const promise = addIceCandidate.apply(this, [candidate]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.addIceCandidate = withCallback;\n}\n\nexport function shimGetUserMedia(window) {\n  const navigator = window && window.navigator;\n\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    // shim not needed in Safari 12.1\n    const mediaDevices = navigator.mediaDevices;\n    const _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);\n    navigator.mediaDevices.getUserMedia = (constraints) => {\n      return _getUserMedia(shimConstraints(constraints));\n    };\n  }\n\n  if (!navigator.getUserMedia && navigator.mediaDevices &&\n    navigator.mediaDevices.getUserMedia) {\n    navigator.getUserMedia = function getUserMedia(constraints, cb, errcb) {\n      navigator.mediaDevices.getUserMedia(constraints)\n      .then(cb, errcb);\n    }.bind(navigator);\n  }\n}\n\nexport function shimConstraints(constraints) {\n  if (constraints && constraints.video !== undefined) {\n    return Object.assign({},\n      constraints,\n      {video: utils.compactObject(constraints.video)}\n    );\n  }\n\n  return constraints;\n}\n\nexport function shimRTCIceServerUrls(window) {\n  // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n  const OrigPeerConnection = window.RTCPeerConnection;\n  window.RTCPeerConnection =\n    function RTCPeerConnection(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        const newIceServers = [];\n        for (let i = 0; i < pcConfig.iceServers.length; i++) {\n          let server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n  window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n  // wrap static methods. Currently just generateCertificate.\n  if ('generateCertificate' in window.RTCPeerConnection) {\n    Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n      get() {\n        return OrigPeerConnection.generateCertificate;\n      }\n    });\n  }\n}\n\nexport function shimTrackEventTransceiver(window) {\n  // Add event.transceiver member over deprecated event.receiver\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      'receiver' in window.RTCTrackEvent.prototype &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nexport function shimCreateOfferLegacy(window) {\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer =\n    function createOffer(offerOptions) {\n      if (offerOptions) {\n        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveAudio =\n            !!offerOptions.offerToReceiveAudio;\n        }\n        const audioTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'audio');\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          this.addTransceiver('audio');\n        }\n\n        if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveVideo =\n            !!offerOptions.offerToReceiveVideo;\n        }\n        const videoTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'video');\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('sendonly');\n            } else {\n              videoTransceiver.direction = 'sendonly';\n            }\n          } else if (videoTransceiver.direction === 'recvonly') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('inactive');\n            } else {\n              videoTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          this.addTransceiver('video');\n        }\n      }\n      return origCreateOffer.apply(this, arguments);\n    };\n}\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport SDPUtils from 'sdp';\nimport * as utils from './utils';\n\nexport function shimRTCIceCandidate(window) {\n  // foundation is arbitrarily chosen as an indicator for full support for\n  // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n  if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'foundation' in\n      window.RTCIceCandidate.prototype)) {\n    return;\n  }\n\n  const NativeRTCIceCandidate = window.RTCIceCandidate;\n  window.RTCIceCandidate = function RTCIceCandidate(args) {\n    // Remove the a= which shouldn't be part of the candidate string.\n    if (typeof args === 'object' && args.candidate &&\n        args.candidate.indexOf('a=') === 0) {\n      args = JSON.parse(JSON.stringify(args));\n      args.candidate = args.candidate.substr(2);\n    }\n\n    if (args.candidate && args.candidate.length) {\n      // Augment the native candidate with the parsed fields.\n      const nativeCandidate = new NativeRTCIceCandidate(args);\n      const parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      const augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function toJSON() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    }\n    return new NativeRTCIceCandidate(args);\n  };\n  window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', e => {\n    if (e.candidate) {\n      Object.defineProperty(e, 'candidate', {\n        value: new window.RTCIceCandidate(e.candidate),\n        writable: 'false'\n      });\n    }\n    return e;\n  });\n}\n\nexport function shimMaxMessageSize(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const browserDetails = utils.detectBrowser(window);\n\n  if (!('sctp' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n      get() {\n        return typeof this._sctp === 'undefined' ? null : this._sctp;\n      }\n    });\n  }\n\n  const sctpInDescription = function(description) {\n    if (!description || !description.sdp) {\n      return false;\n    }\n    const sections = SDPUtils.splitSections(description.sdp);\n    sections.shift();\n    return sections.some(mediaSection => {\n      const mLine = SDPUtils.parseMLine(mediaSection);\n      return mLine && mLine.kind === 'application'\n          && mLine.protocol.indexOf('SCTP') !== -1;\n    });\n  };\n\n  const getRemoteFirefoxVersion = function(description) {\n    // TODO: Is there a better solution for detecting Firefox?\n    const match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n    if (match === null || match.length < 2) {\n      return -1;\n    }\n    const version = parseInt(match[1], 10);\n    // Test for NaN (yes, this is ugly)\n    return version !== version ? -1 : version;\n  };\n\n  const getCanSendMaxMessageSize = function(remoteIsFirefox) {\n    // Every implementation we know can send at least 64 KiB.\n    // Note: Although Chrome is technically able to send up to 256 KiB, the\n    //       data does not reach the other peer reliably.\n    //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n    let canSendMaxMessageSize = 65536;\n    if (browserDetails.browser === 'firefox') {\n      if (browserDetails.version < 57) {\n        if (remoteIsFirefox === -1) {\n          // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n          // fragmentation.\n          canSendMaxMessageSize = 16384;\n        } else {\n          // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n          // messages. Thus, supporting ~2 GiB when sending.\n          canSendMaxMessageSize = 2147483637;\n        }\n      } else if (browserDetails.version < 60) {\n        // Currently, all FF >= 57 will reset the remote maximum message size\n        // to the default value when a data channel is created at a later\n        // stage. :(\n        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n        canSendMaxMessageSize =\n          browserDetails.version === 57 ? 65535 : 65536;\n      } else {\n        // FF >= 60 supports sending ~2 GiB\n        canSendMaxMessageSize = 2147483637;\n      }\n    }\n    return canSendMaxMessageSize;\n  };\n\n  const getMaxMessageSize = function(description, remoteIsFirefox) {\n    // Note: 65536 bytes is the default value from the SDP spec. Also,\n    //       every implementation we know supports receiving 65536 bytes.\n    let maxMessageSize = 65536;\n\n    // FF 57 has a slightly incorrect default remote max message size, so\n    // we need to adjust it here to avoid a failure when sending.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n    if (browserDetails.browser === 'firefox'\n         && browserDetails.version === 57) {\n      maxMessageSize = 65535;\n    }\n\n    const match = SDPUtils.matchPrefix(description.sdp,\n      'a=max-message-size:');\n    if (match.length > 0) {\n      maxMessageSize = parseInt(match[0].substr(19), 10);\n    } else if (browserDetails.browser === 'firefox' &&\n                remoteIsFirefox !== -1) {\n      // If the maximum message size is not present in the remote SDP and\n      // both local and remote are Firefox, the remote peer can receive\n      // ~2 GiB.\n      maxMessageSize = 2147483637;\n    }\n    return maxMessageSize;\n  };\n\n  const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n    function setRemoteDescription() {\n      this._sctp = null;\n      // Chrome decided to not expose .sctp in plan-b mode.\n      // As usual, adapter.js has to do an 'ugly worakaround'\n      // to cover up the mess.\n      if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {\n        const {sdpSemantics} = this.getConfiguration();\n        if (sdpSemantics === 'plan-b') {\n          Object.defineProperty(this, 'sctp', {\n            get() {\n              return typeof this._sctp === 'undefined' ? null : this._sctp;\n            },\n            enumerable: true,\n            configurable: true,\n          });\n        }\n      }\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        const isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        const canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        const remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        let maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        const sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get() {\n            return maxMessageSize;\n          }\n        });\n        this._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(this, arguments);\n    };\n}\n\nexport function shimSendThrowTypeError(window) {\n  if (!(window.RTCPeerConnection &&\n      'createDataChannel' in window.RTCPeerConnection.prototype)) {\n    return;\n  }\n\n  // Note: Although Firefox >= 57 has a native implementation, the maximum\n  //       message size can be reset for all data channels at a later stage.\n  //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n  function wrapDcSend(dc, pc) {\n    const origDataChannelSend = dc.send;\n    dc.send = function send() {\n      const data = arguments[0];\n      const length = data.length || data.size || data.byteLength;\n      if (dc.readyState === 'open' &&\n          pc.sctp && length > pc.sctp.maxMessageSize) {\n        throw new TypeError('Message too large (can send a maximum of ' +\n          pc.sctp.maxMessageSize + ' bytes)');\n      }\n      return origDataChannelSend.apply(dc, arguments);\n    };\n  }\n  const origCreateDataChannel =\n    window.RTCPeerConnection.prototype.createDataChannel;\n  window.RTCPeerConnection.prototype.createDataChannel =\n    function createDataChannel() {\n      const dataChannel = origCreateDataChannel.apply(this, arguments);\n      wrapDcSend(dataChannel, this);\n      return dataChannel;\n    };\n  utils.wrapPeerConnectionEvent(window, 'datachannel', e => {\n    wrapDcSend(e.channel, e.target);\n    return e;\n  });\n}\n\n\n/* shims RTCConnectionState by pretending it is the same as iceConnectionState.\n * See https://bugs.chromium.org/p/webrtc/issues/detail?id=6145#c12\n * for why this is a valid hack in Chrome. In Firefox it is slightly incorrect\n * since DTLS failures would be hidden. See\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1265827\n * for the Firefox tracking bug.\n */\nexport function shimConnectionState(window) {\n  if (!window.RTCPeerConnection ||\n      'connectionState' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  Object.defineProperty(proto, 'connectionState', {\n    get() {\n      return {\n        completed: 'connected',\n        checking: 'connecting'\n      }[this.iceConnectionState] || this.iceConnectionState;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(proto, 'onconnectionstatechange', {\n    get() {\n      return this._onconnectionstatechange || null;\n    },\n    set(cb) {\n      if (this._onconnectionstatechange) {\n        this.removeEventListener('connectionstatechange',\n            this._onconnectionstatechange);\n        delete this._onconnectionstatechange;\n      }\n      if (cb) {\n        this.addEventListener('connectionstatechange',\n            this._onconnectionstatechange = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ['setLocalDescription', 'setRemoteDescription'].forEach((method) => {\n    const origMethod = proto[method];\n    proto[method] = function() {\n      if (!this._connectionstatechangepoly) {\n        this._connectionstatechangepoly = e => {\n          const pc = e.target;\n          if (pc._lastConnectionState !== pc.connectionState) {\n            pc._lastConnectionState = pc.connectionState;\n            const newEvent = new Event('connectionstatechange', e);\n            pc.dispatchEvent(newEvent);\n          }\n          return e;\n        };\n        this.addEventListener('iceconnectionstatechange',\n          this._connectionstatechangepoly);\n      }\n      return origMethod.apply(this, arguments);\n    };\n  });\n}\n\nexport function removeAllowExtmapMixed(window) {\n  /* remove a=extmap-allow-mixed for Chrome < M71 */\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const browserDetails = utils.detectBrowser(window);\n  if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) {\n    return;\n  }\n  const nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n  function setRemoteDescription(desc) {\n    if (desc && desc.sdp && desc.sdp.indexOf('\\na=extmap-allow-mixed') !== -1) {\n      desc.sdp = desc.sdp.split('\\n').filter((line) => {\n        return line.trim() !== 'a=extmap-allow-mixed';\n      }).join('\\n');\n    }\n    return nativeSRD.apply(this, arguments);\n  };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\nimport * as utils from './utils';\n\n  // Browser shims.\nimport * as chromeShim from './chrome/chrome_shim';\nimport * as edgeShim from './edge/edge_shim';\nimport * as firefoxShim from './firefox/firefox_shim';\nimport * as safariShim from './safari/safari_shim';\nimport * as commonShim from './common_shim';\n\n// Shimming starts here.\nexport function adapterFactory({window} = {}, options = {\n  shimChrome: true,\n  shimFirefox: true,\n  shimEdge: true,\n  shimSafari: true,\n}) {\n  // Utils.\n  const logging = utils.log;\n  const browserDetails = utils.detectBrowser(window);\n\n  const adapter = {\n    browserDetails,\n    commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n      chromeShim.shimGetStats(window);\n      chromeShim.shimSenderReceiverGetStats(window);\n      chromeShim.fixNegotiationNeeded(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimConnectionState(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      commonShim.removeAllowExtmapMixed(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n      firefoxShim.shimRemoveStream(window);\n      firefoxShim.shimSenderGetStats(window);\n      firefoxShim.shimReceiverGetStats(window);\n      firefoxShim.shimRTCDataChannel(window);\n      firefoxShim.shimAddTransceiver(window);\n      firefoxShim.shimCreateOffer(window);\n      firefoxShim.shimCreateAnswer(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimConnectionState(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimGetDisplayMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCreateOfferLegacy(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      commonShim.removeAllowExtmapMixed(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n'use strict';\n\nimport {adapterFactory} from './adapter_factory.js';\n\nconst adapter = adapterFactory({window});\nexport default adapter;\n","import webRTCAdapter from \"webrtc-adapter\";\n\nexport { webRTCAdapter };\n","import { webRTCAdapter } from './adapter';\n\nexport const Supports = new class {\n  readonly isIOS = ['iPad', 'iPhone', 'iPod'].includes(navigator.platform);\n  readonly supportedBrowsers = ['firefox', 'chrome', 'safari'];\n\n  readonly minFirefoxVersion = 59;\n  readonly minChromeVersion = 72;\n  readonly minSafariVersion = 605;\n\n  isWebRTCSupported(): boolean {\n    return typeof RTCPeerConnection !== 'undefined';\n  };\n\n  isBrowserSupported(): boolean {\n    const browser = this.getBrowser();\n    const version = this.getVersion();\n\n    const validBrowser = this.supportedBrowsers.includes(browser);\n\n    if (!validBrowser) return false;\n\n    if (browser === 'chrome') return version >= this.minChromeVersion;\n    if (browser === 'firefox') return version >= this.minFirefoxVersion;\n    if (browser === 'safari') return !this.isIOS && version >= this.minSafariVersion;\n\n    return false;\n  }\n\n  getBrowser(): string {\n    return webRTCAdapter.browserDetails.browser;\n  }\n\n  getVersion(): number {\n    return webRTCAdapter.browserDetails.version || 0;\n  }\n\n  isUnifiedPlanSupported(): boolean {\n    const browser = this.getBrowser();\n    const version = webRTCAdapter.browserDetails.version || 0;\n\n    if (browser === 'chrome' && version < 72) return false;\n    if (browser === 'firefox' && version >= 59) return true;\n    if (!window.RTCRtpTransceiver || !('currentDirection' in RTCRtpTransceiver.prototype)) return false;\n\n    let tempPc: RTCPeerConnection;\n    let supported = false;\n\n    try {\n      tempPc = new RTCPeerConnection();\n      tempPc.addTransceiver('audio');\n      supported = true;\n    } catch (e) { }\n    finally {\n      if (tempPc) {\n        tempPc.close();\n      }\n    }\n\n    return supported;\n  }\n\n  toString(): string {\n    return `Supports: \n    browser:${this.getBrowser()} \n    version:${this.getVersion()} \n    isIOS:${this.isIOS} \n    isWebRTCSupported:${this.isWebRTCSupported()} \n    isBrowserSupported:${this.isBrowserSupported()} \n    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`;\n  }\n}","import * as BinaryPack from \"peerjs-js-binarypack\";\nimport { Supports } from './supports';\nimport { UtilSupportsObj } from '..';\n\nconst DEFAULT_CONFIG = {\n  iceServers: [\n    { urls: \"stun:stun.l.google.com:19302\" },\n    { urls: \"turn:0.peerjs.com:3478\", username: \"peerjs\", credential: \"peerjsp\" }\n  ],\n  sdpSemantics: \"unified-plan\"\n};\n\nexport const util = new class {\n  noop(): void { }\n\n  readonly CLOUD_HOST = \"0.peerjs.com\";\n  readonly CLOUD_PORT = 443;\n\n  // Browsers that need chunking:\n  readonly chunkedBrowsers = { Chrome: 1, chrome: 1 };\n  readonly chunkedMTU = 16300; // The original 60000 bytes setting does not work when sending data from Firefox to Chrome, which is \"cut off\" after 16384 bytes and delivered individually.\n\n  // Returns browser-agnostic default config\n  readonly defaultConfig = DEFAULT_CONFIG;\n\n  readonly browser = Supports.getBrowser();\n  readonly browserVersion = Supports.getVersion();\n\n  // Lists which features are supported\n  readonly supports = (function () {\n    const supported: UtilSupportsObj = {\n      browser: Supports.isBrowserSupported(),\n      webRTC: Supports.isWebRTCSupported(),\n      audioVideo: false,\n      data: false,\n      binaryBlob: false,\n      reliable: false,\n    };\n\n    if (!supported.webRTC) return supported;\n\n    let pc: RTCPeerConnection;\n\n    try {\n      pc = new RTCPeerConnection(DEFAULT_CONFIG);\n\n      supported.audioVideo = true;\n\n      let dc: RTCDataChannel;\n\n      try {\n        dc = pc.createDataChannel(\"_PEERJSTEST\", { ordered: true });\n        supported.data = true;\n        supported.reliable = !!dc.ordered;\n\n        // Binary test\n        try {\n          dc.binaryType = \"blob\";\n          supported.binaryBlob = !Supports.isIOS;\n        } catch (e) {\n        }\n      } catch (e) {\n      } finally {\n        if (dc) {\n          dc.close();\n        }\n      }\n    } catch (e) {\n    } finally {\n      if (pc) {\n        pc.close();\n      }\n    }\n\n    return supported;\n  })();\n\n  // Ensure alphanumeric ids\n  validateId(id: string): boolean {\n    // Allow empty ids\n    return !id || /^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(id);\n  }\n\n  pack = BinaryPack.pack;\n  unpack = BinaryPack.unpack;\n\n  // Binary stuff\n\n  private _dataCount: number = 1;\n\n  chunk(blob: Blob): { __peerData: number, n: number, total: number, data: Blob }[] {\n    const chunks = [];\n    const size = blob.size;\n    const total = Math.ceil(size / util.chunkedMTU);\n\n    let index = 0;\n    let start = 0;\n\n    while (start < size) {\n      const end = Math.min(size, start + util.chunkedMTU);\n      const b = blob.slice(start, end);\n\n      const chunk = {\n        __peerData: this._dataCount,\n        n: index,\n        data: b,\n        total,\n      };\n\n      chunks.push(chunk);\n\n      start = end;\n      index++;\n    }\n\n    this._dataCount++;\n\n    return chunks;\n  }\n\n  blobToArrayBuffer(blob: Blob, cb: (arg: ArrayBuffer | null) => void): FileReader {\n    const fr = new FileReader();\n\n    fr.onload = function (evt) {\n      if (evt.target) {\n        cb(evt.target.result as ArrayBuffer);\n      }\n    };\n\n    fr.readAsArrayBuffer(blob);\n\n    return fr;\n  }\n\n  binaryStringToArrayBuffer(binary: string): ArrayBuffer | SharedArrayBuffer {\n    const byteArray = new Uint8Array(binary.length);\n\n    for (let i = 0; i < binary.length; i++) {\n      byteArray[i] = binary.charCodeAt(i) & 0xff;\n    }\n\n    return byteArray.buffer;\n  }\n\n  randomToken(): string {\n    return Math.random()\n      .toString(36)\n      .substr(2);\n  }\n\n  isSecure(): boolean {\n    return location.protocol === \"https:\";\n  }\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","const LOG_PREFIX = 'PeerJS: ';\n\n/*\nPrints log messages depending on the debug level passed in. Defaults to 0.\n0  Prints no logs.\n1  Prints only errors.\n2  Prints errors and warnings.\n3  Prints all logs.\n*/\nexport enum LogLevel {\n    Disabled,\n    Errors,\n    Warnings,\n    All\n}\n\nclass Logger {\n    private _logLevel = LogLevel.Disabled;\n\n    get logLevel(): LogLevel { return this._logLevel; }\n\n    set logLevel(logLevel: LogLevel) { this._logLevel = logLevel; }\n\n    log(...args: any[]) {\n        if (this._logLevel >= LogLevel.All) {\n            this._print(LogLevel.All, ...args);\n        }\n    }\n\n    warn(...args: any[]) {\n        if (this._logLevel >= LogLevel.Warnings) {\n            this._print(LogLevel.Warnings, ...args);\n        }\n    }\n\n    error(...args: any[]) {\n        if (this._logLevel >= LogLevel.Errors) {\n            this._print(LogLevel.Errors, ...args);\n        }\n    }\n\n    setLogFunction(fn: (logLevel: LogLevel, ..._: any[]) => void): void {\n        this._print = fn;\n    }\n\n    private _print(logLevel: LogLevel, ...rest: any[]): void {\n        const copy = [LOG_PREFIX, ...rest];\n\n        for (let i in copy) {\n            if (copy[i] instanceof Error) {\n                copy[i] = \"(\" + copy[i].name + \") \" + copy[i].message;\n\n            }\n        }\n\n        if (logLevel >= LogLevel.All) {\n            console.log(...copy);\n        } else if (logLevel >= LogLevel.Warnings) {\n            console.warn(\"WARNING\", ...copy);\n        } else if (logLevel >= LogLevel.Errors) {\n            console.error(\"ERROR\", ...copy);\n        }\n    }\n}\n\nexport default new Logger();","export enum ConnectionEventType {\n  Open = \"open\",\n  Stream = \"stream\",\n  Data = \"data\",\n  Close = \"close\",\n  Error = \"error\",\n  IceStateChanged = \"iceStateChanged\"\n}\n\nexport enum ConnectionType {\n  Data = \"data\",\n  Media = \"media\"\n}\n\nexport enum PeerEventType {\n  Open = \"open\",\n  Close = \"close\",\n  Connection = \"connection\",\n  Call = \"call\",\n  Disconnected = \"disconnected\",\n  Error = \"error\"\n}\n\nexport enum PeerErrorType {\n  BrowserIncompatible = \"browser-incompatible\",\n  Disconnected = \"disconnected\",\n  InvalidID = \"invalid-id\",\n  InvalidKey = \"invalid-key\",\n  Network = \"network\",\n  PeerUnavailable = \"peer-unavailable\",\n  SslUnavailable = \"ssl-unavailable\",\n  ServerError = \"server-error\",\n  SocketError = \"socket-error\",\n  SocketClosed = \"socket-closed\",\n  UnavailableID = \"unavailable-id\",\n  WebRTC = \"webrtc\"\n}\n\nexport enum SerializationType {\n  Binary = \"binary\",\n  BinaryUTF8 = \"binary-utf8\",\n  JSON = \"json\"\n}\n\nexport enum SocketEventType {\n  Message = \"message\",\n  Disconnected = \"disconnected\",\n  Error = \"error\",\n  Close = \"close\"\n}\n\nexport enum ServerMessageType {\n  Heartbeat = \"HEARTBEAT\",\n  Candidate = \"CANDIDATE\",\n  Offer = \"OFFER\",\n  Answer = \"ANSWER\",\n  Open = \"OPEN\", // The connection to the server is open.\n  Error = \"ERROR\", // Server error.\n  IdTaken = \"ID-TAKEN\", // The selected ID is taken.\n  InvalidKey = \"INVALID-KEY\", // The given API key cannot be found.\n  Leave = \"LEAVE\", // Another peer has closed its connection to this peer.\n  Expire = \"EXPIRE\" // The offer sent to a peer has expired without response.\n\n}","import { EventEmitter } from \"eventemitter3\";\nimport logger from \"./logger\";\nimport { SocketEventType, ServerMessageType } from \"./enums\";\n\n/**\n * An abstraction on top of WebSockets to provide fastest\n * possible connection for peers.\n */\nexport class Socket extends EventEmitter {\n  private _disconnected: boolean = true;\n  private _id?: string;\n  private _messagesQueue: Array<object> = [];\n  private _socket?: WebSocket;\n  private _wsPingTimer?: any;\n  private readonly _baseUrl: string;\n\n  constructor(\n    secure: any,\n    host: string,\n    port: number,\n    path: string,\n    key: string,\n    private readonly pingInterval: number = 5000,\n  ) {\n    super();\n\n    const wsProtocol = secure ? \"wss://\" : \"ws://\";\n\n    this._baseUrl = wsProtocol + host + \":\" + port + path + \"peerjs?key=\" + key;\n  }\n\n  start(id: string, token: string): void {\n    this._id = id;\n\n    const wsUrl = `${this._baseUrl}&id=${id}&token=${token}`;\n\n    if (!!this._socket || !this._disconnected) {\n      return;\n    }\n\n    this._socket = new WebSocket(wsUrl);\n    this._disconnected = false;\n\n    this._socket.onmessage = (event) => {\n      let data;\n\n      try {\n        data = JSON.parse(event.data);\n        logger.log(\"Server message received:\", data);\n      } catch (e) {\n        logger.log(\"Invalid server message\", event.data);\n        return;\n      }\n\n      this.emit(SocketEventType.Message, data);\n    };\n\n    this._socket.onclose = (event) => {\n      if (this._disconnected) {\n        return;\n      }\n\n      logger.log(\"Socket closed.\", event);\n\n      this._cleanup();\n      this._disconnected = true;\n\n      this.emit(SocketEventType.Disconnected);\n    };\n\n    // Take care of the queue of connections if necessary and make sure Peer knows\n    // socket is open.\n    this._socket.onopen = () => {\n      if (this._disconnected) {\n        return;\n      }\n\n      this._sendQueuedMessages();\n\n      logger.log(\"Socket open\");\n\n      this._scheduleHeartbeat();\n    };\n  }\n\n  private _scheduleHeartbeat(): void {\n    this._wsPingTimer = setTimeout(() => {\n      this._sendHeartbeat();\n    }, this.pingInterval);\n  }\n\n  private _sendHeartbeat(): void {\n    if (!this._wsOpen()) {\n      logger.log(`Cannot send heartbeat, because socket closed`);\n      return;\n    }\n\n    const message = JSON.stringify({ type: ServerMessageType.Heartbeat });\n\n    this._socket!.send(message);\n\n    this._scheduleHeartbeat();\n  }\n\n  /** Is the websocket currently open? */\n  private _wsOpen(): boolean {\n    return !!this._socket && this._socket.readyState === 1;\n  }\n\n  /** Send queued messages. */\n  private _sendQueuedMessages(): void {\n    //Create copy of queue and clear it,\n    //because send method push the message back to queue if smth will go wrong\n    const copiedQueue = [...this._messagesQueue];\n    this._messagesQueue = [];\n\n    for (const message of copiedQueue) {\n      this.send(message);\n    }\n  }\n\n  /** Exposed send for DC & Peer. */\n  send(data: any): void {\n    if (this._disconnected) {\n      return;\n    }\n\n    // If we didn't get an ID yet, we can't yet send anything so we should queue\n    // up these messages.\n    if (!this._id) {\n      this._messagesQueue.push(data);\n      return;\n    }\n\n    if (!data.type) {\n      this.emit(SocketEventType.Error, \"Invalid message\");\n      return;\n    }\n\n    if (!this._wsOpen()) {\n      return;\n    }\n\n    const message = JSON.stringify(data);\n\n    this._socket!.send(message);\n  }\n\n  close(): void {\n    if (this._disconnected) {\n      return;\n    }\n\n    this._cleanup();\n\n    this._disconnected = true;\n  }\n\n  private _cleanup(): void {\n    if (!!this._socket) {\n      this._socket.onopen = this._socket.onmessage = this._socket.onclose = null;\n      this._socket.close();\n      this._socket = undefined;\n    }\n\n    clearTimeout(this._wsPingTimer!);\n  }\n}\n","import { util } from \"./util\";\nimport logger from \"./logger\";\nimport { MediaConnection } from \"./mediaconnection\";\nimport { DataConnection } from \"./dataconnection\";\nimport { ConnectionType, PeerErrorType, ConnectionEventType, ServerMessageType } from \"./enums\";\nimport { BaseConnection } from \"./baseconnection\";\n\n/**\n * Manages all negotiations between Peers.\n */\nexport class Negotiator {\n  constructor(readonly connection: BaseConnection) { }\n\n  /** Returns a PeerConnection object set up correctly (for data, media). */\n  startConnection(options: any) {\n    const peerConnection = this._startPeerConnection();\n\n    // Set the connection's PC.\n    this.connection.peerConnection = peerConnection;\n\n    if (this.connection.type === ConnectionType.Media && options._stream) {\n      this._addTracksToConnection(options._stream, peerConnection);\n    }\n\n    // What do we need to do now?\n    if (options.originator) {\n      if (this.connection.type === ConnectionType.Data) {\n        const dataConnection = <DataConnection>this.connection;\n\n        const config: RTCDataChannelInit = { ordered: !!options.reliable };\n\n        const dataChannel = peerConnection.createDataChannel(\n          dataConnection.label,\n          config\n        );\n        dataConnection.initialize(dataChannel);\n      }\n\n      this._makeOffer();\n    } else {\n      this.handleSDP(\"OFFER\", options.sdp);\n    }\n  }\n\n  /** Start a PC. */\n  private _startPeerConnection(): RTCPeerConnection {\n    logger.log(\"Creating RTCPeerConnection.\");\n\n    const peerConnection = new RTCPeerConnection(this.connection.provider.options.config);\n\n    this._setupListeners(peerConnection);\n\n    return peerConnection;\n  }\n\n  /** Set up various WebRTC listeners. */\n  private _setupListeners(\n    peerConnection: RTCPeerConnection\n  ) {\n    const peerId = this.connection.peer;\n    const connectionId = this.connection.connectionId;\n    const connectionType = this.connection.type;\n    const provider = this.connection.provider;\n\n    // ICE CANDIDATES.\n    logger.log(\"Listening for ICE candidates.\");\n\n    peerConnection.onicecandidate = (evt) => {\n      if (!evt.candidate || !evt.candidate.candidate) return;\n\n      logger.log(`Received ICE candidates for ${peerId}:`, evt.candidate);\n\n      provider.socket.send({\n        type: ServerMessageType.Candidate,\n        payload: {\n          candidate: evt.candidate,\n          type: connectionType,\n          connectionId: connectionId\n        },\n        dst: peerId\n      });\n    };\n\n    peerConnection.oniceconnectionstatechange = () => {\n      switch (peerConnection.iceConnectionState) {\n        case \"failed\":\n          logger.log(\n            \"iceConnectionState is failed, closing connections to \" +\n            peerId\n          );\n          this.connection.emit(\n            ConnectionEventType.Error,\n            new Error(\"Negotiation of connection to \" + peerId + \" failed.\")\n          );\n          this.connection.close();\n          break;\n        case \"closed\":\n          logger.log(\n            \"iceConnectionState is closed, closing connections to \" +\n            peerId\n          );\n          this.connection.emit(\n            ConnectionEventType.Error,\n            new Error(\"Connection to \" + peerId + \" closed.\")\n          );\n          this.connection.close();\n          break;\n        case \"disconnected\":\n          logger.log(\n            \"iceConnectionState changed to disconnected on the connection with \" +\n            peerId\n          );\n          break;\n        case \"completed\":\n          peerConnection.onicecandidate = util.noop;\n          break;\n      }\n\n      this.connection.emit(ConnectionEventType.IceStateChanged, peerConnection.iceConnectionState);\n    };\n\n    // DATACONNECTION.\n    logger.log(\"Listening for data channel\");\n    // Fired between offer and answer, so options should already be saved\n    // in the options hash.\n    peerConnection.ondatachannel = (evt) => {\n      logger.log(\"Received data channel\");\n\n      const dataChannel = evt.channel;\n      const connection = <DataConnection>(\n        provider.getConnection(peerId, connectionId)\n      );\n\n      connection.initialize(dataChannel);\n    };\n\n    // MEDIACONNECTION.\n    logger.log(\"Listening for remote stream\");\n\n    peerConnection.ontrack = (evt) => {\n      logger.log(\"Received remote stream\");\n\n      const stream = evt.streams[0];\n      const connection = provider.getConnection(peerId, connectionId);\n\n      if (connection.type === ConnectionType.Media) {\n        const mediaConnection = <MediaConnection>connection;\n\n        this._addStreamToMediaConnection(stream, mediaConnection);\n      }\n    };\n  }\n\n  cleanup(): void {\n    logger.log(\"Cleaning up PeerConnection to \" + this.connection.peer);\n\n    const peerConnection = this.connection.peerConnection;\n\n    if (!peerConnection) {\n      return;\n    }\n\n    this.connection.peerConnection = null;\n\n    //unsubscribe from all PeerConnection's events\n    peerConnection.onicecandidate = peerConnection.oniceconnectionstatechange = peerConnection.ondatachannel = peerConnection.ontrack = () => { };\n\n    const peerConnectionNotClosed = peerConnection.signalingState !== \"closed\";\n    let dataChannelNotClosed = false;\n\n    if (this.connection.type === ConnectionType.Data) {\n      const dataConnection = <DataConnection>this.connection;\n      const dataChannel = dataConnection.dataChannel;\n\n      if (dataChannel) {\n        dataChannelNotClosed = !!dataChannel.readyState && dataChannel.readyState !== \"closed\";\n      }\n    }\n\n    if (peerConnectionNotClosed || dataChannelNotClosed) {\n      peerConnection.close();\n    }\n  }\n\n  private async _makeOffer(): Promise<void> {\n    const peerConnection = this.connection.peerConnection;\n    const provider = this.connection.provider;\n\n    try {\n      const offer = await peerConnection.createOffer(\n        this.connection.options.constraints\n      );\n\n      logger.log(\"Created offer.\");\n\n      if (this.connection.options.sdpTransform && typeof this.connection.options.sdpTransform === 'function') {\n        offer.sdp = this.connection.options.sdpTransform(offer.sdp) || offer.sdp;\n      }\n\n      try {\n        await peerConnection.setLocalDescription(offer);\n\n        logger.log(\"Set localDescription:\", offer, `for:${this.connection.peer}`);\n\n        let payload: any = {\n          sdp: offer,\n          type: this.connection.type,\n          connectionId: this.connection.connectionId,\n          metadata: this.connection.metadata,\n          browser: util.browser\n        };\n\n        if (this.connection.type === ConnectionType.Data) {\n          const dataConnection = <DataConnection>this.connection;\n\n          payload = {\n            ...payload,\n            label: dataConnection.label,\n            reliable: dataConnection.reliable,\n            serialization: dataConnection.serialization\n          };\n        }\n\n        provider.socket.send({\n          type: ServerMessageType.Offer,\n          payload,\n          dst: this.connection.peer\n        });\n      } catch (err) {\n        // TODO: investigate why _makeOffer is being called from the answer\n        if (\n          err !=\n          \"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer\"\n        ) {\n          provider.emitError(PeerErrorType.WebRTC, err);\n          logger.log(\"Failed to setLocalDescription, \", err);\n        }\n      }\n    } catch (err_1) {\n      provider.emitError(PeerErrorType.WebRTC, err_1);\n      logger.log(\"Failed to createOffer, \", err_1);\n    }\n  }\n\n  private async _makeAnswer(): Promise<void> {\n    const peerConnection = this.connection.peerConnection;\n    const provider = this.connection.provider;\n\n    try {\n      const answer = await peerConnection.createAnswer();\n      logger.log(\"Created answer.\");\n\n      if (this.connection.options.sdpTransform && typeof this.connection.options.sdpTransform === 'function') {\n        answer.sdp = this.connection.options.sdpTransform(answer.sdp) || answer.sdp;\n      }\n\n      try {\n        await peerConnection.setLocalDescription(answer);\n\n        logger.log(`Set localDescription:`, answer, `for:${this.connection.peer}`);\n\n        provider.socket.send({\n          type: ServerMessageType.Answer,\n          payload: {\n            sdp: answer,\n            type: this.connection.type,\n            connectionId: this.connection.connectionId,\n            browser: util.browser\n          },\n          dst: this.connection.peer\n        });\n      } catch (err) {\n        provider.emitError(PeerErrorType.WebRTC, err);\n        logger.log(\"Failed to setLocalDescription, \", err);\n      }\n    } catch (err_1) {\n      provider.emitError(PeerErrorType.WebRTC, err_1);\n      logger.log(\"Failed to create answer, \", err_1);\n    }\n  }\n\n  /** Handle an SDP. */\n  async handleSDP(\n    type: string,\n    sdp: any\n  ): Promise<void> {\n    sdp = new RTCSessionDescription(sdp);\n    const peerConnection = this.connection.peerConnection;\n    const provider = this.connection.provider;\n\n    logger.log(\"Setting remote description\", sdp);\n\n    const self = this;\n\n    try {\n      await peerConnection.setRemoteDescription(sdp);\n      logger.log(`Set remoteDescription:${type} for:${this.connection.peer}`);\n      if (type === \"OFFER\") {\n        await self._makeAnswer();\n      }\n    } catch (err) {\n      provider.emitError(PeerErrorType.WebRTC, err);\n      logger.log(\"Failed to setRemoteDescription, \", err);\n    }\n  }\n\n  /** Handle a candidate. */\n  async handleCandidate(ice: any): Promise<void> {\n    logger.log(`handleCandidate:`, ice);\n\n    const candidate = ice.candidate;\n    const sdpMLineIndex = ice.sdpMLineIndex;\n    const sdpMid = ice.sdpMid;\n    const peerConnection = this.connection.peerConnection;\n    const provider = this.connection.provider;\n\n    try {\n      await peerConnection.addIceCandidate(\n        new RTCIceCandidate({\n          sdpMid: sdpMid,\n          sdpMLineIndex: sdpMLineIndex,\n          candidate: candidate\n        })\n      );\n      logger.log(`Added ICE candidate for:${this.connection.peer}`);\n    } catch (err) {\n      provider.emitError(PeerErrorType.WebRTC, err);\n      logger.log(\"Failed to handleCandidate, \", err);\n    }\n  }\n\n  private _addTracksToConnection(\n    stream: MediaStream,\n    peerConnection: RTCPeerConnection\n  ): void {\n    logger.log(`add tracks from stream ${stream.id} to peer connection`);\n\n    if (!peerConnection.addTrack) {\n      return logger.error(\n        `Your browser does't support RTCPeerConnection#addTrack. Ignored.`\n      );\n    }\n\n    stream.getTracks().forEach(track => {\n      peerConnection.addTrack(track, stream);\n    });\n  }\n\n  private _addStreamToMediaConnection(\n    stream: MediaStream,\n    mediaConnection: MediaConnection\n  ): void {\n    logger.log(\n      `add stream ${stream.id} to media connection ${\n      mediaConnection.connectionId\n      }`\n    );\n\n    mediaConnection.addStream(stream);\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\nimport { Peer } from \"./peer\";\nimport { ServerMessage } from \"./servermessage\";\nimport { ConnectionType } from \"./enums\";\n\nexport abstract class BaseConnection extends EventEmitter {\n  protected _open = false;\n\n  readonly metadata: any;\n  connectionId: string;\n\n  peerConnection: RTCPeerConnection;\n\n  abstract get type(): ConnectionType;\n\n  get open() {\n    return this._open;\n  }\n\n  constructor(\n    readonly peer: string,\n    public provider: Peer,\n    readonly options: any\n  ) {\n    super();\n\n    this.metadata = options.metadata;\n  }\n\n  abstract close(): void;\n\n  abstract handleMessage(message: ServerMessage): void;\n}\n","import { util } from \"./util\";\nimport logger from \"./logger\";\nimport { Negotiator } from \"./negotiator\";\nimport { ConnectionType, ConnectionEventType, ServerMessageType } from \"./enums\";\nimport { Peer } from \"./peer\";\nimport { BaseConnection } from \"./baseconnection\";\nimport { ServerMessage } from \"./servermessage\";\nimport { AnswerOption } from \"..\";\n\n/**\n * Wraps the streaming interface between two Peers.\n */\nexport class MediaConnection extends BaseConnection {\n  private static readonly ID_PREFIX = \"mc_\";\n\n  private _negotiator: Negotiator;\n  private _localStream: MediaStream;\n  private _remoteStream: MediaStream;\n\n  get type() {\n    return ConnectionType.Media;\n  }\n\n  get localStream(): MediaStream { return this._localStream; }\n  get remoteStream(): MediaStream { return this._remoteStream; }\n\n  constructor(peerId: string, provider: Peer, options: any) {\n    super(peerId, provider, options);\n\n    this._localStream = this.options._stream;\n    this.connectionId =\n      this.options.connectionId ||\n      MediaConnection.ID_PREFIX + util.randomToken();\n\n    this._negotiator = new Negotiator(this);\n\n    if (this._localStream) {\n      this._negotiator.startConnection({\n        _stream: this._localStream,\n        originator: true\n      });\n    }\n  }\n\n  addStream(remoteStream) {\n    logger.log(\"Receiving stream\", remoteStream);\n\n    this._remoteStream = remoteStream;\n    super.emit(ConnectionEventType.Stream, remoteStream); // Should we call this `open`?\n  }\n\n  handleMessage(message: ServerMessage): void {\n    const type = message.type;\n    const payload = message.payload;\n\n    switch (message.type) {\n      case ServerMessageType.Answer:\n        // Forward to negotiator\n        this._negotiator.handleSDP(type, payload.sdp);\n        this._open = true;\n        break;\n      case ServerMessageType.Candidate:\n        this._negotiator.handleCandidate(payload.candidate);\n        break;\n      default:\n        logger.warn(`Unrecognized message type:${type} from peer:${this.peer}`);\n        break;\n    }\n  }\n\n  answer(stream: MediaStream, options: AnswerOption = {}): void {\n    if (this._localStream) {\n      logger.warn(\n        \"Local stream already exists on this MediaConnection. Are you answering a call twice?\"\n      );\n      return;\n    }\n\n    this._localStream = stream;\n\n    if (options && options.sdpTransform) {\n      this.options.sdpTransform = options.sdpTransform;\n    }\n\n    this._negotiator.startConnection({ ...this.options._payload, _stream: stream });\n    // Retrieve lost messages stored because PeerConnection not set up.\n    const messages = this.provider._getMessages(this.connectionId);\n\n    for (let message of messages) {\n      this.handleMessage(message);\n    }\n\n    this._open = true;\n  }\n\n  /**\n   * Exposed functionality for users.\n   */\n\n  /** Allows user to close connection. */\n  close(): void {\n    if (this._negotiator) {\n      this._negotiator.cleanup();\n      this._negotiator = null;\n    }\n\n    this._localStream = null;\n    this._remoteStream = null;\n\n    if (this.provider) {\n      this.provider._removeConnection(this);\n\n      this.provider = null;\n    }\n\n    if (this.options && this.options._stream) {\n      this.options._stream = null;\n    }\n\n    if (!this.open) {\n      return;\n    }\n\n    this._open = false;\n\n    super.emit(ConnectionEventType.Close);\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\nimport logger from \"./logger\";\n\nexport class EncodingQueue extends EventEmitter {\n  readonly fileReader: FileReader = new FileReader();\n\n  private _queue: Blob[] = [];\n  private _processing: boolean = false;\n\n  constructor() {\n    super();\n\n    this.fileReader.onload = (evt) => {\n      this._processing = false;\n\n      if (evt.target) {\n        this.emit('done', evt.target.result as ArrayBuffer);\n      }\n\n      this.doNextTask();\n    };\n\n    this.fileReader.onerror = (evt) => {\n      logger.error(`EncodingQueue error:`, evt);\n      this._processing = false;\n      this.destroy();\n      this.emit('error', evt);\n    }\n  }\n\n  get queue(): Blob[] {\n    return this._queue;\n  }\n\n  get size(): number {\n    return this.queue.length;\n  }\n\n  get processing(): boolean {\n    return this._processing;\n  }\n\n  enque(blob: Blob): void {\n    this.queue.push(blob);\n\n    if (this.processing) return;\n\n    this.doNextTask();\n  }\n\n  destroy(): void {\n    this.fileReader.abort();\n    this._queue = [];\n  }\n\n  private doNextTask(): void {\n    if (this.size === 0) return;\n    if (this.processing) return;\n\n    this._processing = true;\n\n    this.fileReader.readAsArrayBuffer(this.queue.shift());\n  }\n}","import { util } from \"./util\";\nimport logger from \"./logger\";\nimport { Negotiator } from \"./negotiator\";\nimport {\n  ConnectionType,\n  ConnectionEventType,\n  SerializationType,\n  ServerMessageType\n} from \"./enums\";\nimport { Peer } from \"./peer\";\nimport { BaseConnection } from \"./baseconnection\";\nimport { ServerMessage } from \"./servermessage\";\nimport { EncodingQueue } from './encodingQueue';\nimport { DataConnection as IDataConnection } from '../index';\n\n/**\n * Wraps a DataChannel between two Peers.\n */\nexport class DataConnection extends BaseConnection implements IDataConnection {\n  private static readonly ID_PREFIX = \"dc_\";\n  private static readonly MAX_BUFFERED_AMOUNT = 8 * 1024 * 1024;\n\n  private _negotiator: Negotiator;\n  readonly label: string;\n  readonly serialization: SerializationType;\n  readonly reliable: boolean;\n  stringify: (data: any) => string = JSON.stringify;\n  parse: (data: string) => any = JSON.parse;\n\n  get type() {\n    return ConnectionType.Data;\n  }\n\n  private _buffer: any[] = [];\n  private _bufferSize = 0;\n  private _buffering = false;\n  private _chunkedData: {\n    [id: number]: {\n      data: Blob[],\n      count: number,\n      total: number\n    }\n  } = {};\n\n  private _dc: RTCDataChannel;\n  private _encodingQueue = new EncodingQueue();\n\n  get dataChannel(): RTCDataChannel {\n    return this._dc;\n  }\n\n  get bufferSize(): number { return this._bufferSize; }\n\n  constructor(peerId: string, provider: Peer, options: any) {\n    super(peerId, provider, options);\n\n    this.connectionId =\n      this.options.connectionId || DataConnection.ID_PREFIX + util.randomToken();\n\n    this.label = this.options.label || this.connectionId;\n    this.serialization = this.options.serialization || SerializationType.Binary;\n    this.reliable = !!this.options.reliable;\n\n    this._encodingQueue.on('done', (ab: ArrayBuffer) => {\n      this._bufferedSend(ab);\n    });\n\n    this._encodingQueue.on('error', () => {\n      logger.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`);\n      this.close();\n    });\n\n    this._negotiator = new Negotiator(this);\n\n    this._negotiator.startConnection(\n      this.options._payload || {\n        originator: true\n      }\n    );\n  }\n\n  /** Called by the Negotiator when the DataChannel is ready. */\n  initialize(dc: RTCDataChannel): void {\n    this._dc = dc;\n    this._configureDataChannel();\n  }\n\n  private _configureDataChannel(): void {\n    if (!util.supports.binaryBlob || util.supports.reliable) {\n      this.dataChannel.binaryType = \"arraybuffer\";\n    }\n\n    this.dataChannel.onopen = () => {\n      logger.log(`DC#${this.connectionId} dc connection success`);\n      this._open = true;\n      this.emit(ConnectionEventType.Open);\n    };\n\n    this.dataChannel.onmessage = (e) => {\n      logger.log(`DC#${this.connectionId} dc onmessage:`, e.data);\n      this._handleDataMessage(e);\n    };\n\n    this.dataChannel.onclose = () => {\n      logger.log(`DC#${this.connectionId} dc closed for:`, this.peer);\n      this.close();\n    };\n  }\n\n  // Handles a DataChannel message.\n  private _handleDataMessage({ data }: { data: Blob | ArrayBuffer | string }): void {\n    const datatype = data.constructor;\n\n    const isBinarySerialization = this.serialization === SerializationType.Binary ||\n      this.serialization === SerializationType.BinaryUTF8;\n\n    let deserializedData: any = data;\n\n    if (isBinarySerialization) {\n      if (datatype === Blob) {\n        // Datatype should never be blob\n        util.blobToArrayBuffer(data as Blob, (ab) => {\n          const unpackedData = util.unpack(ab);\n          this.emit(ConnectionEventType.Data, unpackedData);\n        });\n        return;\n      } else if (datatype === ArrayBuffer) {\n        deserializedData = util.unpack(data as ArrayBuffer);\n      } else if (datatype === String) {\n        // String fallback for binary data for browsers that don't support binary yet\n        const ab = util.binaryStringToArrayBuffer(data as string);\n        deserializedData = util.unpack(ab);\n      }\n    } else if (this.serialization === SerializationType.JSON) {\n      deserializedData = this.parse(data as string);\n    }\n\n    // Check if we've chunked--if so, piece things back together.\n    // We're guaranteed that this isn't 0.\n    if (deserializedData.__peerData) {\n      this._handleChunk(deserializedData);\n      return;\n    }\n\n    super.emit(ConnectionEventType.Data, deserializedData);\n  }\n\n  private _handleChunk(data: { __peerData: number, n: number, total: number, data: Blob }): void {\n    const id = data.__peerData;\n    const chunkInfo = this._chunkedData[id] || {\n      data: [],\n      count: 0,\n      total: data.total\n    };\n\n    chunkInfo.data[data.n] = data.data;\n    chunkInfo.count++;\n    this._chunkedData[id] = chunkInfo;\n\n    if (chunkInfo.total === chunkInfo.count) {\n      // Clean up before making the recursive call to `_handleDataMessage`.\n      delete this._chunkedData[id];\n\n      // We've received all the chunks--time to construct the complete data.\n      const data = new Blob(chunkInfo.data);\n      this._handleDataMessage({ data });\n    }\n  }\n\n  /**\n   * Exposed functionality for users.\n   */\n\n  /** Allows user to close connection. */\n  close(): void {\n    this._buffer = [];\n    this._bufferSize = 0;\n    this._chunkedData = {};\n\n    if (this._negotiator) {\n      this._negotiator.cleanup();\n      this._negotiator = null;\n    }\n\n    if (this.provider) {\n      this.provider._removeConnection(this);\n\n      this.provider = null;\n    }\n\n    if (this.dataChannel) {\n      this.dataChannel.onopen = null;\n      this.dataChannel.onmessage = null;\n      this.dataChannel.onclose = null;\n      this._dc = null;\n    }\n\n    if (this._encodingQueue) {\n      this._encodingQueue.destroy();\n      this._encodingQueue.removeAllListeners();\n      this._encodingQueue = null;\n    }\n\n    if (!this.open) {\n      return;\n    }\n\n    this._open = false;\n\n    super.emit(ConnectionEventType.Close);\n  }\n\n  /** Allows user to send data. */\n  send(data: any, chunked?: boolean): void {\n    if (!this.open) {\n      super.emit(\n        ConnectionEventType.Error,\n        new Error(\n          \"Connection is not open. You should listen for the `open` event before sending messages.\"\n        )\n      );\n      return;\n    }\n\n    if (this.serialization === SerializationType.JSON) {\n      this._bufferedSend(this.stringify(data));\n    } else if (\n      this.serialization === SerializationType.Binary ||\n      this.serialization === SerializationType.BinaryUTF8\n    ) {\n      const blob = util.pack(data);\n\n      if (!chunked && blob.size > util.chunkedMTU) {\n        this._sendChunks(blob);\n        return;\n      }\n\n      if (!util.supports.binaryBlob) {\n        // We only do this if we really need to (e.g. blobs are not supported),\n        // because this conversion is costly.\n        this._encodingQueue.enque(blob);\n      } else {\n        this._bufferedSend(blob);\n      }\n    } else {\n      this._bufferedSend(data);\n    }\n  }\n\n  private _bufferedSend(msg: any): void {\n    if (this._buffering || !this._trySend(msg)) {\n      this._buffer.push(msg);\n      this._bufferSize = this._buffer.length;\n    }\n  }\n\n  // Returns true if the send succeeds.\n  private _trySend(msg: any): boolean {\n    if (!this.open) {\n      return false;\n    }\n\n    if (this.dataChannel.bufferedAmount > DataConnection.MAX_BUFFERED_AMOUNT) {\n      this._buffering = true;\n      setTimeout(() => {\n        this._buffering = false;\n        this._tryBuffer();\n      }, 50);\n\n      return false;\n    }\n\n    try {\n      this.dataChannel.send(msg);\n    } catch (e) {\n      logger.error(`DC#:${this.connectionId} Error when sending:`, e);\n      this._buffering = true;\n\n      this.close();\n\n      return false;\n    }\n\n    return true;\n  }\n\n  // Try to send the first message in the buffer.\n  private _tryBuffer(): void {\n    if (!this.open) {\n      return;\n    }\n\n    if (this._buffer.length === 0) {\n      return;\n    }\n\n    const msg = this._buffer[0];\n\n    if (this._trySend(msg)) {\n      this._buffer.shift();\n      this._bufferSize = this._buffer.length;\n      this._tryBuffer();\n    }\n  }\n\n  private _sendChunks(blob: Blob): void {\n    const blobs = util.chunk(blob);\n    logger.log(`DC#${this.connectionId} Try to send ${blobs.length} chunks...`);\n\n    for (let blob of blobs) {\n      this.send(blob, true);\n    }\n  }\n\n  handleMessage(message: ServerMessage): void {\n    const payload = message.payload;\n\n    switch (message.type) {\n      case ServerMessageType.Answer:\n        this._negotiator.handleSDP(message.type, payload.sdp);\n        break;\n      case ServerMessageType.Candidate:\n        this._negotiator.handleCandidate(payload.candidate);\n        break;\n      default:\n        logger.warn(\n          \"Unrecognized message type:\",\n          message.type,\n          \"from peer:\",\n          this.peer\n        );\n        break;\n    }\n  }\n}\n","import { util } from \"./util\";\nimport logger from \"./logger\";\n\nexport class API {\n  constructor(private readonly _options: any) { }\n\n  private _buildUrl(method: string): string {\n    const protocol = this._options.secure ? \"https://\" : \"http://\";\n    let url =\n      protocol +\n      this._options.host +\n      \":\" +\n      this._options.port +\n      this._options.path +\n      this._options.key +\n      \"/\" +\n      method;\n    const queryString = \"?ts=\" + new Date().getTime() + \"\" + Math.random();\n    url += queryString;\n\n    return url;\n  }\n\n  /** Get a unique ID from the server via XHR and initialize with it. */\n  async retrieveId(): Promise<string> {\n    const url = this._buildUrl(\"id\");\n\n    try {\n      const response = await fetch(url);\n\n      if (response.status !== 200) {\n        throw new Error(`Error. Status:${response.status}`);\n      }\n\n      return response.text();\n    } catch (error) {\n      logger.error(\"Error retrieving ID\", error);\n\n      let pathError = \"\";\n\n      if (\n        this._options.path === \"/\" &&\n        this._options.host !== util.CLOUD_HOST\n      ) {\n        pathError =\n          \" If you passed in a `path` to your self-hosted PeerServer, \" +\n          \"you'll also need to pass in that same path when creating a new \" +\n          \"Peer.\";\n      }\n\n      throw new Error(\"Could not get an ID from the server.\" + pathError);\n    }\n  }\n\n  /** @deprecated */\n  async listAllPeers(): Promise<any[]> {\n    const url = this._buildUrl(\"peers\");\n\n    try {\n      const response = await fetch(url);\n\n      if (response.status !== 200) {\n        if (response.status === 401) {\n          let helpfulError = \"\";\n\n          if (this._options.host === util.CLOUD_HOST) {\n            helpfulError =\n              \"It looks like you're using the cloud server. You can email \" +\n              \"team@peerjs.com to enable peer listing for your API key.\";\n          } else {\n            helpfulError =\n              \"You need to enable `allow_discovery` on your self-hosted \" +\n              \"PeerServer to use this feature.\";\n          }\n\n          throw new Error(\"It doesn't look like you have permission to list peers IDs. \" +\n            helpfulError);\n        }\n\n        throw new Error(`Error. Status:${response.status}`);\n      }\n\n      return response.json();\n    } catch (error) {\n      logger.error(\"Error retrieving list peers\", error);\n\n      throw new Error(\"Could not get list peers from the server.\" + error);\n    }\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\nimport { util } from \"./util\";\nimport logger, { LogLevel } from \"./logger\";\nimport { Socket } from \"./socket\";\nimport { MediaConnection } from \"./mediaconnection\";\nimport { DataConnection } from \"./dataconnection\";\nimport {\n  ConnectionType,\n  PeerErrorType,\n  PeerEventType,\n  SocketEventType,\n  ServerMessageType\n} from \"./enums\";\nimport { BaseConnection } from \"./baseconnection\";\nimport { ServerMessage } from \"./servermessage\";\nimport { API } from \"./api\";\nimport { PeerConnectOption, PeerJSOption } from \"..\";\n\nclass PeerOptions implements PeerJSOption {\n  debug?: LogLevel; // 1: Errors, 2: Warnings, 3: All logs\n  host?: string;\n  port?: number;\n  path?: string;\n  key?: string;\n  token?: string;\n  config?: any;\n  secure?: boolean;\n  pingInterval?: number;\n  logFunction?: (logLevel: LogLevel, ...rest: any[]) => void;\n}\n\n/**\n * A peer who can initiate connections with other peers.\n */\nexport class Peer extends EventEmitter {\n  private static readonly DEFAULT_KEY = \"peerjs\";\n\n  private readonly _options: PeerOptions;\n  private readonly _api: API;\n  private readonly _socket: Socket;\n\n  private _id: string | null = null;\n  private _lastServerId: string | null = null;\n\n  // States.\n  private _destroyed = false; // Connections have been killed\n  private _disconnected = false; // Connection to PeerServer killed but P2P connections still active\n  private _open = false; // Sockets and such are not yet open.\n  private readonly _connections: Map<string, BaseConnection[]> = new Map(); // All connections for this peer.\n  private readonly _lostMessages: Map<string, ServerMessage[]> = new Map(); // src => [list of messages]\n\n  get id() {\n    return this._id;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  get open() {\n    return this._open;\n  }\n\n  get socket() {\n    return this._socket;\n  }\n\n  /**\n   * @deprecated \n   * Return type will change from Object to Map<string,[]> \n   */\n  get connections(): Object {\n    const plainConnections = Object.create(null);\n\n    for (let [k, v] of this._connections) {\n      plainConnections[k] = v;\n    }\n\n    return plainConnections;\n  }\n\n  get destroyed() {\n    return this._destroyed;\n  }\n  get disconnected() {\n    return this._disconnected;\n  }\n\n  constructor(id?: string | PeerOptions, options?: PeerOptions) {\n    super();\n\n    let userId: string | undefined;\n\n    // Deal with overloading\n    if (id && id.constructor == Object) {\n      options = id as PeerOptions;\n    } else if (id) {\n      userId = id.toString();\n    }\n\n    // Configurize options\n    options = {\n      debug: 0, // 1: Errors, 2: Warnings, 3: All logs\n      host: util.CLOUD_HOST,\n      port: util.CLOUD_PORT,\n      path: \"/\",\n      key: Peer.DEFAULT_KEY,\n      token: util.randomToken(),\n      config: util.defaultConfig,\n      ...options\n    };\n    this._options = options;\n\n    // Detect relative URL host.\n    if (this._options.host === \"/\") {\n      this._options.host = window.location.hostname;\n    }\n\n    // Set path correctly.\n    if (this._options.path) {\n      if (this._options.path[0] !== \"/\") {\n        this._options.path = \"/\" + this._options.path;\n      }\n      if (this._options.path[this._options.path.length - 1] !== \"/\") {\n        this._options.path += \"/\";\n      }\n    }\n\n    // Set whether we use SSL to same as current host\n    if (this._options.secure === undefined && this._options.host !== util.CLOUD_HOST) {\n      this._options.secure = util.isSecure();\n    } else if (this._options.host == util.CLOUD_HOST) {\n      this._options.secure = true;\n    }\n    // Set a custom log function if present\n    if (this._options.logFunction) {\n      logger.setLogFunction(this._options.logFunction);\n    }\n\n    logger.logLevel = this._options.debug || 0;\n\n    this._api = new API(options);\n    this._socket = this._createServerConnection();\n\n    // Sanity checks\n    // Ensure WebRTC supported\n    if (!util.supports.audioVideo && !util.supports.data) {\n      this._delayedAbort(\n        PeerErrorType.BrowserIncompatible,\n        \"The current browser does not support WebRTC\"\n      );\n      return;\n    }\n\n    // Ensure alphanumeric id\n    if (!!userId && !util.validateId(userId)) {\n      this._delayedAbort(PeerErrorType.InvalidID, `ID \"${userId}\" is invalid`);\n      return;\n    }\n\n    if (userId) {\n      this._initialize(userId);\n    } else {\n      this._api.retrieveId()\n        .then(id => this._initialize(id))\n        .catch(error => this._abort(PeerErrorType.ServerError, error));\n    }\n  }\n\n  private _createServerConnection(): Socket {\n    const socket = new Socket(\n      this._options.secure,\n      this._options.host!,\n      this._options.port!,\n      this._options.path!,\n      this._options.key!,\n      this._options.pingInterval\n    );\n\n    socket.on(SocketEventType.Message, (data: ServerMessage) => {\n      this._handleMessage(data);\n    });\n\n    socket.on(SocketEventType.Error, (error: string) => {\n      this._abort(PeerErrorType.SocketError, error);\n    });\n\n    socket.on(SocketEventType.Disconnected, () => {\n      if (this.disconnected) {\n        return;\n      }\n\n      this.emitError(PeerErrorType.Network, \"Lost connection to server.\");\n      this.disconnect();\n    });\n\n    socket.on(SocketEventType.Close, () => {\n      if (this.disconnected) {\n        return;\n      }\n\n      this._abort(PeerErrorType.SocketClosed, \"Underlying socket is already closed.\");\n    });\n\n    return socket;\n  }\n\n  /** Initialize a connection with the server. */\n  private _initialize(id: string): void {\n    this._id = id;\n    this.socket.start(id, this._options.token!);\n  }\n\n  /** Handles messages from the server. */\n  private _handleMessage(message: ServerMessage): void {\n    const type = message.type;\n    const payload = message.payload;\n    const peerId = message.src;\n\n    switch (type) {\n      case ServerMessageType.Open: // The connection to the server is open.\n        this._lastServerId = this.id;\n        this._open = true;\n        this.emit(PeerEventType.Open, this.id);\n        break;\n      case ServerMessageType.Error: // Server error.\n        this._abort(PeerErrorType.ServerError, payload.msg);\n        break;\n      case ServerMessageType.IdTaken: // The selected ID is taken.\n        this._abort(PeerErrorType.UnavailableID, `ID \"${this.id}\" is taken`);\n        break;\n      case ServerMessageType.InvalidKey: // The given API key cannot be found.\n        this._abort(PeerErrorType.InvalidKey, `API KEY \"${this._options.key}\" is invalid`);\n        break;\n      case ServerMessageType.Leave: // Another peer has closed its connection to this peer.\n        logger.log(`Received leave message from ${peerId}`);\n        this._cleanupPeer(peerId);\n        this._connections.delete(peerId);\n        break;\n      case ServerMessageType.Expire: // The offer sent to a peer has expired without response.\n        this.emitError(PeerErrorType.PeerUnavailable, `Could not connect to peer ${peerId}`);\n        break;\n      case ServerMessageType.Offer: {\n        // we should consider switching this to CALL/CONNECT, but this is the least breaking option.\n        const connectionId = payload.connectionId;\n        let connection = this.getConnection(peerId, connectionId);\n\n        if (connection) {\n          connection.close();\n          logger.warn(`Offer received for existing Connection ID:${connectionId}`);\n        }\n\n        // Create a new connection.\n        if (payload.type === ConnectionType.Media) {\n          connection = new MediaConnection(peerId, this, {\n            connectionId: connectionId,\n            _payload: payload,\n            metadata: payload.metadata\n          });\n          this._addConnection(peerId, connection);\n          this.emit(PeerEventType.Call, connection);\n        } else if (payload.type === ConnectionType.Data) {\n          connection = new DataConnection(peerId, this, {\n            connectionId: connectionId,\n            _payload: payload,\n            metadata: payload.metadata,\n            label: payload.label,\n            serialization: payload.serialization,\n            reliable: payload.reliable\n          });\n          this._addConnection(peerId, connection);\n          this.emit(PeerEventType.Connection, connection);\n        } else {\n          logger.warn(`Received malformed connection type:${payload.type}`);\n          return;\n        }\n\n        // Find messages.\n        const messages = this._getMessages(connectionId);\n        for (let message of messages) {\n          connection.handleMessage(message);\n        }\n\n        break;\n      }\n      default: {\n        if (!payload) {\n          logger.warn(`You received a malformed message from ${peerId} of type ${type}`);\n          return;\n        }\n\n        const connectionId = payload.connectionId;\n        const connection = this.getConnection(peerId, connectionId);\n\n        if (connection && connection.peerConnection) {\n          // Pass it on.\n          connection.handleMessage(message);\n        } else if (connectionId) {\n          // Store for possible later use\n          this._storeMessage(connectionId, message);\n        } else {\n          logger.warn(\"You received an unrecognized message:\", message);\n        }\n        break;\n      }\n    }\n  }\n\n  /** Stores messages without a set up connection, to be claimed later. */\n  private _storeMessage(connectionId: string, message: ServerMessage): void {\n    if (!this._lostMessages.has(connectionId)) {\n      this._lostMessages.set(connectionId, []);\n    }\n\n    this._lostMessages.get(connectionId).push(message);\n  }\n\n  /** Retrieve messages from lost message store */\n  //TODO Change it to private\n  public _getMessages(connectionId: string): ServerMessage[] {\n    const messages = this._lostMessages.get(connectionId);\n\n    if (messages) {\n      this._lostMessages.delete(connectionId);\n      return messages;\n    }\n\n    return [];\n  }\n\n  /**\n   * Returns a DataConnection to the specified peer. See documentation for a\n   * complete list of options.\n   */\n  connect(peer: string, options: PeerConnectOption = {}): DataConnection {\n    if (this.disconnected) {\n      logger.warn(\n        \"You cannot connect to a new Peer because you called \" +\n        \".disconnect() on this Peer and ended your connection with the \" +\n        \"server. You can create a new Peer to reconnect, or call reconnect \" +\n        \"on this peer if you believe its ID to still be available.\"\n      );\n      this.emitError(\n        PeerErrorType.Disconnected,\n        \"Cannot connect to new Peer after disconnecting from server.\"\n      );\n      return;\n    }\n\n    const dataConnection = new DataConnection(peer, this, options);\n    this._addConnection(peer, dataConnection);\n    return dataConnection;\n  }\n\n  /**\n   * Returns a MediaConnection to the specified peer. See documentation for a\n   * complete list of options.\n   */\n  call(peer: string, stream: MediaStream, options: any = {}): MediaConnection {\n    if (this.disconnected) {\n      logger.warn(\n        \"You cannot connect to a new Peer because you called \" +\n        \".disconnect() on this Peer and ended your connection with the \" +\n        \"server. You can create a new Peer to reconnect.\"\n      );\n      this.emitError(\n        PeerErrorType.Disconnected,\n        \"Cannot connect to new Peer after disconnecting from server.\"\n      );\n      return;\n    }\n\n    if (!stream) {\n      logger.error(\n        \"To call a peer, you must provide a stream from your browser's `getUserMedia`.\"\n      );\n      return;\n    }\n\n    options._stream = stream;\n\n    const mediaConnection = new MediaConnection(peer, this, options);\n    this._addConnection(peer, mediaConnection);\n    return mediaConnection;\n  }\n\n  /** Add a data/media connection to this peer. */\n  private _addConnection(peerId: string, connection: BaseConnection): void {\n    logger.log(`add connection ${connection.type}:${connection.connectionId} to peerId:${peerId}`);\n\n    if (!this._connections.has(peerId)) {\n      this._connections.set(peerId, []);\n    }\n    this._connections.get(peerId).push(connection);\n  }\n\n  //TODO should be private\n  _removeConnection(connection: BaseConnection): void {\n    const connections = this._connections.get(connection.peer);\n\n    if (connections) {\n      const index = connections.indexOf(connection);\n\n      if (index !== -1) {\n        connections.splice(index, 1);\n      }\n    }\n\n    //remove from lost messages\n    this._lostMessages.delete(connection.connectionId);\n  }\n\n  /** Retrieve a data/media connection for this peer. */\n  getConnection(peerId: string, connectionId: string): null | BaseConnection {\n    const connections = this._connections.get(peerId);\n    if (!connections) {\n      return null;\n    }\n\n    for (let connection of connections) {\n      if (connection.connectionId === connectionId) {\n        return connection;\n      }\n    }\n\n    return null;\n  }\n\n  private _delayedAbort(type: PeerErrorType, message: string | Error): void {\n    setTimeout(() => {\n      this._abort(type, message);\n    }, 0);\n  }\n\n  /**\n   * Emits an error message and destroys the Peer.\n   * The Peer is not destroyed if it's in a disconnected state, in which case\n   * it retains its disconnected state and its existing connections.\n   */\n  private _abort(type: PeerErrorType, message: string | Error): void {\n    logger.error(\"Aborting!\");\n\n    this.emitError(type, message);\n\n    if (!this._lastServerId) {\n      this.destroy();\n    } else {\n      this.disconnect();\n    }\n  }\n\n  /** Emits a typed error message. */\n  emitError(type: PeerErrorType, err: string | Error): void {\n    logger.error(\"Error:\", err);\n\n    let error: Error & { type?: PeerErrorType };\n\n    if (typeof err === \"string\") {\n      error = new Error(err);\n    } else {\n      error = err as Error;\n    }\n\n    error.type = type;\n\n    this.emit(PeerEventType.Error, error);\n  }\n\n  /**\n   * Destroys the Peer: closes all active connections as well as the connection\n   *  to the server.\n   * Warning: The peer can no longer create or accept connections after being\n   *  destroyed.\n   */\n  destroy(): void {\n    if (this.destroyed) {\n      return;\n    }\n\n    logger.log(`Destroy peer with ID:${this.id}`);\n\n    this.disconnect();\n    this._cleanup();\n\n    this._destroyed = true;\n\n    this.emit(PeerEventType.Close);\n  }\n\n  /** Disconnects every connection on this peer. */\n  private _cleanup(): void {\n    for (let peerId of this._connections.keys()) {\n      this._cleanupPeer(peerId);\n      this._connections.delete(peerId);\n    }\n\n    this.socket.removeAllListeners();\n  }\n\n  /** Closes all connections to this peer. */\n  private _cleanupPeer(peerId: string): void {\n    const connections = this._connections.get(peerId);\n\n    if (!connections) return;\n\n    for (let connection of connections) {\n      connection.close();\n    }\n  }\n\n  /**\n   * Disconnects the Peer's connection to the PeerServer. Does not close any\n   *  active connections.\n   * Warning: The peer can no longer create or accept connections after being\n   *  disconnected. It also cannot reconnect to the server.\n   */\n  disconnect(): void {\n    if (this.disconnected) {\n      return;\n    }\n\n    const currentId = this.id;\n\n    logger.log(`Disconnect peer with ID:${currentId}`);\n\n    this._disconnected = true;\n    this._open = false;\n\n    this.socket.close();\n\n    this._lastServerId = currentId;\n    this._id = null;\n\n    this.emit(PeerEventType.Disconnected, currentId);\n  }\n\n  /** Attempts to reconnect with the same ID. */\n  reconnect(): void {\n    if (this.disconnected && !this.destroyed) {\n      logger.log(`Attempting reconnection to server with ID ${this._lastServerId}`);\n      this._disconnected = false;\n      this._initialize(this._lastServerId!);\n    } else if (this.destroyed) {\n      throw new Error(\"This peer cannot reconnect to the server. It has already been destroyed.\");\n    } else if (!this.disconnected && !this.open) {\n      // Do nothing. We're still connecting the first time.\n      logger.error(\"In a hurry? We're still trying to make the initial connection!\");\n    } else {\n      throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`);\n    }\n  }\n\n  /**\n   * Get a list of available peer IDs. If you're running your own server, you'll\n   * want to set allow_discovery: true in the PeerServer options. If you're using\n   * the cloud server, email team@peerjs.com to get the functionality enabled for\n   * your key.\n   */\n  listAllPeers(cb = (_: any[]) => { }): void {\n    this._api.listAllPeers()\n      .then(peers => cb(peers))\n      .catch(error => this._abort(PeerErrorType.ServerError, error));\n  }\n}\n","import { util } from \"./util\";\nimport { Peer } from \"./peer\";\n\nexport const peerjs = {\n  Peer,\n  util\n};\n\nexport default Peer;\n\n(<any>window).peerjs = peerjs;\n/** @deprecated Should use peerjs namespace */\n(<any>window).Peer = Peer;\n","import { Chessground } from \"chessground\";\nimport { initialize as initializeHost } from \"./host\";\nimport { initialize as initializeGuest, join } from \"./guest\";\nimport Peer from \"peerjs\";\n\nif (module.hot) {\n  module.hot.accept();\n}\nlet path = location.pathname.substr(1);\n\nif (path) {\n  initializeGuest();\n  setTimeout(() => {\n    join(path);\n  }, 1000);\n} else {\n  initializeHost();\n}\n\nconst config = { fen: \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR\" };\nconst board = document.getElementById(\"board\");\nconst ground = Chessground(board, config);\n"]}